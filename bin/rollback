#!/usr/bin/env bash

echo "Insert commit hash" read commitHash
branch=$(git branch --show-current)

if [ -z "$commitHash" ]; then
  echo "No commit hash supplied"
  exit
fi


git checkout $branch
git reset --hard $commitHash
# git push -f origin $branch
git checkout -b patch
git add -A
git commit -am "hotfix patch ${branch}@${commitHash}" 2> /dev/null
git checkout $branch
git checkout patch .
git add -A
git commit -am "hotfix patch ${branch}@${commitHash}" 2> /dev/null
git push origin $branch