<!DOCTYPE html><html class="appearance-auto" lang="en"><head><meta charset="UTF-8"><title>FTP Backup File Recursively PHP Script</title><meta name="description" content="FTP Backup File Recursively PHP Script FTP FILE BACKUP RECURSIVELY Auto Zipping All files Inside DirectoryAuto Send Zipped files to FTP at onceAuto Cleaning sent Zipped files on local storage Auto Zipping All files Inside Directory Auto Send Zipped files to FTP at once Auto Cleaning sent Zipped fil"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><meta name="keywords" content="the legend of neverland, genshin impact, games, how to, tips and tricks, php, javascript, jquery, mysql, seo, e-commerce"><meta name="image" content="https://i.ytimg.com/vi/UJ2O4SRxwkA/maxresdefault.jpg"><meta name="original-source" content="https://www.webmanajemen.com/2018/04/ftp-backup-file-recursively-php-script.html"><link rel="canonical" href="https://www.webmanajemen.com/2018/04/ftp-backup-file-recursively-php-script.html"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:title" content="FTP Backup File Recursively PHP Script"><meta property="og:description" content="FTP Backup File Recursively PHP Script FTP FILE BACKUP RECURSIVELY Auto Zipping All files Inside DirectoryAuto Send Zipped files to FTP at onceAuto Cleaning sent Zipped files on local storage Auto Zipping All files Inside Directory Auto Send Zipped files to FTP at once Auto Cleaning sent Zipped fil"><meta property="og:url" content="https://www.webmanajemen.com/2018/04/ftp-backup-file-recursively-php-script.html"><meta property="og:site_name" content="WMI"><meta property="og:image" content="https://i.ytimg.com/vi/UJ2O4SRxwkA/maxresdefault.jpg"><meta name="twitter:title" content="FTP Backup File Recursively PHP Script"><meta name="twitter:image" content="https://i.ytimg.com/vi/UJ2O4SRxwkA/maxresdefault.jpg"><meta name="twitter:description" content="FTP Backup File Recursively PHP Script FTP FILE BACKUP RECURSIVELY Auto Zipping All files Inside DirectoryAuto Send Zipped files to FTP at onceAuto Cleaning sent Zipped files on local storage Auto Zipping All files Inside Directory Auto Send Zipped files to FTP at once Auto Cleaning sent Zipped fil"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@WebsiteName">
<link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><link rel="stylesheet" href="/style/post.css"><link rel="stylesheet" href="/style/themes/highlight-theme-light.css"><link rel="stylesheet" href="/style/common/jquery.fancybox.min.css"><meta name="description" content="FTP FILE BACKUP RECURSIVELY Auto Zipping All files Inside DirectoryAuto Send Zipped files to FTP at onceAuto Cleaning sent Zipped files on local storage&amp;lt;?phpdefine(&quot;user&quot;, &quot;username_ftp&quot;, true); //Your FTP Usernamedefine(&quot;password&quot;, &quot;password_ftp&quot;, true); //Your FTP Passworddefine(&quot;host&quot;, &quot;host_ftp&quot;, true); //eg: ftp.drivehq.comdefine(&quot;port&quot;, &quot;21&quot;, true.."><meta name="generator" content="Hexo 6.3.0">

<script type="application/ld+json" id="hexo-seo-schema">[
  {
    "@context": "http://schema.org",
    "@type": "WebSite",
    "url": "https://www.webmanajemen.com",
    "potentialAction": {
      "@type": "SearchAction",
      "@id": "https://developers.google.com/search/docs/advanced/structured-data/sitelinks-searchbox",
      "target": "https://www.webmanajemen.com/search?q={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  },
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "@id": "https://developers.google.com/search/docs/advanced/structured-data/breadcrumb",
    "name": "breadcrumb",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "item": "https://www.webmanajemen.com/tags/script/",
        "name": "script"
      },
      {
        "@type": "ListItem",
        "position": 2,
        "item": "https://www.webmanajemen.com/tags/php/",
        "name": "php"
      },
      {
        "@type": "ListItem",
        "position": 3,
        "item": "https://www.webmanajemen.com/tags/hosting/",
        "name": "hosting"
      },
      {
        "@type": "ListItem",
        "position": 4,
        "item": "https://www.webmanajemen.com/categories/uncategorized/",
        "name": "uncategorized"
      },
      {
        "@type": "ListItem",
        "position": 5,
        "item": "https://www.webmanajemen.com/2018/04/ftp-backup-file-recursively-php-script.html",
        "name": "FTP Backup File Recursively PHP Script"
      }
    ]
  },
  {
    "@context": "https://schema.org/",
    "@type": "Article",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://www.webmanajemen.com/2018/04/ftp-backup-file-recursively-php-script.html"
    },
    "headline": "FTP Backup File Recursively PHP Script",
    "description": "FTP Backup File Recursively PHP Script FTP FILE BACKUP RECURSIVELY Auto Zipping All files Inside DirectoryAuto Send Zipped files to FTP at onceAuto Cleaning sent Zipped files on local storage Auto Zipping All files Inside Directory Auto Send Zipped files to FTP at once Auto Cleaning sent Zipped fil",
    "image": {
      "@type": "ImageObject",
      "url": "https://i.ytimg.com/vi/UJ2O4SRxwkA/maxresdefault.jpg",
      "width": "250",
      "height": "250"
    },
    "author": {
      "@type": "Person",
      "name": {
        "nick": "Dimas Lanjaka 2",
        "link": "https://www.blogger.com/profile/08197822797622284515",
        "email": "noreply@blogger.com"
      }
    },
    "publisher": {
      "@type": "Organization",
      "name": {
        "nick": "Dimas Lanjaka 2",
        "link": "https://www.blogger.com/profile/08197822797622284515",
        "email": "noreply@blogger.com"
      },
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.webmanajemen.com/2022/01/04/frp-redmi-go-tiare-fix/Bypass%20FRP%20Redmi%20Go%20Tiare%20M1903C3GG.jpg",
        "width": "125",
        "height": "125"
      }
    },
    "datePublished": "2018-04-05T16:33:00+07:00",
    "dateModified": "2018-04-05T16:34:19+07:00"
  }
]</script>

<link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml"><link id="rss-site-url" type="application/rss+xml" rel="alternate" href="https://www.webmanajemen.com/rss.xml"><link id="atom-site-url" type="application/atom+xml" rel="alternate" href="https://www.webmanajemen.com/atom.xml"></head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">WMI</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">FTP Backup File Recursively PHP Script</p><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">Click back to the top</p></div></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">Home</a></h3><h3 class="is-inline-block"><a href="/about">About</a></h3><h3 class="is-inline-block"><a href="/archives">Archives</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">Home</a></h3><h3 class="is-inline-block"><a href="/about">About</a></h3><h3 class="is-inline-block"><a href="/archives">Archives</a></h3></header><main><main class="container is-max-widescreen content section post-page pt-4 px-4"><div class="columns is-flex-desktop is-justify-content-center is-flex-direction-row-reverse"><div class="column is-3 is-hidden-mobile"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">FTP FILE BACKUP RECURSIVELY</span></a></li></ol></div><div class="column is-9"><header class="my-4"><a href="/tags/script"><i class="tag post-item-tag">script</i></a><a href="/tags/php"><i class="tag post-item-tag">php</i></a><a href="/tags/hosting"><i class="tag post-item-tag">hosting</i></a></header><h1 class="mt-0 mb-1 is-family-serif" id="postTitle">FTP Backup File Recursively PHP Script</h1><time class="has-text-grey" datetime="2018-04-05T09:33:00.000Z">2018-04-05</time><article class="mt-2 post-content"><center><h2>FTP FILE BACKUP RECURSIVELY</h2><div><img src="https://i.ytimg.com/vi/UJ2O4SRxwkA/maxresdefault.jpg" title="FTP Backup File Recursively PHP Script" alt="FTP Backup File Recursively PHP Script" itemprop="image"></div></center> <ol><li>Auto Zipping All files Inside Directory</li><li>Auto Send Zipped files to FTP at once</li><li>Auto Cleaning sent Zipped files on local storage</li></ol><pre rel="copyright script"><br>&lt;?php<br>define("user", "username_ftp", true); //Your FTP Username<br>define("password", "password_ftp", true); //Your FTP Password<br>define("host", "host_ftp", true); //eg: ftp.drivehq.com<br>define("port", "21", true); //default ftp port is 21<br><br>/*** Script_By_Dimas_Lanjaka ***/<br>if (defined("user") &amp;&amp; defined("password") &amp;&amp; defined("host")){<br>// Get real path for our folder// Get real path fo <br>$rootPath = realpath(__DIR__);<br>//array_map('unlink', glob("$rootPath*.zip"));<br><br>// Initialize archive object<br>$zip = new ZipArchive();<br>$cdate = str_replace('.', '-', $_SERVER['HTTP_HOST']);<br>$zip-&gt;open($cdate . '.zip', ZipArchive::CREATE | ZipArchive::OVERWRITE);<br><br>// Create recursive directory iterator<br>/** @var SplFileInfo[] $files */<br>$files = new RecursiveIteratorIterator(<br>    new RecursiveDirectoryIterator($rootPath),<br>    RecursiveIteratorIterator::LEAVES_ONLY<br>);<br><br>foreach ($files as $name =&gt; $file)<br>{<br>    // Skip directories (they would be added automatically)<br>    if (!$file-&gt;isDir())<br>    {<br>        // Get real and relative path for current file<br>        $filePath = $file-&gt;getRealPath();<br>        $relativePath = substr($filePath, strlen($rootPath) + 1);<br><br>        // Add current file to archive<br>        $zip-&gt;addFile($filePath, $relativePath);<br>    }<br>}<br><br>// Zip archive will be created only after closing object<br>$zip-&gt;close();<br><br>function sendfile($file){<br>$host = host;<br>$port = port;<br>$timeout = "60";<br>$user = user;<br>$pass = password;<br>$dest_file = $file;<br>$source_file = $file;<br>$ftp = ftp_connect($host,$port,$timeout);<br>ftp_login($ftp,$user,$pass);<br>ftp_pasv($ftp, true);<br><br>//if (ftp_delete($ftp, $file)) {<br>$ret = ftp_nb_put($ftp, $dest_file, $source_file, FTP_BINARY, FTP_AUTORESUME);<br>//}<br><br>while (FTP_MOREDATA == $ret)<br>    {<br>        // display progress bar, or someting<br>        $ret = ftp_nb_continue($ftp);<br>    }<br>}<br><br>function list_zipfiles($mydirectory) {<br><br>    // directory we want to scan<br>    $dircontents = scandir($mydirectory);<br><br>    // list the contents<br>    echo '&lt;ul&gt;';<br>    foreach ($dircontents as $file) {<br>        $extension = pathinfo($file, PATHINFO_EXTENSION);<br>        if ($extension == 'zip') {<br>            echo "&lt;center&gt;&lt;li&gt;$file Backup Successfully&lt;/li&gt;&lt;/center&gt;";<br>sendfile($file);<br>unlink($file);<br>        }<br>    }<br>    echo '&lt;/ul&gt;';<br>}<br>?&gt;<br>&lt;!DOCTYPE HTML&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>&lt;title&gt;Backup File Recursively&lt;/title&gt;<br>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;h6 class="header1"&gt;PRODUCTION&lt;/h6&gt;<br>&lt;hr class="style1"&gt;<br>&lt;?php<br>call_user_func('list_zipfiles', "./");<br>}<br>?&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br>&lt;?php /*** Mohon Jangan Hapus Credit Copyright | Please Dont Remove Copyright Credits ***/ ?&gt;<br></pre></article><section class="jump-container is-flex is-justify-content-space-between my-6"><a class="button is-default" href="/2018/04/php-regex-extract-proxy-from-string.html" title="PHP Regex Extract Proxy From String"><i class="iconfont icon-prev mr-2 has-text-grey"></i><span class="has-text-weight-semibold">Previous: PHP Regex Extract Proxy From String</span></a><a class="button is-default" href="/2018/03/00webhost-unzipper-script-php.html" title="000webhost unzipper script php"><span class="has-text-weight-semibold">Next: 000webhost unzipper script php</span><i class="iconfont icon-next ml-2 has-text-grey"></i></a></section><div id="disqus_thread"></div><article class="mt-6 comment-container" id="disqus"><script id="dsq-count-scr" src="//blog-pubgj2togw.disqus.com/count.js" async=""></script></article></div></div></main></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><a title="github" target="_blank" rel="nofollow noopener noreferer noreferrer external" href="//github.com/dimaslanjaka" alt="FTP Backup File Recursively PHP Script"><i class="iconfont icon-github"></i></a><a title="facebook" target="_blank" rel="nofollow noopener noreferer noreferrer external" href="//www.facebook.com//dimaslanjaka1" alt="FTP Backup File Recursively PHP Script"><i class="iconfont icon-tian7_facebook"></i></a></section><p><span>Copyright Â©</span><span> Dimas Lanjaka 2 2023</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap hidden"><p>Powered by Hexo |&nbsp;</p><p class="is-flex is-justify-content-center"><a title="Hexo theme author" target="_blank" href="//github.com/haojen" rel="nofollow noopener noreferer noreferrer external" alt="FTP Backup File Recursively PHP Script">Theme by Haojen&nbsp;</a></p><div style="margin-top: 2px"><a class="github-button" title="github-button" target="_blank" href="https://www.webmanajemen.com/page/safelink.html?url=aHR0cHM6Ly9naXRodWIuY29tL0hhb2plbi9oZXhvLXRoZW1lLUNsYXVkaWE=" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true" rel="nofollow noopener noreferer noreferrer external" alt="FTP Backup File Recursively PHP Script"></a></div></div><div><span></span></div></footer><script src="/hexo-seo-js/concat-6bdc5ddb547d854e94c46a6e701e4319.js"></script</body></html></script></body></html>