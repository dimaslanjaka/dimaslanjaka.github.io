<!DOCTYPE html><!--
	Iridium by TEMPLATED
    templated.co @templatedco
    Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
--><html><head>
	<title>FTP Backup File Recursively PHP Script | WMI Gitlab</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta name="description" content="FTP Backup File Recursively PHP Script">
	<meta name="keywords" content="">
	</head><body class="no-sidebar"><include expiration="7d" path="*.css"></include>
<include expiration="7d" path="*.js"></include>
<include expiration="3d" path="*.gif"></include>
<include expiration="3d" path="*.jpeg"></include>
<include expiration="3d" path="*.jpg"></include>
<include expiration="3d" path="*.png"></include>
<link crossorigin="" href="https://static.xx.fbcdn.net" rel="preconnect dns-prefetch">
<link crossorigin="" href="https://cdnjs.cloudflare.com" rel="preconnect dns-prefetch">
<link crossorigin="" href="https://www.blogger.com" rel="preconnect dns-prefetch">
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect dns-prefetch">
<link crossorigin="" href="https://fonts.googleapis.com" rel="preconnect dns-prefetch">
<link crossorigin="" href="https://resources.blogblog.com" rel="preconnect dns-prefetch">
<link crossorigin="" href="https://www.google-analytics.com" rel="preconnect dns-prefetch">
<link crossorigin="" href="https://www.gstatic.com" rel="preconnect dns-prefetch">
<link crossorigin="" href="https://www.googletagservices.com" rel="preconnect dns-prefetch">
<link crossorigin="" href="https://rawcdn.githack.com" rel="preconnect dns-prefetch">
<link crossorigin="" href="https://cdn.jsdelivr.net" rel="preconnect dns-prefetch">
<link crossorigin="" href="https://tpc.googlesyndication.com" rel="preconnect dns-prefetch">
<link crossorigin="" href="https://www.googletagmanager.com" rel="preconnect dns-prefetch">
<link crossorigin="" href="https://1.bp.blogspot.com" rel="preconnect dns-prefetch">
<link crossorigin="" href="https://2.bp.blogspot.com" rel="preconnect dns-prefetch">
<link crossorigin="" href="https://3.bp.blogspot.com" rel="preconnect dns-prefetch">
<link crossorigin="" href="https://4.bp.blogspot.com" rel="preconnect dns-prefetch">
<link crossorigin="" href="https://cdn.statically.io" rel="preconnect dns-prefetch">
<link crossorigin="" href="https://pagead2.googlesyndication.com" rel="preconnect dns-prefetch">
<link crossorigin="" href="https://googleads.g.doubleclick.net" rel="preconnect dns-prefetch">
<link crossorigin="" href="https://adservice.google.co.id/" rel="preconnect dns-prefetch">
<link crossorigin="" href="https://adservice.google.com/" rel="preconnect dns-prefetch">
<link crossorigin="" href="https://www.youtube.com" rel="preconnect dns-prefetch">
<link crossorigin="" href="https://lh3.googleusercontent.com" rel="preconnect dns-prefetch">
<link crossorigin="" href="https://img.youtube.com" rel="preconnect dns-prefetch">
<link crossorigin="" href="https://raw.githubusercontent.com" rel="preconnect dns-prefetch">
<link crossorigin="" href="https://raw.githack.com" rel="preconnect dns-prefetch">
<link crossorigin="" href="https://i.ytimg.com" rel="preconnect dns-prefetch">
	<meta property="og:type" content="article">
<meta property="og:title" content="FTP Backup File Recursively PHP Script">
<meta property="og:url" content="https://www.webmanajemen.com///2018/04/ftp-backup-file-recursively-php-script.md">
<meta property="og:site_name" content="WMI">
<meta property="og:description" content="FTP Backup File Recursively PHP Script">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://i.ytimg.com/vi/UJ2O4SRxwkA/maxresdefault.jpg">
<meta property="article:published_time" content="2018-04-05T23:33:00.000+07:00">
<meta property="article:modified_time" content="2018-04-05T23:34:19+07:00">
<meta property="article:author" content="Dimas Lanjaka 2">

  <meta property="article:tag" content="Hosting">

  <meta property="article:tag" content="Script">

  <meta property="article:tag" content="PHP">

<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.ytimg.com/vi/UJ2O4SRxwkA/maxresdefault.jpg">
<link rel="alternate" href="/rss.xml" title="RSS" type="application/atom+xml">
<link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml">
<meta name="generator" content="SBG [github:dimaslanjaka/dimaslanjaka.github.io#compiler]">
<link rel="canonical" href="https://www.webmanajemen.com///2018/04/ftp-backup-file-recursively-php-script.md">
	<link href="http://fonts.googleapis.com/css?family=Arimo:400,700" rel="stylesheet" type="text/css">
	<!--[if lte IE 8]><script src="/js/html5shiv.js"></script><![endif]-->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
	<script src="/js/skel.min.js"></script>
	<script src="/js/skel-panels.min.js"></script>
	<script src="/js/init.js?c=1"></script>
	<noscript>
		<link rel="stylesheet" href="/css/skel-noscript.css?c=1">
		<link rel="stylesheet" href="/css/style.css?c=1">
		<link rel="stylesheet" href="/css/style-desktop.css?c=1">
	</noscript>
	<!--[if lte IE 8]><link rel="stylesheet" href="/css/ie/v8.css" /><![endif]-->
	<!--[if lte IE 9]><link rel="stylesheet" href="/css/ie/v9.css" /><![endif]-->
	<style>
		div#header {
			background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('https://i.ytimg.com/vi/UJ2O4SRxwkA/maxresdefault.jpg'), no-repeat;
			color: white;
			background-size: cover;
		}
	</style>

	
		<script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub--1165447249910969" crossorigin="anonymous"></script>
	




	<!-- Header -->
	<div id="header">
		<div class="container">

			<!-- Logo -->
			<div id="logo">
				<h1><a href="#">WMI</a></h1>
				<span>FTP Backup File Recursively PHP Script by Dimas Lanjaka 2</span>
			</div>

			<!-- Nav -->
			<nav id="nav">
				<ul>
					<li><a href="/">Homepage</a></li>
					
						<li><a href="/tags/Hosting">Hosting</a></li>
					
						<li><a href="/tags/Script">Script</a></li>
					
						<li><a href="/tags/PHP">PHP</a></li>
					

					<li class="active"><a href="https://www.webmanajemen.com///2018/04/ftp-backup-file-recursively-php-script.md">Current</a></li>
				</ul>
			</nav>
		</div>
	</div>

	<!-- Main -->
	<div id="main">
		<div class="container">
			<div class="row">

				<!-- Content -->
				<div id="content" class="12u skel-cell-important">
					<section>
						<!--
							<header>
								<h2>FTP Backup File Recursively PHP Script</h2>
								<span class="byline">FTP Backup File Recursively PHP Script</span>
							</header>
							<a href="#" class="image full"><img src="https://i.ytimg.com/vi/UJ2O4SRxwkA/maxresdefault.jpg" alt="FTP Backup File Recursively PHP Script" /></a>
							-->

						<center><h2>FTP FILE BACKUP RECURSIVELY</h2><div><img src="https://i.ytimg.com/vi/UJ2O4SRxwkA/maxresdefault.jpg"></div></center> <ol><li>Auto Zipping All files Inside Directory</li><li>Auto Send Zipped files to FTP at once</li><li>Auto Cleaning sent Zipped files on local storage</li></ol><pre rel="copyright script"><br>&lt;?php<br>define("user", "username_ftp", true); //Your FTP Username<br>define("password", "password_ftp", true); //Your FTP Password<br>define("host", "host_ftp", true); //eg: ftp.drivehq.com<br>define("port", "21", true); //default ftp port is 21<br><br>/*** Script_By_Dimas_Lanjaka ***/<br>if (defined("user") &amp;&amp; defined("password") &amp;&amp; defined("host")){<br>// Get real path for our folder// Get real path fo <br>$rootPath = realpath(__DIR__);<br>//array_map('unlink', glob("$rootPath*.zip"));<br><br>// Initialize archive object<br>$zip = new ZipArchive();<br>$cdate = str_replace('.', '-', $_SERVER['HTTP_HOST']);<br>$zip-&gt;open($cdate . '.zip', ZipArchive::CREATE | ZipArchive::OVERWRITE);<br><br>// Create recursive directory iterator<br>/** @var SplFileInfo[] $files */<br>$files = new RecursiveIteratorIterator(<br>    new RecursiveDirectoryIterator($rootPath),<br>    RecursiveIteratorIterator::LEAVES_ONLY<br>);<br><br>foreach ($files as $name =&gt; $file)<br>{<br>    // Skip directories (they would be added automatically)<br>    if (!$file-&gt;isDir())<br>    {<br>        // Get real and relative path for current file<br>        $filePath = $file-&gt;getRealPath();<br>        $relativePath = substr($filePath, strlen($rootPath) + 1);<br><br>        // Add current file to archive<br>        $zip-&gt;addFile($filePath, $relativePath);<br>    }<br>}<br><br>// Zip archive will be created only after closing object<br>$zip-&gt;close();<br><br>function sendfile($file){<br>$host = host;<br>$port = port;<br>$timeout = "60";<br>$user = user;<br>$pass = password;<br>$dest_file = $file;<br>$source_file = $file;<br>$ftp = ftp_connect($host,$port,$timeout);<br>ftp_login($ftp,$user,$pass);<br>ftp_pasv($ftp, true);<br><br>//if (ftp_delete($ftp, $file)) {<br>$ret = ftp_nb_put($ftp, $dest_file, $source_file, FTP_BINARY, FTP_AUTORESUME);<br>//}<br><br>while (FTP_MOREDATA == $ret)<br>    {<br>        // display progress bar, or someting<br>        $ret = ftp_nb_continue($ftp);<br>    }<br>}<br><br>function list_zipfiles($mydirectory) {<br><br>    // directory we want to scan<br>    $dircontents = scandir($mydirectory);<br><br>    // list the contents<br>    echo '&lt;ul&gt;';<br>    foreach ($dircontents as $file) {<br>        $extension = pathinfo($file, PATHINFO_EXTENSION);<br>        if ($extension == 'zip') {<br>            echo "&lt;center&gt;&lt;li&gt;$file Backup Successfully&lt;/li&gt;&lt;/center&gt;";<br>sendfile($file);<br>unlink($file);<br>        }<br>    }<br>    echo '&lt;/ul&gt;';<br>}<br>?&gt;<br>&lt;!DOCTYPE HTML&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>&lt;title&gt;Backup File Recursively&lt;/title&gt;<br>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;h6 class="header1"&gt;PRODUCTION&lt;/h6&gt;<br>&lt;hr class="style1"&gt;<br>&lt;?php<br>call_user_func('list_zipfiles', "./");<br>}<br>?&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br>&lt;?php /*** Mohon Jangan Hapus Credit Copyright | Please Dont Remove Copyright Credits ***/ ?&gt;<br></pre>
					</section>
				</div>

			</div>
		</div>
	</div>

	<!-- Footer -->
	<div id="featured">
		<div class="container">
			<div class="row">
				<div class="4u">
					<h2>Aenean elementum facilisis</h2>
					<a href="#" class="image full"><img src="/images/pic01.jpg" alt=""></a>
					<p>Nullam non wisi a sem semper eleifend. Donec mattis libero eget urna. Donec leo, vivamus fermentum nibh in
						augue praesent a lacus at urna congue rutrum. Quisque dictum. Pellentesque viverra vulputate enim.</p>
					<p><a href="#" class="button">More Details</a></p>
				</div>
				<div class="4u">
					<h2>Fusce ultrices fringilla</h2>
					<a href="#" class="image full"><img src="/images/pic02.jpg" alt=""></a>
					<p>Nullam non wisi a sem semper eleifend. Donec mattis libero eget urna. Donec leo, vivamus fermentum nibh in
						augue praesent a lacus at urna congue rutrum. Quisque dictum. Pellentesque viverra vulputate enim.</p>
					<p><a href="#" class="button">More Details</a></p>
				</div>
				<div class="4u">
					<h2>Etiam rhoncus volutpat erat</h2>
					<a href="#" class="image full"><img src="/images/pic03.jpg" alt=""></a>
					<p>Nullam non wisi a sem semper eleifend. Donec mattis libero eget urna. Donec leo, vivamus fermentum nibh in
						augue praesent a lacus at urna congue rutrum. Quisque dictum. Pellentesque viverra vulputate enim.</p>
					<p><a href="#" class="button">More Details</a></p>
				</div>
			</div>

			<div id="comment">
				<div id="disqus_thread"></div>
				<script>
					var disqus_shortname = "dimaslanjaka";
					var disqus_url = "https://www.webmanajemen.com///2018/04/ftp-backup-file-recursively-php-script.md";
					var disqus_identifier = new URL(disqus_url).pathname;
					!(function () {
						var e = document.createElement("script");
						(e.type = "text/javascript"),
							(e.async = !0),
							(e.src = "//" + disqus_shortname + ".disqus.com/embed.js"),
							(document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0]).appendChild(e);
					})();
				</script>
				<noscript>
					Please enable JavaScript to view the
					<a href="/page/safelink.html?url=aHR0cHMlM0ElMkYlMkZkaXNxdXMuY29tJTJGJTNGcmVmX25vc2NyaXB0" rel="nofollow noopener noreferer" target="_blank">
						comments powered by Disqus.
					</a>
				</noscript>
			</div>
		</div>
	</div>



	<!-- Footer -->
	<div id="footer">
		<div class="container">
			<div class="row">
				<div class="4u">
					<section>
						<h2>Latest Posts</h2>
						<ul class="default">
							<li><a href="#">Pellentesque lectus gravida blandit</a></li>
							<li><a href="#">Lorem ipsum consectetuer adipiscing</a></li>
							<li><a href="#">Phasellus nibh pellentesque congue</a></li>
							<li><a href="#">Cras vitae metus aliquam pharetra</a></li>
							<li><a href="#">Maecenas vitae orci feugiat eleifend</a></li>
						</ul>
					</section>
				</div>
				<div class="4u">
					<section>
						<h2>Ultrices fringilla</h2>
						<ul class="default">
							<li><a href="#">Pellentesque lectus gravida blandit</a></li>
							<li><a href="#">Lorem ipsum consectetuer adipiscing</a></li>
							<li><a href="#">Phasellus nibh pellentesque congue</a></li>
							<li><a href="#">Cras vitae metus aliquam pharetra</a></li>
							<li><a href="#">Maecenas vitae orci feugiat eleifend</a></li>
						</ul>
					</section>
				</div>
				<div class="4u">
					<section>
						<h2>Aenean elementum</h2>
						<ul class="default">
							<li><a href="#">Pellentesque lectus gravida blandit</a></li>
							<li><a href="#">Lorem ipsum consectetuer adipiscing</a></li>
							<li><a href="#">Phasellus nibh pellentesque congue</a></li>
							<li><a href="#">Cras vitae metus aliquam pharetra</a></li>
							<li><a href="#">Maecenas vitae orci feugiat eleifend</a></li>
						</ul>
					</section>
				</div>
			</div>
		</div>
	</div>

	<!-- Copyright -->
	<div id="copyright">
		<div class="container">
			WMI ©  Dimas Lanjaka 2
		</div>
	</div>


</body></html>