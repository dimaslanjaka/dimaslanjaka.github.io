!function(o){o.fn.navList=function(){var a=o(this);return $a=a.find("a"),b=[],$a.each((function(){var a=o(this),r=Math.max(0,a.parents("li").length-1),s=a.attr("href"),p=a.attr("target");b.push('<a class="link depth-'+r+'"'+(void 0!==p&&""!=p?' target="'+p+'"':"")+(void 0!==s&&""!=s?' href="'+s+'"':"")+'><span class="indent-'+r+'"></span>'+a.text()+"</a>")})),b.join("")},o.fn.panel=function(a){if(0==this.length)return p;if(this.length>1){for(var r=0;r<this.length;r++)o(this[r]).panel(a);return p}var s,p=o(this),c=o("body"),l=o(window),u=p.attr("id");return"jQuery"!=typeof(s=o.extend({delay:0,hideOnClick:!1,hideOnEscape:!1,hideOnSwipe:!1,resetScroll:!1,resetForms:!1,side:null,target:p,visibleClass:"visible"},a)).target&&(s.target=o(s.target)),p._hide=function(o){s.target.hasClass(s.visibleClass)&&(o&&(o.preventDefault(),o.stopPropagation()),s.target.removeClass(s.visibleClass),window.setTimeout((function(){s.resetScroll&&p.scrollTop(0),s.resetForms&&p.find("form").each((function(){this.reset()}))}),s.delay))},p.css("-ms-overflow-style","-ms-autohiding-scrollbar").css("-webkit-overflow-scrolling","touch"),s.hideOnClick&&(p.find("a").css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),p.on("click","a",(function(a){var r=o(this),c=r.attr("href"),l=r.attr("target");c&&"#"!=c&&""!=c&&c!="#"+u&&(a.preventDefault(),a.stopPropagation(),p._hide(),window.setTimeout((function(){"_blank"==l?window.open(c):window.location.href=c}),s.delay+10))}))),p.on("touchstart",(function(o){p.touchPosX=o.originalEvent.touches[0].pageX,p.touchPosY=o.originalEvent.touches[0].pageY})),p.on("touchmove",(function(o){if(null!==p.touchPosX&&null!==p.touchPosY){var a=p.touchPosX-o.originalEvent.touches[0].pageX,r=p.touchPosY-o.originalEvent.touches[0].pageY,c=p.outerHeight(),l=p.get(0).scrollHeight-p.scrollTop();if(s.hideOnSwipe){var u=!1,d=20;switch(s.side){case"left":u=d>r&&r>-20&&a>50;break;case"right":u=d>r&&r>-20&&-50>a;break;case"top":u=d>a&&a>-20&&r>50;break;case"bottom":u=d>a&&a>-20&&-50>r}if(u)return p.touchPosX=null,p.touchPosY=null,p._hide(),!1}(p.scrollTop()<0&&0>r||l>c-2&&c+2>l&&r>0)&&(o.preventDefault(),o.stopPropagation())}})),p.on("click touchend touchstart touchmove",(function(o){o.stopPropagation()})),p.on("click",'a[href="#'+u+'"]',(function(o){o.preventDefault(),o.stopPropagation(),s.target.removeClass(s.visibleClass)})),c.on("click touchend",(function(o){p._hide(o)})),c.on("click",'a[href="#'+u+'"]',(function(o){o.preventDefault(),o.stopPropagation(),s.target.toggleClass(s.visibleClass)})),s.hideOnEscape&&l.on("keydown",(function(o){27==o.keyCode&&p._hide(o)})),p},o.fn.placeholder=function(){if(void 0!==document.createElement("input").placeholder)return o(this);if(0==this.length)return r;if(this.length>1){for(var a=0;a<this.length;a++)o(this[a]).placeholder();return r}var r=o(this);return r.find("input[type=text],textarea").each((function(){var a=o(this);(""==a.val()||a.val()==a.attr("placeholder"))&&a.addClass("polyfill-placeholder").val(a.attr("placeholder"))})).on("blur",(function(){var a=o(this);a.attr("name").match(/-polyfill-field$/)||""==a.val()&&a.addClass("polyfill-placeholder").val(a.attr("placeholder"))})).on("focus",(function(){var a=o(this);a.attr("name").match(/-polyfill-field$/)||a.val()==a.attr("placeholder")&&a.removeClass("polyfill-placeholder").val("")})),r.find("input[type=password]").each((function(){var a=o(this),r=o(o("<div>").append(a.clone()).remove().html().replace(/type="password"/i,'type="text"').replace(/type=password/i,"type=text"));""!=a.attr("id")&&r.attr("id",a.attr("id")+"-polyfill-field"),""!=a.attr("name")&&r.attr("name",a.attr("name")+"-polyfill-field"),r.addClass("polyfill-placeholder").val(r.attr("placeholder")).insertAfter(a),""==a.val()?a.hide():r.hide(),a.on("blur",(function(o){o.preventDefault();var r=a.parent().find("input[name="+a.attr("name")+"-polyfill-field]");""==a.val()&&(a.hide(),r.show())})),r.on("focus",(function(o){o.preventDefault();var a=r.parent().find("input[name="+r.attr("name").replace("-polyfill-field","")+"]");r.hide(),a.show().focus()})).on("keypress",(function(o){o.preventDefault(),r.val("")}))})),r.on("submit",(function(){r.find("input[type=text],input[type=password],textarea").each((function(a){var r=o(this);r.attr("name").match(/-polyfill-field$/)&&r.attr("name",""),r.val()==r.attr("placeholder")&&(r.removeClass("polyfill-placeholder"),r.val(""))}))})).on("reset",(function(a){a.preventDefault(),r.find("select").val(o("option:first").val()),r.find("input,textarea").each((function(){var a,r=o(this);switch(r.removeClass("polyfill-placeholder"),this.type){case"submit":case"reset":break;case"password":r.val(r.attr("defaultValue")),a=r.parent().find("input[name="+r.attr("name")+"-polyfill-field]"),""==r.val()?(r.hide(),a.show()):(r.show(),a.hide());break;case"checkbox":case"radio":r.attr("checked",r.attr("defaultValue"));break;case"text":case"textarea":r.val(r.attr("defaultValue")),""==r.val()&&(r.addClass("polyfill-placeholder"),r.val(r.attr("placeholder")));break;default:r.val(r.attr("defaultValue"))}}))})),r},o.prioritize=function(a,r){var s="__prioritize";"jQuery"!=typeof a&&(a=o(a)),a.each((function(){var a,p=o(this),c=p.parent();if(0!=c.length)if(p.data(s)){if(r)return;a=p.data(s),p.insertAfter(a),p.removeData(s)}else{if(!r)return;if(0==(a=p.prev()).length)return;p.prependTo(c),p.data(s,a)}}))}}(jQuery);var o=function(){var o={breakpointIds:null,events:{},isInit:!1,obj:{attachments:{},breakpoints:{},head:null,states:{}},sd:"/",state:null,stateHandlers:{},stateId:"",vars:{},DOMReady:null,indexOf:null,isArray:null,iterate:null,matchesMedia:null,extend:function(a,r){o.iterate(r,(function(s){o.isArray(r[s])?(o.isArray(a[s])||(a[s]=[]),o.extend(a[s],r[s])):"object"==typeof r[s]?("object"!=typeof a[s]&&(a[s]={}),o.extend(a[s],r[s])):a[s]=r[s]}))},newStyle:function(o){var a=document.createElement("style");return a.type="text/css",a.innerHTML=o,a},_canUse:null,canUse:function(a){o._canUse||(o._canUse=document.createElement("div"));var r=o._canUse.style,s=a.charAt(0).toUpperCase()+a.slice(1);return a in r||"Moz"+s in r||"Webkit"+s in r||"O"+s in r||"ms"+s in r},on:function(a,r){var s=a.split(/[\s]+/);return o.iterate(s,(function(a){var p=s[a];if(o.isInit){if("init"==p)return void r();if("change"==p)r();else{var c=p.charAt(0);if("+"==c||"!"==c){var l=p.substring(1);if(l in o.obj.breakpoints)if("+"==c&&o.obj.breakpoints[l].active)r();else if("!"==c&&!o.obj.breakpoints[l].active)return void r()}}}o.events[p]||(o.events[p]=[]),o.events[p].push(r)})),o},trigger:function(a){return o.events[a]&&0!=o.events[a].length?(o.iterate(o.events[a],(function(r){o.events[a][r]()})),o):void 0},breakpoint:function(a){return o.obj.breakpoints[a]},breakpoints:function(a){function n(o,a){this.name=this.id=o,this.media=a,this.active=!1,this.wasActive=!1}return n.prototype.matches=function(){return o.matchesMedia(this.media)},n.prototype.sync=function(){this.wasActive=this.active,this.active=this.matches()},o.iterate(a,(function(r){o.obj.breakpoints[r]=new n(r,a[r])})),window.setTimeout((function(){o.poll()}),0),o},addStateHandler:function(a,r){o.stateHandlers[a]=r},callStateHandler:function(a){var r=o.stateHandlers[a]();o.iterate(r,(function(a){o.state.attachments.push(r[a])}))},changeState:function(a){o.iterate(o.obj.breakpoints,(function(a){o.obj.breakpoints[a].sync()})),o.vars.lastStateId=o.stateId,o.stateId=a,o.breakpointIds=o.stateId===o.sd?[]:o.stateId.substring(1).split(o.sd),o.obj.states[o.stateId]?o.state=o.obj.states[o.stateId]:(o.obj.states[o.stateId]={attachments:[]},o.state=o.obj.states[o.stateId],o.iterate(o.stateHandlers,o.callStateHandler)),o.detachAll(o.state.attachments),o.attachAll(o.state.attachments),o.vars.stateId=o.stateId,o.vars.state=o.state,o.trigger("change"),o.iterate(o.obj.breakpoints,(function(a){o.obj.breakpoints[a].active?o.obj.breakpoints[a].wasActive||o.trigger("+"+a):o.obj.breakpoints[a].wasActive&&o.trigger("-"+a)}))},generateStateConfig:function(a,r){var s={};return o.extend(s,a),o.iterate(o.breakpointIds,(function(a){o.extend(s,r[o.breakpointIds[a]])})),s},getStateId:function(){var a="";return o.iterate(o.obj.breakpoints,(function(r){var s=o.obj.breakpoints[r];s.matches()&&(a+=o.sd+s.id)})),a},poll:function(){var a="";""===(a=o.getStateId())&&(a=o.sd),a!==o.stateId&&o.changeState(a)},_attach:null,attach:function(a){var r=o.obj.head,s=a.element;return(!s.parentNode||!s.parentNode.tagName)&&(o._attach||(o._attach=r.firstChild),r.insertBefore(s,o._attach.nextSibling),a.permanent&&(o._attach=s),!0)},attachAll:function(a){var r=[];o.iterate(a,(function(o){r[a[o].priority]||(r[a[o].priority]=[]),r[a[o].priority].push(a[o])})),r.reverse(),o.iterate(r,(function(a){o.iterate(r[a],(function(s){o.attach(r[a][s])}))}))},detach:function(o){var a=o.element;return!(o.permanent||!a.parentNode||a.parentNode&&!a.parentNode.tagName)&&(a.parentNode.removeChild(a),!0)},detachAll:function(a){var r={};o.iterate(a,(function(o){r[a[o].id]=!0})),o.iterate(o.obj.attachments,(function(a){a in r||o.detach(o.obj.attachments[a])}))},attachment:function(a){return a in o.obj.attachments?o.obj.attachments[a]:null},newAttachment:function(a,r,s,p){return o.obj.attachments[a]={id:a,element:r,priority:s,permanent:p}},init:function(){o.initMethods(),o.initVars(),o.initEvents(),o.obj.head=document.getElementsByTagName("head")[0],o.isInit=!0,o.trigger("init")},initEvents:function(){o.on("resize",(function(){o.poll()})),o.on("orientationChange",(function(){o.poll()})),o.DOMReady((function(){o.trigger("ready")})),window.onload&&o.on("load",window.onload),window.onload=function(){o.trigger("load")},window.onresize&&o.on("resize",window.onresize),window.onresize=function(){o.trigger("resize")},window.onorientationchange&&o.on("orientationChange",window.onorientationchange),window.onorientationchange=function(){o.trigger("orientationChange")}},initMethods:function(){document.addEventListener?o.DOMReady=function(){function t(o){for(p=1;o=a.shift();)o()}var o,a=[],r=document,s="DOMContentLoaded",p=/^loaded|^c/.test(r.readyState);return r.addEventListener(s,o=function(){r.removeEventListener(s,o),t()}),function(o){p?o():a.push(o)}}():o.DOMReady=function(o){function e(o){for(g=1;o=r.shift();)o()}var a,r=[],s=!1,p=document,c=p.documentElement,l=c.doScroll,u="DOMContentLoaded",d="addEventListener",h="onreadystatechange",f="readyState",g=(l?/^loaded|^c/:/^loaded|c/).test(p[f]);return p[d]&&p[d](u,a=function(){p.removeEventListener(u,a,s),e()},s),l&&p.attachEvent(h,a=function(){/^c/.test(p[f])&&(p.detachEvent(h,a),e())}),o=l?function(s){self!=top?g?s():r.push(s):function(){try{c.doScroll("left")}catch(a){return setTimeout((function(){o(s)}),50)}s()}()}:function(o){g?o():r.push(o)}}(),Array.prototype.indexOf?o.indexOf=function(o,a){return o.indexOf(a)}:o.indexOf=function(o,a){if("string"==typeof o)return o.indexOf(a);var r,s,p=a||0;if(!this)throw new TypeError;if(0===(s=this.length)||p>=s)return-1;for(0>p&&(p=s-Math.abs(p)),r=p;s>r;r++)if(this[r]===o)return r;return-1},Array.isArray?o.isArray=function(o){return Array.isArray(o)}:o.isArray=function(o){return"[object Array]"===Object.prototype.toString.call(o)},Object.keys?o.iterate=function(o,a){if(!o)return[];var r,s=Object.keys(o);for(r=0;s[r]&&!1!==a(s[r],o[s[r]]);r++);}:o.iterate=function(o,a){if(!o)return[];var r;for(r in o)if(Object.prototype.hasOwnProperty.call(o,r)&&!1===a(r,o[r]))break},window.matchMedia?o.matchesMedia=function(o){return""==o||window.matchMedia(o).matches}:window.styleMedia||window.media?o.matchesMedia=function(o){return""==o||(window.styleMedia||window.media).matchMedium(o||"all")}:window.getComputedStyle?o.matchesMedia=function(o){if(""==o)return!0;var a,r=document.createElement("style"),s=document.getElementsByTagName("script")[0];r.type="text/css",r.id="matchmediajs-test",s.parentNode.insertBefore(r,s),a="getComputedStyle"in window&&window.getComputedStyle(r,null)||r.currentStyle;var p="@media "+o+"{ #matchmediajs-test { width: 1px; } }";return r.styleSheet?r.styleSheet.cssText=p:r.textContent=p,"1px"===a.width}:o.matchesMedia=function(o){if(""==o)return!0;var a,r,s,p,c={"min-width":null,"max-width":null},l=!1;for(s=o.split(/\s+and\s+/),a=0;a<s.length;a++)"("==(r=s[a]).charAt(0)&&(2==(p=(r=r.substring(1,r.length-1)).split(/:\s+/)).length&&(c[p[0].replace(/^\s+|\s+$/g,"")]=parseInt(p[1]),l=!0));if(!l)return!1;var u=document.documentElement.clientWidth,d=document.documentElement.clientHeight;return!(null!==c["min-width"]&&u<c["min-width"]||null!==c["max-width"]&&u>c["max-width"]||null!==c["min-height"]&&d<c["min-height"]||null!==c["max-height"]&&d>c["max-height"])},navigator.userAgent.match(/MSIE ([0-9]+)/)&&RegExp.$1<9&&(o.newStyle=function(o){var a=document.createElement("span");return a.innerHTML='&nbsp;<style type="text/css">'+o+"</style>",a})},initVars:function(){var a,r,s,p=navigator.userAgent;a="other",r=0,s=[["firefox",/Firefox\/([0-9\.]+)/],["bb",/BlackBerry.+Version\/([0-9\.]+)/],["bb",/BB[0-9]+.+Version\/([0-9\.]+)/],["opera",/OPR\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)/],["edge",/Edge\/([0-9\.]+)/],["safari",/Version\/([0-9\.]+).+Safari/],["chrome",/Chrome\/([0-9\.]+)/],["ie",/MSIE ([0-9]+)/],["ie",/Trident\/.+rv:([0-9]+)/]],o.iterate(s,(function(o,s){return p.match(s[1])?(a=s[0],r=parseFloat(RegExp.$1),!1):void 0})),o.vars.browser=a,o.vars.browserVersion=r,a="other",r=0,s=[["ios",/([0-9_]+) like Mac OS X/,function(o){return o.replace("_",".").replace("_","")}],["ios",/CPU like Mac OS X/,function(o){return 0}],["wp",/Windows Phone ([0-9\.]+)/,null],["android",/Android ([0-9\.]+)/,null],["mac",/Macintosh.+Mac OS X ([0-9_]+)/,function(o){return o.replace("_",".").replace("_","")}],["windows",/Windows NT ([0-9\.]+)/,null],["bb",/BlackBerry.+Version\/([0-9\.]+)/,null],["bb",/BB[0-9]+.+Version\/([0-9\.]+)/,null]],o.iterate(s,(function(o,s){return p.match(s[1])?(a=s[0],r=parseFloat(s[2]?s[2](RegExp.$1):RegExp.$1),!1):void 0})),o.vars.os=a,o.vars.osVersion=r,o.vars.IEVersion="ie"==o.vars.browser?o.vars.browserVersion:99,o.vars.touch="wp"==o.vars.os?navigator.msMaxTouchPoints>0:!!("ontouchstart"in window),o.vars.mobile="wp"==o.vars.os||"android"==o.vars.os||"ios"==o.vars.os||"bb"==o.vars.os}};return o.init(),o}();!function(o,a){"function"==typeof define&&define.amd?define([],a):"object"==typeof exports?module.exports=a():o.skel=a()}(this,(function(){return o})),function(a){o.breakpoints({xlarge:"(max-width: 1680px)",large:"(max-width: 1280px)",medium:"(max-width: 980px)",small:"(max-width: 736px)",xsmall:"(max-width: 480px)"}),a((function(){var r,s=a(window),p=a("body");(a("#wrapper"),o.vars.IEVersion<12&&p.addClass("ie"),o.vars.mobile&&p.addClass("touch"),o.canUse("transition"))&&(p.addClass("loading"),s.on("load",(function(){window.setTimeout((function(){p.removeClass("loading")}),100)})),s.on("resize",(function(){window.clearTimeout(r),p.addClass("resizing"),r=window.setTimeout((function(){p.removeClass("resizing")}),100)})));s.scrollTop(0),a("form").placeholder();var c=a(".panel");c.each((function(){var o=a(this),r=a('[href="#'+o.attr("id")+'"]');a('<div class="closer" />').appendTo(o).on("click",(function(a){o.trigger("---hide")})),o.on("click",(function(o){o.stopPropagation()})).on("---toggle",(function(){o.hasClass("active")?o.triggerHandler("---hide"):o.triggerHandler("---show")})).on("---show",(function(){p.hasClass("content-active")&&c.trigger("---hide"),o.addClass("active"),r.addClass("active"),p.addClass("content-active")})).on("---hide",(function(){o.removeClass("active"),r.removeClass("active"),p.removeClass("content-active")})),r.removeAttr("href").css("cursor","pointer").on("click",(function(a){a.preventDefault(),a.stopPropagation(),o.trigger("---toggle")}))})),p.on("click",(function(o){p.hasClass("content-active")&&(o.preventDefault(),o.stopPropagation(),c.trigger("---hide"))})),s.on("keyup",(function(o){27==o.keyCode&&p.hasClass("content-active")&&(o.preventDefault(),o.stopPropagation(),c.trigger("---hide"))})),a("#header").find("a").each((function(){var o=a(this),r=o.attr("href");r&&"#"!=r.charAt(0)&&o.removeAttr("href").css("cursor","pointer").on("click",(function(o){o.preventDefault(),o.stopPropagation(),window.location.href=r}))})),a("#footer").find(".copyright").each((function(){var r=a(this),s=r.parent(),p=s.parent().children().last();o.on("+medium",(function(){r.appendTo(p)})).on("-medium",(function(){r.appendTo(s)}))}));var l=a("#main");l.children(".thumb").each((function(){var r,s=a(this),p=s.find(".image"),c=p.children("img");0!=p.length&&((r=c.data("position"))&&p.css("background-position",r),c.hide(),o.vars.IEVersion<11&&s.css("cursor","pointer").on("click",(function(){p.trigger("click")})))})),l.poptrox({baseZIndex:2e4,caption:function(o){var a="";return o.nextAll().each((function(){a+=this.outerHTML})),a},fadeSpeed:300,onPopupClose:function(){p.removeClass("modal-active")},onPopupOpen:function(){p.addClass("modal-active")},overlayOpacity:0,popupCloserText:"",popupHeight:150,popupLoaderText:"",popupSpeed:300,popupWidth:150,selector:".thumb > a.image",usePopupCaption:!0,usePopupCloser:!0,usePopupDefaultStyling:!1,usePopupForceClose:!0,usePopupLoader:!0,usePopupNav:!0,windowMargin:50}),o.on("-xsmall",(function(){l[0]._poptrox.windowMargin=50})).on("+xsmall",(function(){l[0]._poptrox.windowMargin=0}))}))}(jQuery),function(o){o.fn.poptrox_disableSelection=function(){return o(this).css("user-select","none").css("-khtml-user-select","none").css("-moz-user-select","none").css("-o-user-select","none").css("-webkit-user-select","none")},o.fn.poptrox=function(a){function t(){s=o(window).width(),p=o(window).height()+u.windowHeightPad;var a=Math.abs(l.width()-l.outerWidth()),r=Math.abs(l.height()-l.outerHeight()),c=(k.width(),k.height(),s-2*u.windowMargin-a),d=p-2*u.windowMargin-r;l.css("min-width",u.popupWidth).css("min-height",u.popupHeight),C.children().css("max-width",c).css("max-height",d)}if(0==this.length)return o(this);if(this.length>1){for(var r=0;r<this.length;r++)o(this[r]).poptrox(a);return o(this)}var s,p,l,u=o.extend({preload:!1,baseZIndex:1e3,fadeSpeed:300,overlayColor:"#000000",overlayOpacity:.6,overlayClass:"poptrox-overlay",windowMargin:50,windowHeightPad:0,selector:"a",caption:null,parent:"body",popupSpeed:300,popupWidth:200,popupHeight:100,popupIsFixed:!1,useBodyOverflow:!1,usePopupEasyClose:!0,usePopupForceClose:!1,usePopupLoader:!0,usePopupCloser:!0,usePopupCaption:!1,usePopupNav:!1,usePopupDefaultStyling:!0,popupBackgroundColor:"#FFFFFF",popupTextColor:"#000000",popupLoaderTextSize:"2em",popupCloserBackgroundColor:"#000000",popupCloserTextColor:"#FFFFFF",popupCloserTextSize:"20px",popupPadding:10,popupCaptionHeight:60,popupCaptionTextSize:null,popupBlankCaptionText:"(untitled)",popupCloserText:"&#215;",popupLoaderText:"&bull;&bull;&bull;&bull;",popupClass:"poptrox-popup",popupSelector:null,popupLoaderSelector:".loader",popupCloserSelector:".closer",popupCaptionSelector:".caption",popupNavPreviousSelector:".nav-previous",popupNavNextSelector:".nav-next",onPopupClose:null,onPopupOpen:null},a),d=o(this),h=o("body"),f=o('<div class="'+u.overlayClass+'"></div>'),g=o(window),v=[],m=0,w=!1,b=new Array;u.usePopupLoader||(u.popupLoaderSelector=null),u.usePopupCloser||(u.popupCloserSelector=null),u.usePopupCaption||(u.popupCaptionSelector=null),u.usePopupNav||(u.popupNavPreviousSelector=null,u.popupNavNextSelector=null);var x,y,C=(l=o(u.popupSelector?u.popupSelector:'<div class="'+u.popupClass+'">'+(u.popupLoaderSelector?'<div class="loader">'+u.popupLoaderText+"</div>":"")+'<div class="pic"></div>'+(u.popupCaptionSelector?'<div class="caption"></div>':"")+(u.popupCloserSelector?'<span class="closer">'+u.popupCloserText+"</span>":"")+(u.popupNavPreviousSelector?'<div class="nav-previous"></div>':"")+(u.popupNavNextSelector?'<div class="nav-next"></div>':"")+"</div>")).find(".pic"),k=o(),S=l.find(u.popupLoaderSelector),P=l.find(u.popupCaptionSelector),T=l.find(u.popupCloserSelector),j=l.find(u.popupNavNextSelector),_=l.find(u.popupNavPreviousSelector),I=j.add(_);u.usePopupDefaultStyling&&(l.css("background",u.popupBackgroundColor).css("color",u.popupTextColor).css("padding",u.popupPadding+"px"),P.length>0&&(l.css("padding-bottom",u.popupCaptionHeight+"px"),P.css("position","absolute").css("left","0").css("bottom","0").css("width","100%").css("text-align","center").css("height",u.popupCaptionHeight+"px").css("line-height",u.popupCaptionHeight+"px"),u.popupCaptionTextSize&&P.css("font-size",popupCaptionTextSize)),T.length>0&&T.html(u.popupCloserText).css("font-size",u.popupCloserTextSize).css("background",u.popupCloserBackgroundColor).css("color",u.popupCloserTextColor).css("display","block").css("width","40px").css("height","40px").css("line-height","40px").css("text-align","center").css("position","absolute").css("text-decoration","none").css("outline","0").css("top","0").css("right","-40px"),S.length>0&&S.html("").css("position","relative").css("font-size",u.popupLoaderTextSize).on("startSpinning",(function(a){var r=o("<div>"+u.popupLoaderText+"</div>");r.css("height",Math.floor(u.popupHeight/2)+"px").css("overflow","hidden").css("line-height",Math.floor(u.popupHeight/2)+"px").css("text-align","center").css("margin-top",Math.floor((l.height()-r.height()+(P.length>0?P.height():0))/2)).css("color",u.popupTextColor?u.popupTextColor:"").on("xfin",(function(){r.fadeTo(300,.5,(function(){r.trigger("xfout")}))})).on("xfout",(function(){r.fadeTo(300,.05,(function(){r.trigger("xfin")}))})).trigger("xfin"),S.append(r)})).on("stopSpinning",(function(o){S.find("div").remove()})),2==I.length)&&(I.css("font-size","75px").css("text-align","center").css("color","#fff").css("text-shadow","none").css("height","100%").css("position","absolute").css("top","0").css("opacity","0.35").css("cursor","pointer").css("box-shadow","inset 0px 0px 10px 0px rgba(0,0,0,0)").poptrox_disableSelection(),u.usePopupEasyClose?(x="100px",y="100px"):(x="75%",y="25%"),j.css("right","0").css("width",x).html('<div style="position: absolute; height: 100px; width: 125px; top: 50%; right: 0; margin-top: -50px;">&gt;</div>'),_.css("left","0").css("width",y).html('<div style="position: absolute; height: 100px; width: 125px; top: 50%; left: 0; margin-top: -50px;">&lt;</div>'));return g.on("resize orientationchange",(function(){t()})),P.on("update",(function(o,a){a&&0!=a.length||(a=u.popupBlankCaptionText),P.html(a)})),T.css("cursor","pointer").on("click",(function(o){return o.preventDefault(),o.stopPropagation(),l.trigger("poptrox_close"),!0})),j.on("click",(function(o){o.stopPropagation(),o.preventDefault(),l.trigger("poptrox_next")})),_.on("click",(function(o){o.stopPropagation(),o.preventDefault(),l.trigger("poptrox_previous")})),f.css("position","fixed").css("left",0).css("top",0).css("z-index",u.baseZIndex).css("width","100%").css("height","100%").css("text-align","center").css("cursor","pointer").appendTo(u.parent).prepend('<div style="display:inline-block;height:100%;vertical-align:middle;"></div>').append('<div style="position:absolute;left:0;top:0;width:100%;height:100%;background:'+u.overlayColor+";opacity:"+u.overlayOpacity+";filter:alpha(opacity="+100*u.overlayOpacity+');"></div>').hide().on("touchmove",(function(o){return!1})).on("click",(function(o){o.preventDefault(),o.stopPropagation(),l.trigger("poptrox_close")})),l.css("display","inline-block").css("vertical-align","middle").css("position","relative").css("z-index",1).css("cursor","auto").appendTo(f).hide().on("poptrox_next",(function(){var o=m+1;o>=v.length&&(o=0),l.trigger("poptrox_switch",[o])})).on("poptrox_previous",(function(){var o=m-1;0>o&&(o=v.length-1),l.trigger("poptrox_switch",[o])})).on("poptrox_reset",(function(){t(),l.data("width",u.popupWidth).data("height",u.popupHeight),S.hide().trigger("stopSpinning"),P.hide(),T.hide(),I.hide(),C.hide(),k.attr("src","").detach()})).on("poptrox_open",(function(o,a){return!!w||(w=!0,u.useBodyOverflow&&h.css("overflow","hidden"),u.onPopupOpen&&u.onPopupOpen(),l.addClass("loading"),void f.fadeTo(u.fadeSpeed,1,(function(){l.trigger("poptrox_switch",[a,!0])})))})).on("poptrox_switch",(function(a,r,s){var p,c,d;if(!s&&w)return!0;(w=!0,l.addClass("loading").css("width",l.data("width")).css("height",l.data("height")),P.hide(),k.attr("src")&&k.attr("src",""),k.detach(),p=v[r],(k=p.object).off("load"),C.css("text-indent","-9999px").show().append(k),"ajax"==p.type?o.get(p.src,(function(o){k.html(o),k.trigger("load")})):k.attr("src",p.src),"image"!=p.type)&&(c=p.width,d=p.height,"%"==c.slice(-1)&&(c=parseInt(c.substring(0,c.length-1))/100*g.width()),"%"==d.slice(-1)&&(d=parseInt(d.substring(0,d.length-1))/100*g.height()),k.css("position","relative").css("outline","0").css("z-index",u.baseZIndex+100).width(c).height(d));S.trigger("startSpinning").fadeIn(300),l.show(),u.popupIsFixed?(l.removeClass("loading").width(u.popupWidth).height(u.popupHeight),k.load((function(){k.off("load"),S.hide().trigger("stopSpinning"),P.trigger("update",[p.captionText]).fadeIn(u.fadeSpeed),T.fadeIn(u.fadeSpeed),C.css("text-indent",0).hide().fadeIn(u.fadeSpeed,(function(){w=!1})),m=r,I.fadeIn(u.fadeSpeed)}))):k.load((function(){t(),k.off("load"),S.hide().trigger("stopSpinning");var o=k.width(),a=k.height(),i=function(){P.trigger("update",[p.captionText]).fadeIn(u.fadeSpeed),T.fadeIn(u.fadeSpeed),C.css("text-indent",0).hide().fadeIn(u.fadeSpeed,(function(){w=!1})),m=r,I.fadeIn(u.fadeSpeed),l.removeClass("loading").data("width",o).data("height",a).css("width","auto").css("height","auto")};o==l.data("width")&&a==l.data("height")?i():l.animate({width:o,height:a},u.popupSpeed,"swing",i)})),"image"!=p.type&&k.trigger("load")})).on("poptrox_close",(function(){return!(!w||u.usePopupForceClose)||(w=!0,l.hide().trigger("poptrox_reset"),u.onPopupClose&&u.onPopupClose(),void f.fadeOut(u.fadeSpeed,(function(){u.useBodyOverflow&&h.css("overflow","auto"),w=!1})))})).trigger("poptrox_reset"),u.usePopupEasyClose?(P.on("click","a",(function(o){o.stopPropagation()})),l.css("cursor","pointer").on("click",(function(o){o.stopPropagation(),o.preventDefault(),l.trigger("poptrox_close")}))):l.on("click",(function(o){o.stopPropagation()})),g.keydown((function(o){if(l.is(":visible"))switch(o.keyCode){case 37:case 32:if(u.usePopupNav)return l.trigger("poptrox_previous"),!1;break;case 39:if(u.usePopupNav)return l.trigger("poptrox_next"),!1;break;case 27:return l.trigger("poptrox_close"),!1}})),d.find(u.selector).each((function(a){var r,s=o(this),p=s.find("img"),d=s.data("poptrox");if("ignore"!=d&&s.attr("href")){var h;if(r={src:s.attr("href"),captionText:p.attr("title"),width:null,height:null,type:null,object:null,options:null},u.caption){if("function"==typeof u.caption)c=u.caption(s);else if("selector"in u.caption)h=s.find(u.caption.selector),"attribute"in u.caption?c=h.attr(u.caption.attribute):(c=h.html(),!0===u.caption.remove&&h.remove())}else c=p.attr("title");if(r.captionText=c,d){var f=d.split(",");0 in f&&(r.type=f[0]),1 in f&&((g=f[1].match(/([0-9%]+)x([0-9%]+)/))&&3==g.length&&(r.width=g[1],r.height=g[2])),2 in f&&(r.options=f[2])}if(!r.type)switch((!(g=r.src.match(/\/\/([a-z0-9\.]+)\/.*/))||g.length<2)&&(g=[!1]),g[1]){case"api.soundcloud.com":r.type="soundcloud";break;case"youtu.be":r.type="youtube";break;case"vimeo.com":r.type="vimeo";break;case"wistia.net":r.type="wistia";break;case"bcove.me":r.type="bcove";break;default:r.type="image"}switch(g=r.src.match(/\/\/[a-z0-9\.]+\/(.*)/),r.type){case"iframe":r.object=o('<iframe src="" frameborder="0"></iframe>'),r.object.on("click",(function(o){o.stopPropagation()})).css("cursor","auto"),r.width&&r.height||(r.width="600",r.height="400");break;case"ajax":r.object=o('<div class="poptrox-ajax"></div>'),r.object.on("click",(function(o){o.stopPropagation()})).css("cursor","auto").css("overflow","auto"),r.width&&r.height||(r.width="600",r.height="400");break;case"soundcloud":r.object=o('<iframe scrolling="no" frameborder="no" src=""></iframe>'),r.src="//w.soundcloud.com/player/?url="+escape(r.src)+(r.options?"&"+r.options:""),r.width="600",r.height="166";break;case"youtube":r.object=o('<iframe src="" frameborder="0" allowfullscreen="1"></iframe>'),r.src="//www.youtube.com/embed/"+g[1]+(r.options?"?"+r.options:""),r.width&&r.height||(r.width="800",r.height="480");break;case"vimeo":r.object=o('<iframe src="" frameborder="0" allowFullScreen="1"></iframe>'),r.src="//player.vimeo.com/video/"+g[1]+(r.options?"?"+r.options:""),r.width&&r.height||(r.width="800",r.height="480");break;case"wistia":r.object=o('<iframe src="" frameborder="0" allowFullScreen="1"></iframe>'),r.src="//fast.wistia.net/"+g[1]+(r.options?"?"+r.options:""),r.width&&r.height||(r.width="800",r.height="480");break;case"bcove":r.object=o('<iframe src="" frameborder="0" allowFullScreen="1" width="100%"></iframe>'),r.src="//bcove.me/"+g[1]+(r.options?"?"+r.options:""),r.width&&r.height||(r.width="640",r.height="360");break;default:var g;if(r.object=o('<img src="" alt="" style="vertical-align:bottom" />'),u.preload)(g=document.createElement("img")).src=r.src,b.push(g);r.width=s.attr("width"),r.height=s.attr("height")}"file:"==window.location.protocol&&r.src.match(/^\/\//)&&(r.src="http:"+r.src),v.push(r),p.removeAttr("title"),s.removeAttr("href").css("cursor","pointer").css("outline",0).on("click",(function(o){o.preventDefault(),o.stopPropagation(),l.trigger("poptrox_open",[a])}))}})),d.prop("_poptrox",u),d}}(jQuery),function(o){"function"==typeof define&&define.amd?define(["jquery"],o):"object"==typeof exports?module.exports=o(require("jquery")):o(jQuery)}((function(o){var a=o.event.dispatch||o.event.handle,r=o.event.special,s="D"+ +new Date,p="D"+(+new Date+1);r.scrollstart={setup:function(p){var c,l=o.extend({latency:r.scrollstop.latency},p),handler=function(o){var r=arguments;c?clearTimeout(c):(o.type="scrollstart",a.apply(this,r)),c=setTimeout((function(){c=null}),l.latency)};o(this).bind("scroll",handler).data(s,handler)},teardown:function(){o(this).unbind("scroll",o(this).data(s))}},r.scrollstop={latency:250,setup:function(s){var c,l=o.extend({latency:r.scrollstop.latency},s),handler=function(o){var r=this,s=arguments;c&&clearTimeout(c),c=setTimeout((function(){c=null,o.type="scrollstop",a.apply(r,s)}),l.latency)};o(this).bind("scroll",handler).data(p,handler)},teardown:function(){o(this).unbind("scroll",o(this).data(p))}}}));