/**!
 * lg-video.js | 0.0.1 | August 1st 2016
 * http://sachinchoolur.github.io/lg-video.js
 * Copyright (c) 2016 Sachin N; 
 * @license Apache 2.0 
 */
!function(o){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=o();else if("function"==typeof define&&define.amd)define([],o);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).LgVideo=o()}}((function(){return function e(o,i,t){function s(l,a){if(!i[l]){if(!o[l]){var d="function"==typeof require&&require;if(!a&&d)return d(l,!0);if(r)return r(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var n=i[l]={exports:{}};o[l][0].call(n.exports,(function(i){var t=o[l][1][i];return s(t||i)}),n,n.exports,e,o,i,t)}return i[l].exports}for(var r="function"==typeof require&&require,l=0;l<t.length;l++)s(t[l]);return s}({1:[function(o,i,t){!function(o,i){if(void 0!==t)i();else{i(),o.lgVideo={}}}(this,(function(){"use strict";var o=Object.assign||function(o){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r])}return o},i={videoMaxWidth:"855px",youtubePlayerParams:!1,vimeoPlayerParams:!1,dailymotionPlayerParams:!1,vkPlayerParams:!1,videojs:!1,videojsOptions:{}},Video=function(t){return this.el=t,this.core=window.lgData[this.el.getAttribute("lg-uid")],this.core.s=o({},i,this.core.s),this.videoLoaded=!1,this.init(),this};Video.prototype.init=function(){var o=this;utils.on(o.core.el,"hasVideo.lgtm",(function(i){if(o.core.___slide[i.detail.index].querySelector(".lg-video").insertAdjacentHTML("beforeend",o.loadVideo(i.detail.src,"lg-object",!0,i.detail.index,i.detail.html)),i.detail.html)if(o.core.s.videojs)try{videojs(o.core.___slide[i.detail.index].querySelector(".lg-html5"),o.core.s.videojsOptions,(function(){o.videoLoaded||this.play()}))}catch(t){console.error("Make sure you have included videojs")}else o.core.___slide[i.detail.index].querySelector(".lg-html5").play()})),utils.on(o.core.el,"onAferAppendSlide.lgtm",(function(i){o.core.___slide[i.detail.index].querySelector(".lg-video-cont")&&(o.core.___slide[i.detail.index].querySelector(".lg-video-cont").style.maxWidth=o.core.s.videoMaxWidth,o.videoLoaded=!0)}));var loadOnClick=function(i){if(utils.hasClass(i.querySelector(".lg-object"),"lg-has-poster")&&"none"!==i.querySelector(".lg-object").style.display)if(utils.hasClass(i,"lg-has-video")){var t=i.querySelector(".lg-youtube"),r=i.querySelector(".lg-vimeo"),l=i.querySelector(".lg-dailymotion"),a=i.querySelector(".lg-html5");if(t)t.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*");else if(r)try{$f(r).api("play")}catch(c){console.error("Make sure you have included froogaloop2 js")}else if(l)l.contentWindow.postMessage("play","*");else if(a)if(o.core.s.videojs)try{videojs(a).play()}catch(c){console.error("Make sure you have included videojs")}else a.play();utils.addClass(i,"lg-video-playing")}else{utils.addClass(i,"lg-video-playing lg-has-video");var _loadVideo=function(t,r){if(i.querySelector(".lg-video").insertAdjacentHTML("beforeend",o.loadVideo(t,"",!1,o.core.index,r)),r)if(o.core.s.videojs)try{videojs(o.core.___slide[o.core.index].querySelector(".lg-html5"),o.core.s.videojsOptions,(function(){this.play()}))}catch(c){console.error("Make sure you have included videojs")}else o.core.___slide[o.core.index].querySelector(".lg-html5").play()};o.core.s.dynamic?_loadVideo(o.core.s.dynamicEl[o.core.index].src,o.core.s.dynamicEl[o.core.index].html):_loadVideo(o.core.items[o.core.index].getAttribute("href")||o.core.items[o.core.index].getAttribute("data-src"),o.core.items[o.core.index].getAttribute("data-html"));var d=i.querySelector(".lg-object");i.querySelector(".lg-video").appendChild(d),utils.hasClass(i.querySelector(".lg-video-object"),"lg-html5")||(utils.removeClass(i,"lg-complete"),utils.on(i.querySelector(".lg-video-object"),"load.lg error.lg",(function(){utils.addClass(i,"lg-complete")})))}};if(o.core.doCss()&&o.core.items.length>1&&(o.core.s.enableSwipe&&o.core.isTouch||o.core.s.enableDrag&&!o.core.isTouch))utils.on(o.core.el,"onSlideClick.lgtm",(function(){var i=o.core.___slide[o.core.index];loadOnClick(i)}));else for(var i=0;i<o.core.___slide.length;i++)!function(i){utils.on(o.core.___slide[i],"click.lg",(function(){loadOnClick(o.core.___slide[i])}))}(i);utils.on(o.core.el,"onBeforeSlide.lgtm",(function(i){var t,r=o.core.___slide[i.detail.prevIndex],l=r.querySelector(".lg-youtube"),a=r.querySelector(".lg-vimeo"),d=r.querySelector(".lg-dailymotion"),c=r.querySelector(".lg-vk"),n=r.querySelector(".lg-html5");if(l)l.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*");else if(a)try{$f(a).api("pause")}catch(y){console.error("Make sure you have included froogaloop2 js")}else if(d)d.contentWindow.postMessage("pause","*");else if(n)if(o.core.s.videojs)try{videojs(n).pause()}catch(y){console.error("Make sure you have included videojs")}else n.pause();c&&c.setAttribute("src",c.getAttribute("src").replace("&autoplay","&noplay")),t=o.core.s.dynamic?o.core.s.dynamicEl[i.detail.index].src:o.core.items[i.detail.index].getAttribute("href")||o.core.items[i.detail.index].getAttribute("data-src");var u=o.core.isVideo(t,i.detail.index)||{};(u.youtube||u.vimeo||u.dailymotion||u.vk)&&utils.addClass(o.core.outer,"lg-hide-download")})),utils.on(o.core.el,"onAfterSlide.lgtm",(function(i){utils.removeClass(o.core.___slide[i.detail.prevIndex],"lg-video-playing")}))},Video.prototype.loadVideo=function(o,i,t,r,l){var a="",d=1,c="",n=this.core.isVideo(o,r)||{};if(t&&(d=this.videoLoaded?0:1),n.youtube)c="?wmode=opaque&autoplay="+d+"&enablejsapi=1",this.core.s.youtubePlayerParams&&(c=c+"&"+utils.param(this.core.s.youtubePlayerParams)),a='<iframe class="lg-video-object lg-youtube '+i+'" width="560" height="315" src="//www.youtube.com/embed/'+n.youtube[1]+c+'" frameborder="0" allowfullscreen></iframe>';else if(n.vimeo)c="?autoplay="+d+"&api=1",this.core.s.vimeoPlayerParams&&(c=c+"&"+utils.param(this.core.s.vimeoPlayerParams)),a='<iframe class="lg-video-object lg-vimeo '+i+'" width="560" height="315"  src="//player.vimeo.com/video/'+n.vimeo[1]+c+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';else if(n.dailymotion)c="?wmode=opaque&autoplay="+d+"&api=postMessage",this.core.s.dailymotionPlayerParams&&(c=c+"&"+utils.param(this.core.s.dailymotionPlayerParams)),a='<iframe class="lg-video-object lg-dailymotion '+i+'" width="560" height="315" src="//www.dailymotion.com/embed/video/'+n.dailymotion[1]+c+'" frameborder="0" allowfullscreen></iframe>';else if(n.html5){var u=l.substring(0,1);"."!==u&&"#"!==u||(l=document.querySelector(l).innerHTML),a=l}else n.vk&&(c="&autoplay="+d,this.core.s.vkPlayerParams&&(c=c+"&"+utils.param(this.core.s.vkPlayerParams)),a='<iframe class="lg-video-object lg-vk '+i+'" width="560" height="315" src="http://vk.com/video_ext.php?'+n.vk[1]+c+'" frameborder="0" allowfullscreen></iframe>');return a},Video.prototype.destroy=function(){this.videoLoaded=!1},window.lgModules.video=Video}))},{}]},{},[1])(1)}));