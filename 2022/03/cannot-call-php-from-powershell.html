<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"www.webmanajemen.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.12.1","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>


    <meta name="description" content="fix php environtment path for powershell">
<meta property="og:type" content="article">
<meta property="og:title" content="Cannot run php on powershell">
<meta property="og:url" content="https://www.webmanajemen.com/2022/03/cannot-call-php-from-powershell.html">
<meta property="og:site_name" content="WMI">
<meta property="og:description" content="fix php environtment path for powershell">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://res.cloudinary.com/practicaldev/image/fetch/https://windowstect.com/wp-content/uploads/2021/05/image-80.png">
<meta property="article:published_time" content="2022-03-26T11:30:00.000Z">
<meta property="article:modified_time" content="2022-03-26T11:30:00.000Z">
<meta property="article:author" content="Dimas Lanjaka">
<meta property="article:tag" content="Powershell">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://res.cloudinary.com/practicaldev/image/fetch/https://windowstect.com/wp-content/uploads/2021/05/image-80.png">


<link rel="canonical" href="https://www.webmanajemen.com/2022/03/cannot-call-php-from-powershell.html">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://www.webmanajemen.com/2022/03/cannot-call-php-from-powershell.html","path":"/2022/03/cannot-call-php-from-powershell.html","title":"Cannot run php on powershell"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Cannot run php on powershell | WMI</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-106238155-1"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-106238155-1","only_pageview":false}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>




<script id="hexo-adsense-config" type="application/json">{"enable":true,"article_ads":["source/ads/in_article_kiki.html","source/ads/in_article_kiki2.html"],"pub":"ca-pub-2188063137129806","adblock":false,"https":false,"field":"site","type":"javascript","exclude":["*.min.html","**/exclude/**/*"],"development":false,"args":{"_":[]},"debug":false,"safe":false,"silent":false,"env":"development","version":"6.2.0","cmd":"generate","init":true}</script><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2188063137129806" crossorigin="anonymous"></script>
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
  <link href="/custom.css" rel="stylesheet" />
<link rel="alternate" href="/atom.xml" title="WMI" type="application/atom+xml">
<link rel="alternate" href="/rss.xml" title="WMI" type="application/rss+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">WMI</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Website Management Indonesia</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-privacy"><a href="/p/privacy.html" rel="section"><i class="fa fa-shield fa-fw"></i>privacy</a></li><li class="menu-item menu-item-tos"><a href="/p/tos.html" rel="section"><i class="fa fa-shield fa-fw"></i>tos</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Powershell"><span class="nav-number">1.</span> <span class="nav-text">Powershell</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Powershell-problem-lists-with-php"><span class="nav-number">2.</span> <span class="nav-text">Powershell problem lists with php</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Fix-solution"><span class="nav-number">3.</span> <span class="nav-text">Fix solution</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#now-fix-problem-of-PowerShell-says-%E2%80%9Cexecution-of-scripts-is-disabled-on-this-system-%E2%80%9D"><span class="nav-number">3.1.</span> <span class="nav-text">now fix problem of PowerShell says “execution of scripts is disabled on this system.”</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Change-Execution-Policy-to-Unrestricted-For-All-Users"><span class="nav-number">3.1.1.</span> <span class="nav-text">Change Execution Policy to Unrestricted For All Users</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Youtube-video-tutorial-fix-running-scripts-is-disabled-on-this-system"><span class="nav-number">3.2.</span> <span class="nav-text">Youtube video tutorial - fix running scripts is disabled on this system</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Dimas Lanjaka</p>
  <div class="site-description" itemprop="description">Website Management Indonesia is a blog about scripts, tips and tricks, games, software. Covering php, javascript, jquery, mysql, seo, e-commerce and others.</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">764</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">20</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">74</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/dimaslanjaka" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;dimaslanjaka" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:dimaslanjaka@gmail.com" title="E-Mail → mailto:dimaslanjaka@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.facebook.com/secretnetworkforces" title="FB Page → https:&#x2F;&#x2F;www.facebook.com&#x2F;secretnetworkforces" rel="noopener" target="_blank"><i class="fab fa-facebook fa-fw"></i>FB Page</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  <div class="post-gallery" itemscope itemtype="http://schema.org/ImageGallery">
    
    <div class="post-gallery-image">
      <img src="https://res.cloudinary.com/practicaldev/image/fetch/https://windowstect.com/wp-content/uploads/2021/05/image-80.png" itemprop="contentUrl">
    </div>
    </div>

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://www.webmanajemen.com/2022/03/cannot-call-php-from-powershell.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Dimas Lanjaka">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WMI">
      <meta itemprop="description" content="Website Management Indonesia is a blog about scripts, tips and tricks, games, software. Covering php, javascript, jquery, mysql, seo, e-commerce and others.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Cannot run php on powershell | WMI">
      <meta itemprop="description" content="fix php environtment path for powershell">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Cannot run php on powershell
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-03-26 18:30:00" itemprop="dateCreated datePublished" datetime="2022-03-26T18:30:00+07:00">2022-03-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming/" itemprop="url" rel="index"><span itemprop="name">Programming</span></a>
        </span>
    </span>

  
</div>

            <div class="post-description">fix php environtment path for powershell</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h2 id="Powershell"><a href="#Powershell" class="headerlink" title="Powershell"></a>Powershell</h2><p>Powershell is alternative for default terminal windows.</p>
<h2 id="Powershell-problem-lists-with-php"><a href="#Powershell-problem-lists-with-php" class="headerlink" title="Powershell problem lists with php"></a>Powershell problem lists with php</h2><ul>
<li>cannot call php from powershell</li>
<li>php : The term ‘php’ is not recognized as the name of a cmdlet, function, script file, or operable program. Check the spelling of the<br>name, or if a path was included, verify that the path is correct and try again.<br>At line:1 char:1</li>
</ul>
<h2 id="Fix-solution"><a href="#Fix-solution" class="headerlink" title="Fix solution"></a>Fix solution</h2><ul>
<li>Open directory of your <code>php.exe</code> for example mine is <code>D:\xampp\php\php.exe</code>.<br><img src="https://user-images.githubusercontent.com/12471057/160263043-e813f6e5-9ab3-4b6d-816b-8228e1928f07.png" alt="Environtment Variables Windows"></li>
<li>Create new file called <code>php.ps1</code> and paste below codes:<pre><code class="highlight powershell"><span class="comment">#!/usr/bin/env pwsh</span>
<span class="variable">$basedir</span>=<span class="built_in">Split-Path</span> <span class="variable">$MyInvocation</span>.MyCommand.Definition <span class="literal">-Parent</span>
<span class="built_in">echo</span> <span class="variable">$basedir</span>

<span class="variable">$exe</span>=<span class="string">&quot;&quot;</span>
<span class="keyword">if</span> (<span class="variable">$PSVersionTable</span>.PSVersion <span class="operator">-lt</span> <span class="string">&quot;6.0&quot;</span> <span class="operator">-or</span> <span class="variable">$IsWindows</span>) &#123;
  <span class="comment"># Fix case when both the Windows and Linux builds of Node</span>
  <span class="comment"># are installed in the same directory</span>
  <span class="variable">$exe</span>=<span class="string">&quot;.exe&quot;</span>
&#125;
<span class="variable">$ret</span>=<span class="number">0</span>
<span class="keyword">if</span> (<span class="built_in">Test-Path</span> <span class="string">&quot;<span class="variable">$basedir</span>/php<span class="variable">$exe</span>&quot;</span>) &#123;
  &amp; <span class="string">&quot;<span class="variable">$basedir</span>\php<span class="variable">$exe</span>&quot;</span> <span class="variable">$args</span>
  <span class="variable">$ret</span>=<span class="variable">$LASTEXITCODE</span>
&#125; <span class="keyword">else</span> &#123;
  &amp; <span class="string">&quot;php<span class="variable">$exe</span>&quot;</span> <span class="variable">$args</span>
  <span class="variable">$ret</span>=<span class="variable">$LASTEXITCODE</span>
&#125;
<span class="keyword">exit</span> <span class="variable">$ret</span></code></pre></li>
<li>Create new file called <code>php.cmd</code> and paste below codes:<pre><code class="highlight cmd">:: custom php binary
@<span class="built_in">ECHO</span> OFF

<span class="built_in">SETLOCAL</span>

<span class="built_in">SET</span> &quot;PHP_EXE=<span class="variable">%~dp0\php.exe&quot;</span>
<span class="variable"></span>
<span class="variable">&quot;%</span>PHP_EXE%&quot; %*</code></pre></li>
</ul>
<h3 id="now-fix-problem-of-PowerShell-says-“execution-of-scripts-is-disabled-on-this-system-”"><a href="#now-fix-problem-of-PowerShell-says-“execution-of-scripts-is-disabled-on-this-system-”" class="headerlink" title="now fix problem of PowerShell says “execution of scripts is disabled on this system.”"></a>now fix problem of <strong>PowerShell says “execution of scripts is disabled on this system.”</strong></h3><ul>
<li>Open powershell terminal</li>
<li>type below codes to list <strong>Current Execution Policy</strong><pre><code class="highlight powershell"><span class="built_in">Get-ExecutionPolicy</span></code></pre>
<blockquote>
<p>Result: The execution policy is printed with its name like <em>Restricted</em>. then continue the step</p>
</blockquote>
</li>
<li>type below codes to <strong>Change Execution Policy to Unrestricted For The Current User</strong><pre><code class="highlight powershell"><span class="built_in">Set-ExecutionPolicy</span> <span class="literal">-Scope</span> User Unrestricted</code></pre></li>
</ul>
<h4 id="Change-Execution-Policy-to-Unrestricted-For-All-Users"><a href="#Change-Execution-Policy-to-Unrestricted-For-All-Users" class="headerlink" title="Change Execution Policy to Unrestricted For All Users"></a>Change Execution Policy to Unrestricted For All Users</h4><p>The execution policy can be change to the Unrestricted for all users in the system. In order to accomplish this the PowerShell terminal should be opened with the Local Administrator or Domain Administrator privileges. This is explained in the following posts.</p>
<h3 id="Youtube-video-tutorial-fix-running-scripts-is-disabled-on-this-system"><a href="#Youtube-video-tutorial-fix-running-scripts-is-disabled-on-this-system" class="headerlink" title="Youtube video tutorial - fix running scripts is disabled on this system"></a>Youtube video tutorial - fix running scripts is disabled on this system</h3><div class="video-container">
  <iframe src="https://www.youtube.com/embed/F-fWwkG5Xrk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" loading="lazy" allowfullscreen="true"></iframe>
</div>

<p><strong>incoming terms (problem lists fixable with this article):</strong></p>
<ul>
<li>PowerShell “Running script is disabled on this system” Error and Solution</li>
<li>PowerShell - Running scripts is disabled on this system</li>
<li>php.cmd</li>
<li>php.ps1</li>
</ul>

    </div>

    
    
    
      


    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Powershell/" rel="tag"># Powershell</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2022/03/how-to-solve-error-apache-shutdown-unexpectedly.html" rel="prev" title="How to solve Error Apache shutdown unexpectedly updated 2022">
                  <i class="fa fa-chevron-left"></i> How to solve Error Apache shutdown unexpectedly updated 2022
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2022/03/how-to-change-wordpress-wp-prefix.html" rel="next" title="Change wordpress table prefix updated 2022">
                  Change wordpress table prefix updated 2022 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Dimas Lanjaka</span>
</div>

<script src="https://raw.githack.com/oxterisk/cookiesconsentjs/main/src/cookiesconsent.min.js"></script>
<link rel="stylesheet" href="https://raw.githack.com/oxterisk/cookiesconsentjs/main/src/cookiesconsent.min.css" />
<link rel="stylesheet" href="https://raw.githack.com/oxterisk/cookiesconsentjs/main/src/themes/cookiesconsent.theme-dark.css" />
<script>
 CookiesConsentJS({
      content : {
        // title
        title: "Cookies compliance",
        // message
        message: "We use cookies",
        // custom button text
        btnAccept: "Accept all",
        btnReject: "Reject all",
        btnDismiss: "Cookies policy",
        btnSettings: "Settings",
        btnSettingsSelectAll: "Select all",
        btnSettingsUnselectAll: "Unselect all",
        btnSettingsAccept: "Accept selection",
        btnInfo: "More info",
        policy: "Privacy Policy",
        // left, right, center
        align: "left",
        // policy link
        policyLink : "https://gdpr-info.eu/",
        // Text that will be shown in the information popup
        info: "<h2>This is the info title</h2>",
    },
});
</script>
    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  





  





<div id="hexo-adsense-hidden" style="display:none"><div hexo-adsense="ads-content"><ins
  class="adsbygoogle"
  style="display: block; text-align: center"
  data-ad-layout="in-article"
  data-ad-format="fluid"
  data-ad-client="ca-pub-2188063137129806"
  data-ad-slot="5634823028"></ins>
</div><div hexo-adsense="ads-content"><ins
  class="adsbygoogle"
  style="display: block; text-align: center"
  data-ad-layout="in-article"
  data-ad-format="fluid"
  data-ad-client="ca-pub-2188063137129806"
  data-ad-slot="8481296455"></ins>
</div></div><style>[hexo-adsense=ads-content]{display:block;background:#fff url(//i.imgur.com/mBbv90p.png) no-repeat top right;color:#303030;min-width:250px;text-align:center;margin-left:auto;margin-right:auto}
/*# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFydGljbGUtYWRzLmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSwyQkFDRSxRQUFBLE1BQ0EsV0FBQSxLQUFBLCtCQUFBLFVBQUEsSUFBQSxNQUNBLE1BQUEsUUFHQSxVQUFBLE1BQ0EsV0FBQSxPQUNBLFlBQUEsS0FDQSxhQUFBIiwiZmlsZSI6ImFydGljbGUtYWRzLmNzcyIsInNvdXJjZXNDb250ZW50IjpbIipbaGV4by1hZHNlbnNlPVwiYWRzLWNvbnRlbnRcIl0ge1xuICBkaXNwbGF5OiBibG9jaztcbiAgYmFja2dyb3VuZDogI2ZmZiB1cmwoLy9pLmltZ3VyLmNvbS9tQmJ2OTBwLnBuZykgbm8tcmVwZWF0IHRvcCByaWdodDtcbiAgY29sb3I6ICMzMDMwMzA7XG4gIC8qbWluLWhlaWdodDogMThweDtcbiAgbWluLXdpZHRoOiA4MXB4OyovXG4gIG1pbi13aWR0aDogMjUwcHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbn1cbiJdfQ== */
</style><script>const isBrowser=new Function("try {return this===window;}catch(e){ return false;}"),hexoAdsenseConfig=JSON.parse(document.getElementById("hexo-adsense-config").textContent);function insertAfter(e,t){if(t&&e){let n=t.parentNode;n.lastChild==t?n.appendChild(e):n.insertBefore(e,t.nextSibling)}else console.error("cannot insert element")}function replaceWith(e,t){if(t.parentNode)t.parentNode.replaceChild(e,t);else{console.log(t,"parent null"),document.createElement("div").appendChild(t)}}let createElementFromHTML=function(e){if(e instanceof HTMLElement)return e;var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild};function ranumb(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function newMethod(){const e=document.getElementById("hexo-adsense-hidden");let t=e.querySelectorAll('[hexo-adsense="ads-content"]'),n=document.querySelectorAll("article");if(n.length>0&&t.length>0){let o;if(1==n.length){console.log("webpage is post");let l=n.item(0);const r=l.querySelectorAll("*[hexo-adsense-fill]");if(r.length>0)for(let e=0;e<r.length;e++){const n=r[e];void 0!==t[e]&&n.appendChild(t[e])}if(t=e.querySelectorAll('[hexo-adsense="ads-content"]'),t.length>0){const e=l.querySelectorAll("h1,h2,h3,h4,h5,h6,pre");if(e.length>0){let n=Array.apply(null,{length:e.length}).map(Number.call,Number);for(let l=0;l<t.length;l++){o=t[l];const r=shuffleArr2(n).next().value;if("number"==typeof r){const t=e.item(r);insertAfter(createElementFromHTML(o),t)}}}}if(t=e.querySelectorAll('[hexo-adsense="ads-content"]'),t.length>0){const e=l.querySelectorAll("br,hr");if(e.length>0){const n=shuffleArr2(Array.apply(null,{length:e.length}).map(Number.call,Number));for(let l=0;l<t.length;l++){o=t[l];const r=n.next().value;if("number"==typeof r){const t=e.item(r);if(["blockquote","img","a","pre","code","em","strong","i","u"].includes(t.parentNode.tagName.toLowerCase())){l--;continue}replaceWith(createElementFromHTML(o),t)}}}}}else{console.log("webpage is not post"),n.length||(n=document.querySelectorAll('[class*="recent-post-item"]'));const e=shuffleArr2(Array.apply(null,{length:n.length}).map(Number.call,Number));for(let l=0;l<t.length;l++){o=t[l];const r=e.next().value;if("number"==typeof r){n.item(r).appendChild(createElementFromHTML(o))}}}adsensePush()}}function shuffleArr(e){for(var t,n=e.length,o=0;n--;)o=Math.floor(Math.random()*(n+1)),t=e[n],e[n]=e[o],e[o]=t;return e}function*shuffleArr2(e){for(var t=e.length;t--;)yield e.splice(Math.floor(Math.random()*(t+1)),1)[0]}function adsensePush(){for(let e=0;e<document.querySelectorAll('[hexo-adsense="ads-content"]').length;e++)(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:hexoAdsenseConfig.pub})}isBrowser()?(window.__tcfapi=(e,t,n)=>{"checkConsent"===e&&n(!0),"addEventListener"===e&&n({eventStatus:"tcloaded",gdprApplies:!1},!0)},"function"==typeof document.addEventListener?document.addEventListener("DOMContentLoaded",newMethod):"function"==typeof window.attachEvent?window.attachEvent("onload",newMethod):window.onload=newMethod):module.exports={replaceWith:replaceWith,insertAfter:insertAfter};</script></body>
</html>
