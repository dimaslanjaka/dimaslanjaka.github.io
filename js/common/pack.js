!function(t){function s(t){this.ele=t,this.record=[],this.index=0,this.dir=1,this.status=!1}s.prototype={_toggleClass:function(t,s){var i=this;classArr=t.split(" "),classArr.forEach(function(t){i.ele.classList.toggle(t)}),s&&setTimeout(s,10)},_transfromClass:function(t,s){var i=this;this.ele.addEventListener("transitionend",function t(e){i.ele===e.target&&(s(),i.ele.removeEventListener("transitionend",t))}),this._toggleClass(t)},_animationClass:function(t,s){var i=this;this.ele.addEventListener("animationend",function t(e){i.ele===e.target&&(s(),i.ele.removeEventListener("animationend",t))}),this._toggleClass(t)},_toggle:function(){var t=this.record[this.index];if(this.index===this.record.length||-1===this.index)return this.end&&this.end(),this.index=this.dir>0?this.index-1:0,this.dir*=-1,void(this.status=!1);switch(t.type){case"class":this._toggleClass(t.className,this._toggle.bind(this));break;case"transfrom":this._transfromClass(t.className,this._toggle.bind(this));break;case"animation":this._animationClass(t.className,this._toggle.bind(this))}this.index+=this.dir},base:function(t){return this.record.push({className:t||"js-open",type:"class"}),this},transfrom:function(t){return this.record.push({className:t,type:"transfrom"}),this},animation:function(t){return this.record.push({className:t,type:"animation"}),this},toggle:function(){this.status||(0!==this.index&&this.index!==this.record.length-1||(this.status=!0),this._toggle())},lastStart:function(){var t=this;return this.status=!1,this.index=this.record.length-1,this.dir=-1,this.record.forEach(function(s){t.ele.classList.add(s.className)}),this},end:function(t){return this.end=t,this}},t.Pack=s}(window);