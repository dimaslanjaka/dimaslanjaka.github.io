/**!
 * lg-thumbnail.js | 0.0.4 | August 9th 2016
 * http://sachinchoolur.github.io/lg-thumbnail.js
 * Copyright (c) 2016 Sachin N; 
 * @license Apache 2.0 
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).LgThumbnail=e()}}((function(){return function t(e,o,r){function u(l,h){if(!o[l]){if(!e[l]){var n="function"==typeof require&&require;if(!h&&n)return n(l,!0);if(s)return s(l,!0);var a=new Error("Cannot find module '"+l+"'");throw a.code="MODULE_NOT_FOUND",a}var m=o[l]={exports:{}};e[l][0].call(m.exports,(function(o){var r=e[l][1][o];return u(r||o)}),m,m.exports,t,e,o,r)}return o[l].exports}for(var s="function"==typeof require&&require,l=0;l<r.length;l++)u(r[l]);return u}({1:[function(e,o,r){!function(e,o){if(void 0!==r)o();else{o(),e.lgThumbnail={}}}(this,(function(){"use strict";var e=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var r=arguments[o];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},o={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",thumbWidth:100,thumbContHeight:100,thumbMargin:5,exThumbImage:!1,showThumbByDefault:!0,toggleThumb:!0,pullCaptionUp:!0,enableThumbDrag:!0,enableThumbSwipe:!0,swipeThreshold:50,loadYoutubeThumbnail:!0,youtubeThumbSize:1,loadVimeoThumbnail:!0,vimeoThumbSize:"thumbnail_small",loadDailymotionThumbnail:!0},i=function(r){return this.el=r,this.core=window.lgData[this.el.getAttribute("lg-uid")],this.core.s=e({},o,this.core.s),this.thumbOuter=null,this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.items.length*(this.core.s.thumbWidth+this.core.s.thumbMargin),this.thumbIndex=this.core.index,this.left=0,this.init(),this};i.prototype.init=function(){var e=this;this.core.s.thumbnail&&this.core.items.length>1&&(this.core.s.showThumbByDefault&&setTimeout((function(){utils.addClass(e.core.outer,"lg-thumb-open")}),700),this.core.s.pullCaptionUp&&utils.addClass(this.core.outer,"lg-pull-caption-up"),this.build(),this.core.s.animateThumb?(this.core.s.enableThumbDrag&&!this.core.isTouch&&this.core.doCss()&&this.enableThumbDrag(),this.core.s.enableThumbSwipe&&this.core.isTouch&&this.core.doCss()&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toggle(),this.thumbkeyPress())},i.prototype.build=function(){function t(e,l,h){var n,a=o.core.isVideo(e,h)||{},m="";a.youtube||a.vimeo||a.dailymotion?a.youtube?n=o.core.s.loadYoutubeThumbnail?"//img.youtube.com/vi/"+a.youtube[1]+"/"+o.core.s.youtubeThumbSize+".jpg":l:a.vimeo?o.core.s.loadVimeoThumbnail?(n="//i.vimeocdn.com/video/error_"+s+".jpg",m=a.vimeo[1]):n=l:a.dailymotion&&(n=o.core.s.loadDailymotionThumbnail?"//www.dailymotion.com/thumbnail/video/"+a.dailymotion[1]:l):n=l,r+='<div data-vimeo-id="'+m+'" class="lg-thumb-item" style="width:'+o.core.s.thumbWidth+"px; margin-right: "+o.core.s.thumbMargin+'px"><img src="'+n+'" /></div>',m=""}var e,o=this,r="",s="";switch(this.core.s.vimeoThumbSize){case"thumbnail_large":s="640";break;case"thumbnail_medium":s="200x150";break;case"thumbnail_small":s="100x75"}if(utils.addClass(o.core.outer,"lg-has-thumb"),o.core.outer.querySelector(".lg").insertAdjacentHTML("beforeend",'<div class="lg-thumb-outer"><div class="lg-thumb group"></div></div>'),o.thumbOuter=o.core.outer.querySelector(".lg-thumb-outer"),o.thumbOuterWidth=o.thumbOuter.offsetWidth,o.core.s.animateThumb&&(o.core.outer.querySelector(".lg-thumb").style.width=o.thumbTotalWidth+"px",o.core.outer.querySelector(".lg-thumb").style.position="relative"),this.core.s.animateThumb&&(o.thumbOuter.style.height=o.core.s.thumbContHeight+"px"),o.core.s.dynamic)for(var l=0;l<o.core.s.dynamicEl.length;l++)t(o.core.s.dynamicEl[l].src,o.core.s.dynamicEl[l].thumb,l);else for(var h=0;h<o.core.items.length;h++)o.core.s.exThumbImage?t(o.core.items[h].getAttribute("href")||o.core.items[h].getAttribute("data-src"),o.core.items[h].getAttribute(o.core.s.exThumbImage),h):t(o.core.items[h].getAttribute("href")||o.core.items[h].getAttribute("data-src"),o.core.items[h].querySelector("img").getAttribute("src"),h);o.core.outer.querySelector(".lg-thumb").innerHTML=r,e=o.core.outer.querySelectorAll(".lg-thumb-item");for(var n=0;n<e.length;n++)!function(r){var s=e[r],l=s.getAttribute("data-vimeo-id");if(l){window["lgJsonP"+o.el.getAttribute("lg-uid")+n]=function(e){s.querySelector("img").setAttribute("src",e[0][o.core.s.vimeoThumbSize])};var h=document.createElement("script");h.className="lg-script",h.src="//www.vimeo.com/api/v2/video/"+l+".json?callback=lgJsonP"+o.el.getAttribute("lg-uid")+n,document.body.appendChild(h)}}(n);utils.addClass(e[o.core.index],"active"),utils.on(o.core.el,"onBeforeSlide.lgtm",(function(){for(var r=0;r<e.length;r++)utils.removeClass(e[r],"active");utils.addClass(e[o.core.index],"active")}));for(var a=0;a<e.length;a++)!function(r){utils.on(e[r],"click.lg touchend.lg",(function(){setTimeout((function(){(o.thumbClickable&&!o.core.lgBusy||!o.core.doCss())&&(o.core.index=r,o.core.slide(o.core.index,!1,!0))}),50)}))}(a);utils.on(o.core.el,"onBeforeSlide.lgtm",(function(){o.animateThumb(o.core.index)})),utils.on(window,"resize.lgthumb orientationchange.lgthumb",(function(){setTimeout((function(){o.animateThumb(o.core.index),o.thumbOuterWidth=o.thumbOuter.offsetWidth}),200)}))},i.prototype.setTranslate=function(e){utils.setVendor(this.core.outer.querySelector(".lg-thumb"),"Transform","translate3d(-"+e+"px, 0px, 0px)")},i.prototype.animateThumb=function(e){var o=this.core.outer.querySelector(".lg-thumb");if(this.core.s.animateThumb){var r;switch(this.core.s.currentPagerPosition){case"left":r=0;break;case"middle":r=this.thumbOuterWidth/2-this.core.s.thumbWidth/2;break;case"right":r=this.thumbOuterWidth-this.core.s.thumbWidth}this.left=(this.core.s.thumbWidth+this.core.s.thumbMargin)*e-1-r,this.left>this.thumbTotalWidth-this.thumbOuterWidth&&(this.left=this.thumbTotalWidth-this.thumbOuterWidth),this.left<0&&(this.left=0),this.core.lGalleryOn?(utils.hasClass(o,"on")||utils.setVendor(this.core.outer.querySelector(".lg-thumb"),"TransitionDuration",this.core.s.speed+"ms"),this.core.doCss()||(o.style.left=-this.left+"px")):this.core.doCss()||(o.style.left=-this.left+"px"),this.setTranslate(this.left)}},i.prototype.enableThumbDrag=function(){var e=this,o=0,r=0,s=!1,l=!1,h=0;utils.addClass(e.thumbOuter,"lg-grab"),utils.on(e.core.outer.querySelector(".lg-thumb"),"mousedown.lgthumb",(function(r){e.thumbTotalWidth>e.thumbOuterWidth&&(r.preventDefault(),o=r.pageX,s=!0,e.core.outer.scrollLeft+=1,e.core.outer.scrollLeft-=1,e.thumbClickable=!1,utils.removeClass(e.thumbOuter,"lg-grab"),utils.addClass(e.thumbOuter,"lg-grabbing"))})),utils.on(window,"mousemove.lgthumb",(function(n){s&&(h=e.left,l=!0,r=n.pageX,utils.addClass(e.thumbOuter,"lg-dragging"),(h-=r-o)>e.thumbTotalWidth-e.thumbOuterWidth&&(h=e.thumbTotalWidth-e.thumbOuterWidth),h<0&&(h=0),e.setTranslate(h))})),utils.on(window,"mouseup.lgthumb",(function(){l?(l=!1,utils.removeClass(e.thumbOuter,"lg-dragging"),e.left=h,Math.abs(r-o)<e.core.s.swipeThreshold&&(e.thumbClickable=!0)):e.thumbClickable=!0,s&&(s=!1,utils.removeClass(e.thumbOuter,"lg-grabbing"),utils.addClass(e.thumbOuter,"lg-grab"))}))},i.prototype.enableThumbSwipe=function(){var e=this,o=0,r=0,s=!1,l=0;utils.on(e.core.outer.querySelector(".lg-thumb"),"touchstart.lg",(function(r){e.thumbTotalWidth>e.thumbOuterWidth&&(r.preventDefault(),o=r.targetTouches[0].pageX,e.thumbClickable=!1)})),utils.on(e.core.outer.querySelector(".lg-thumb"),"touchmove.lg",(function(h){e.thumbTotalWidth>e.thumbOuterWidth&&(h.preventDefault(),r=h.targetTouches[0].pageX,s=!0,utils.addClass(e.thumbOuter,"lg-dragging"),l=e.left,(l-=r-o)>e.thumbTotalWidth-e.thumbOuterWidth&&(l=e.thumbTotalWidth-e.thumbOuterWidth),l<0&&(l=0),e.setTranslate(l))})),utils.on(e.core.outer.querySelector(".lg-thumb"),"touchend.lg",(function(){e.thumbTotalWidth>e.thumbOuterWidth&&s?(s=!1,utils.removeClass(e.thumbOuter,"lg-dragging"),Math.abs(r-o)<e.core.s.swipeThreshold&&(e.thumbClickable=!0),e.left=l):e.thumbClickable=!0}))},i.prototype.toggle=function(){var e=this;e.core.s.toggleThumb&&(utils.addClass(e.core.outer,"lg-can-toggle"),e.thumbOuter.insertAdjacentHTML("beforeend",'<span class="lg-toggle-thumb lg-icon"></span>'),utils.on(e.core.outer.querySelector(".lg-toggle-thumb"),"click.lg",(function(){utils.hasClass(e.core.outer,"lg-thumb-open")?utils.removeClass(e.core.outer,"lg-thumb-open"):utils.addClass(e.core.outer,"lg-thumb-open")})))},i.prototype.thumbkeyPress=function(){var e=this;utils.on(window,"keydown.lgthumb",(function(o){38===o.keyCode?(o.preventDefault(),utils.addClass(e.core.outer,"lg-thumb-open")):40===o.keyCode&&(o.preventDefault(),utils.removeClass(e.core.outer,"lg-thumb-open"))}))},i.prototype.destroy=function(){if(this.core.s.thumbnail&&this.core.items.length>1){utils.off(window,".lgthumb"),this.thumbOuter.parentNode.removeChild(this.thumbOuter),utils.removeClass(this.core.outer,"lg-has-thumb");for(var e=document.getElementsByClassName("lg-script");e[0];)e[0].parentNode.removeChild(e[0])}},window.lgModules.thumbnail=i}))},{}]},{},[1])(1)}));