---
author:
  nick: Dimas Lanjaka Kumala Indra
  link: https://www.blogger.com/profile/17555754514989936273
  email: noreply@blogger.com
category:
  - Uncategorized
comments: true
cover: https://imgcdn.000webhostapp.com/https/1.bp.blogspot.com/8554a2b99506f0fdc49578e7bed10bb4.jpeg
date: 2019-12-09T02:56:00.000+07:00
lang: en
location: ""
modified: 2019-12-09T02:57:54.806+07:00
subtitle: Finally, the Blogger Thumbnail Can Support WEBP This is the result of
  my imprisonment that I have done for almost 4 weeks, hahaha ...
tags:
  - Blogger
  - Tips & Tricks
title: Finally the Blogger Thumbnail Can Support WEBP
type: post
uuid: 79969e71-fb68-4888-86fc-2b6bd37df609
webtitle: WMI Gitlab
updated: 2019-12-09T02:57:54+07:00
thumbnail: https://imgcdn.000webhostapp.com/https/1.bp.blogspot.com/8554a2b99506f0fdc49578e7bed10bb4.jpeg
photos:
  - https://imgcdn.000webhostapp.com/https/1.bp.blogspot.com/8554a2b99506f0fdc49578e7bed10bb4.jpeg
description: Finally, the Blogger Thumbnail Can Support WEBP This is the result
  of my imprisonment that I have done for almost 4 weeks, hahaha ...
excerpt: Finally, the Blogger Thumbnail Can Support WEBP This is the result of
  my imprisonment that I have done for almost 4 weeks, hahaha ...
wordcount: 2344
---

<div id="A-G-C" date="08 Dec 2019 19:48:38"><div class="post-body entry-content" id="post-body-6615589208199886853"><br><div class="clear"></div><br><p class="desc-post fontroboto fontweight400 m0 p0"> <span class="notranslate"> Finally, the Blogger Thumbnail Can Support WEBP - This is the result of my imprisonment that I have done for almost 4 weeks, hahaha ... (just kidding, so don't think so ...).</span> <span class="notranslate"> An inspiration finally stopped in my head for Blogger thumbnail solutions to support WEBP.</span> </p><noscript><img alt="Akhirnya Thumbnail Blogger Bisa Support WEBP" height="720" src="https://imgcdn.000webhostapp.com/https/1.bp.blogspot.com/8554a2b99506f0fdc49578e7bed10bb4.jpeg" title="Finally the Blogger Thumbnail Can Support WEBP" width="1280"></noscript><p> <span class="notranslate"> The problem of <i>presenting images in the next-gen format</i> that came from Blogger thumbnails when tested using Pagespeed Insights and Lighthouse is still an unsolved case because Blogger doesn't yet support the WEBP image format for thumbnails.</span> </p><p> <span class="notranslate"> As for the picture posting, it can already be good for AMP and for NON AMP.</span> <span class="notranslate"> You can refer to the post about how to convert <a href="https://web-manajemen.blogspot.com/p/search.html?q=cara%20mudah%20mengkonversi%20gambar%20blogger" target="_blank" title="Blogger image becomes WebP for amp-img" rel="follow">Blogger images into WebP for amp-img</a> and <a href="https://web-manajemen.blogspot.com/p/search.html?q=penggunaan%20gambar%20webp%20pada%20postingan" target="_blank" title="WebP images on Non AMP Blogger posts" rel="follow">WebP images on Non-AMP Blogger posts</a> .</span> </p><a name="more" title="Finally the Blogger Thumbnail Can Support WEBP"></a><p> <span class="notranslate"> But finally I got a solution for Blogger thumbnails to support WEBP with the help of <a href="https://dimaslanjaka.github.io/page/safelink.html?url=PGEgaHJlZj0iaHR0cHM6Ly9kZXZlbG9wZXJzLm1hcnNibGUuY29tL2RvY3Mvc3RhdGljYWxseS9pbWdweCIgcmVsPSJub2ZvbGxvdyBub29wZW5lciIgdGFyZ2V0PSJfYmxhbmsiIHRpdGxlPSJTdGF0aWNhbGx5IEltZ3B4Ij5TdGF0aWNhbGx5IEltZ3B4PC9hPg==" rel="nofollow noopener" target="_blank" title="Statically Imgpx">Statically Imgpx</a> and <a href="https://github.com/aFarkas/lazysizes" rel="noopener noreferer nofollow" target="_blank" title="Lazysizes.js">Lazysizes.js</a> .</span> <span class="notranslate"> But this is still only for Non AMP, for AMP I have not got the solution.</span> </p><p> <span class="notranslate"> I made use of the Statically Imgpx feature to change Blogger images to support WEBP by using Lazysizes.js to change the URL of the image as well as to lazyload the image.</span> </p><p> <span class="notranslate"> So with this, 2 problems in Pagespeed Insights and Lighthouse can be resolved, namely <i>Serve images in next-gen formats</i> and <i>Defer offscreen images</i> .</span> </p><p> <span class="notranslate"> With Lazysizes.js I changed the Blogger image URL to the following by slightly modifying the script.</span> </p><p> <span class="notranslate"> Original URL:</span> </p><pre class="notranslate html"> <code class="notranslate plaintext"> https://imgcdn.000webhostapp.com/https/3.bp.blogspot.com/9f9605a4279fc03cb70a53a9b6505a69.jpeg</code> </pre><p> <span class="notranslate"> Modified Lazysizes URL and blogger thumbnail code:</span> </p><pre class="notranslate html"> <code class="notranslate html"> </code> <mark>https://cdn.statically.io/img/</mark>imgcdn.000webhostapp.com/https/3.bp.blogspot.com/9f9605a4279fc03cb70a53a9b6505a69.jpeg<mark>?format=webp</mark></pre><p> <span class="notranslate"> For the demo, please try saving the thumbnail image on the homepage post and the popular thumbnail post with the Chrome browser on the following demo blog, the image will be saved in the WEBP format later.</span> </p><div class="center"> <span class="notranslate"> <a class="btn btn-primary btn-lg" href="https://dimaslanjaka.github.io/page/safelink.html?url=PGEgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSBidG4tbGciIGhyZWY9Imh0dHBzOi8vYXlvdmlyYWxrYW52aWRlby5ibG9nc3BvdC5jb20vIiByZWw9Im5vb3BlbmVyIiB0YXJnZXQ9Il9ibGFuayIgdGl0bGU9IkRlbW8iPkRFTU88L2E%20" rel="nofollow noopener" target="_blank" title="Demo">DEMO</a></span> </div><p> <span class="notranslate"> And the following test results on Pagespeed Insights, for the problem of format and image defer can be overcome.</span> </p><div class="center"> <span class="notranslate"> <a class="btn btn-primary btn-lg" href="https://developers.google.com/speed/pagespeed/insights/?url=https://ayoviralkanvideo.blogspot.com/?m=1" rel="noopener noreferer nofollow" target="_blank" title="Pagespeed Insights test results">Pagespeed Insights test results</a></span> </div><p> <span class="notranslate"> If you want to try it, please use the following codes.</span> </p><p> <span class="notranslate"> Please save the Lazysizes.js script that I have modified to change the Blogger image URL to Statically Imgpx.</span> </p><pre class="notranslate javascript"> <code class="notranslate javascript"> /*! lazysizes - v5.1.0 */<br> !function(a,b){var c=b(a,a.document);a.lazySizes=c,"object"==typeof module&amp;&amp;module.exports&amp;&amp;(module.exports=c)}("undefined"!=typeof window?window:{},function(a,b){"use strict";var c,d;if(function(){var b,c={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};d=a.lazySizesConfig||a.lazysizesConfig||{};for(b in c)b in d||(d[b]=c[b])}(),!b||!b.getElementsByClassName)return{init:function(){},cfg:d,noSupport:!0};var e=b.documentElement,f=a.Date,g=a.HTMLPictureElement,h="addEventListener",i="getAttribute",j=a[h],k=a.setTimeout,l=a.requestAnimationFrame||k,m=a.requestIdleCallback,n=/^picture$/i,o=["load","error","lazyincluded","_lazyloaded"],p={},q=Array.prototype.forEach,r=function(a,b){return p[b]||(p[b]=new RegExp("(\s|^)"+b+"(\s|$)")),p[b].test(a[i]("class")||"")&amp;&amp;p[b]},s=function(a,b){r(a,b)||a.setAttribute("class",(a[i]("class")||"").trim()+" "+b)},t=function(a,b){var c;(c=r(a,b))&amp;&amp;a.setAttribute("class",(a[i]("class")||"").replace(c," "))},u=function(a,b,c){var d=c?h:"removeEventListener";c&amp;&amp;u(a,b),o.forEach(function(c){a[d](c,b)})},v=function(a,d,e,f,g){var h=b.createEvent("Event");return e||(e={}),e.instance=c,h.initEvent(d,!f,!g),h.detail=e,a.dispatchEvent(h),h},w=function(b,c){var e;!g&amp;&amp;(e=a.picturefill||d.pf)?(c&amp;&amp;c.src&amp;&amp;!b[i]("srcset")&amp;&amp;b.setAttribute("srcset",c.src),e({reevaluate:!0,elements:[b]})):c&amp;&amp;c.src&amp;&amp;(b.src=c.src)},x=function(a,b){return(getComputedStyle(a,null)||{})[b]},y=function(a,b,c){for(c=c||a.offsetWidth;c&lt;d.minSize&amp;&amp;b&amp;&amp;!a._lazysizesWidth;)c=b.offsetWidth,b=b.parentNode;return c},z=function(){var a,c,d=[],e=[],f=d,g=function(){var b=f;for(f=d.length?e:d,a=!0,c=!1;b.length;)b.shift()();a=!1},h=function(d,e){a&amp;&amp;!e?d.apply(this,arguments):(f.push(d),c||(c=!0,(b.hidden?k:l)(g)))};return h._lsFlush=g,h}(),A=function(a,b){return b?function(){z(a)}:function(){var b=this,c=arguments;z(function(){a.apply(b,c)})}},B=function(a){var b,c=0,e=d.throttleDelay,g=d.ricTimeout,h=function(){b=!1,c=f.now(),a()},i=m&amp;&amp;g&gt;49?function(){m(h,{timeout:g}),g!==d.ricTimeout&amp;&amp;(g=d.ricTimeout)}:A(function(){k(h)},!0);return function(a){var d;(a=!0===a)&amp;&amp;(g=33),b||(b=!0,d=e-(f.now()-c),d&lt;0&amp;&amp;(d=0),a||d&lt;9?i():k(i,d))}},C=function(a){var b,c,d=99,e=function(){b=null,a()},g=function(){var a=f.now()-c;a&lt;d?k(g,d-a):(m||e)(e)};return function(){c=f.now(),b||(b=k(g,d))}},D=function(){var g,l,m,o,p,y,D,F,G,H,I,J,K=/^img$/i,L=/^iframe$/i,M="onscroll"in a&amp;&amp;!/(gle|ing)bot/.test(navigator.userAgent),N=0,O=0,P=0,Q=-1,R=function(a){P--,(!a||P&lt;0||!a.target)&amp;&amp;(P=0)},S=function(a){return null==J&amp;&amp;(J="hidden"==x(b.body,"visibility")),J||"hidden"!=x(a.parentNode,"visibility")&amp;&amp;"hidden"!=x(a,"visibility")},T=function(a,c){var d,f=a,g=S(a);for(F-=c,I+=c,G-=c,H+=c;g&amp;&amp;(f=f.offsetParent)&amp;&amp;f!=b.body&amp;&amp;f!=e;)(g=(x(f,"opacity")||1)&gt;0)&amp;&amp;"visible"!=x(f,"overflow")&amp;&amp;(d=f.getBoundingClientRect(),g=H&gt;d.left&amp;&amp;G&lt;d.right&amp;&amp;I&gt;d.top-1&amp;&amp;F&lt;d.bottom+1);return g},U=function(){var a,f,h,j,k,m,n,p,q,r,s,t,u=c.elements;if((o=d.loadMode)&amp;&amp;P&lt;8&amp;&amp;(a=u.length)){for(f=0,Q++;f&lt;a;f++)if(u[f]&amp;&amp;!u[f]._lazyRace)if(!M||c.prematureUnveil&amp;&amp;c.prematureUnveil(u[f]))aa(u[f]);else if((p=u[f][i]("data-expand"))&amp;&amp;(m=1*p)||(m=O),r||(r=!d.expand||d.expand&lt;1?e.clientHeight&gt;500&amp;&amp;e.clientWidth&gt;500?500:370:d.expand,c._defEx=r,s=r*d.expFactor,t=d.hFac,J=null,O&lt;s&amp;&amp;P&lt;1&amp;&amp;Q&gt;2&amp;&amp;o&gt;2&amp;&amp;!b.hidden?(O=s,Q=0):O=o&gt;1&amp;&amp;Q&gt;1&amp;&amp;P&lt;6?r:N),q!==m&amp;&amp;(y=innerWidth+m*t,D=innerHeight+m,n=-1*m,q=m),h=u[f].getBoundingClientRect(),(I=h.bottom)&gt;=n&amp;&amp;(F=h.top)&lt;=D&amp;&amp;(H=h.right)&gt;=n*t&amp;&amp;(G=h.left)&lt;=y&amp;&amp;(I||H||G||F)&amp;&amp;(d.loadHidden||S(u[f]))&amp;&amp;(l&amp;&amp;P&lt;3&amp;&amp;!p&amp;&amp;(o&lt;3||Q&lt;4)||T(u[f],m))){if(aa(u[f]),k=!0,P&gt;9)break}else!k&amp;&amp;l&amp;&amp;!j&amp;&amp;P&lt;4&amp;&amp;Q&lt;4&amp;&amp;o&gt;2&amp;&amp;(g[0]||d.preloadAfterLoad)&amp;&amp;(g[0]||!p&amp;&amp;(I||H||G||F||"auto"!=u[f][i](d.sizesAttr)))&amp;&amp;(j=g[0]||u[f]);j&amp;&amp;!k&amp;&amp;aa(j)}},V=B(U),W=function(a){var b=a.target;if(b._lazyCache)return void delete b._lazyCache;R(a),s(b,d.loadedClass),t(b,d.loadingClass),u(b,Y),v(b,"lazyloaded")},X=A(W),Y=function(a){X({target:a.target})},Z=function(a,b){try{a.contentWindow.location.replace(b)}catch(c){a.src=b}},$=function(a){var b,c=a[i](d.srcsetAttr)</code> <mark>.replace(/.*?:///g,"https://cdn.statically.io/img/")</mark>;(b=d.customMedia[a[i]("data-media")||a[i]("media")])&amp;&amp;a.setAttribute("media",b),c&amp;&amp;a.setAttribute("srcset",c)},_=A(function(a,b,c,e,f){var g,h,j,l,o,p;(o=v(a,"lazybeforeunveil",b)).defaultPrevented||(e&amp;&amp;(c?s(a,d.autosizesClass):a.setAttribute("sizes",e)),h=a[i](d.srcsetAttr),g=a[i](d.srcAttr)<mark>.replace(/.*?:///g,"//")</mark>,f&amp;&amp;(j=a.parentNode,l=j&amp;&amp;n.test(j.nodeName||"")),p=b.firesLoad||"src"in a&amp;&amp;(h||g||l),o={target:a},s(a,d.loadingClass),p&amp;&amp;(clearTimeout(m),m=k(R,2500),u(a,Y,!0)),l&amp;&amp;q.call(j.getElementsByTagName("source"),$),h?a.setAttribute("srcset",h):g&amp;&amp;!l&amp;&amp;(L.test(a.nodeName)?Z(a,g):a.src=g),f&amp;&amp;(h||l)&amp;&amp;w(a,{src:g})),a._lazyRace&amp;&amp;delete a._lazyRace,t(a,d.lazyClass),z(function(){var b=a.complete&amp;&amp;a.naturalWidth&gt;1;p&amp;&amp;!b||(b&amp;&amp;s(a,"ls-is-cached"),W(o),a._lazyCache=!0,k(function(){"_lazyCache"in a&amp;&amp;delete a._lazyCache},9)),"lazy"==a.loading&amp;&amp;P--},!0)}),aa=function(a){if(!a._lazyRace){var b,c=K.test(a.nodeName),e=c&amp;&amp;(a[i](d.sizesAttr)||a[i]("sizes")),f="auto"==e;(!f&amp;&amp;l||!c||!a[i]("src")&amp;&amp;!a.srcset||a.complete||r(a,d.errorClass)||!r(a,d.lazyClass))&amp;&amp;(b=v(a,"lazyunveilread").detail,f&amp;&amp;E.updateElem(a,!0,a.offsetWidth),a._lazyRace=!0,P++,_(a,b,f,e,c))}},ba=C(function(){d.loadMode=3,V()}),ca=function(){3==d.loadMode&amp;&amp;(d.loadMode=2),ba()},da=function(){if(!l){if(f.now()-p&lt;999)return void k(da,999);l=!0,d.loadMode=3,V(),j("scroll",ca,!0)}};return{_:function(){p=f.now(),c.elements=b.getElementsByClassName(d.lazyClass),g=b.getElementsByClassName(d.lazyClass+" "+d.preloadClass),j("scroll",V,!0),j("resize",V,!0),a.MutationObserver?new MutationObserver(V).observe(e,{childList:!0,subtree:!0,attributes:!0}):(e[h]("DOMNodeInserted",V,!0),e[h]("DOMAttrModified",V,!0),setInterval(V,999)),j("hashchange",V,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(a){b[h](a,V,!0)}),/d$|^c/.test(b.readyState)?da():(j("load",da),b[h]("DOMContentLoaded",V),k(da,2e4)),c.elements.length?(U(),z._lsFlush()):V()},checkElems:V,unveil:aa,_aLSL:ca}}(),E=function(){var a,c=A(function(a,b,c,d){var e,f,g;if(a._lazysizesWidth=d,d+="px",a.setAttribute("sizes",d),n.test(b.nodeName||""))for(e=b.getElementsByTagName("source"),f=0,g=e.length;f&lt;g;f++)e[f].setAttribute("sizes",d);c.detail.dataAttr||w(a,c.detail)}),e=function(a,b,d){var e,f=a.parentNode;f&amp;&amp;(d=y(a,f,d),e=v(a,"lazybeforesizes",{width:d,dataAttr:!!b}),e.defaultPrevented||(d=e.detail.width)&amp;&amp;d!==a._lazysizesWidth&amp;&amp;c(a,f,e,d))},f=function(){var b,c=a.length;if(c)for(b=0;b&lt;c;b++)e(a[b])},g=C(f);return{_:function(){a=b.getElementsByClassName(d.autosizesClass),j("resize",g)},checkElems:g,updateElem:e}}(),F=function(){!F.i&amp;&amp;b.getElementsByClassName&amp;&amp;(F.i=!0,E._(),D._())};return k(function(){d.init&amp;&amp;F()}),c={cfg:d,autoSizer:E,loader:D,init:F,uP:w,aC:s,rC:t,hC:r,fire:v,gW:y,rAF:z}});</pre><p> <span class="notranslate"> Then use the following code to display the homepage thumbnail thumbnail.</span> </p><pre class="notranslate xml"> <code class="notranslate xml"> &lt;b:if cond='data:post.thumbnailUrl'&gt;<br> &lt;picture&gt;<br> &nbsp; &lt;source expr:data-srcset='resizeImage(data:post.thumbnailUrl, 600, &amp;quot;16:9&amp;quot;) + &amp;quot;?format=webp&amp;quot;' type='image/webp'/&gt;<br> &nbsp; &lt;source expr:data-srcset='resizeImage(data:post.thumbnailUrl, 600, &amp;quot;16:9&amp;quot;)' type='image/jpg'/&gt;<br> &nbsp; &lt;img class='lazyload' expr:alt='data:post.title' expr:data-src='resizeImage(data:post.thumbnailUrl, 600, &amp;quot;16:9&amp;quot;)' expr:title='data:post.title' height='9' src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAJAQMAAAAB5D5xAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAApJREFUCNdjwA0AABsAAQrj5HwAAAAASUVORK5CYII=' width='16'/&gt;<br> &lt;/picture&gt;<br> &lt;/b:if&gt;</code> </pre><p> <span class="notranslate"> For popular posts:</span> </p><pre class="notranslate xml"> <code class="notranslate xml"> &lt;b:if cond='data:post.thumbnail'&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class='item-thumbnail'&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;picture&gt;<br> &nbsp; &lt;source expr:data-srcset='resizeImage(data:post.thumbnail, 138, &amp;quot;16:9&amp;quot;) + &amp;quot;?format=webp&amp;quot;' type='image/webp'/&gt;<br> &nbsp; &lt;source expr:data-srcset='resizeImage(data:post.thumbnail, 138, &amp;quot;16:9&amp;quot;)' type='image/jpg'/&gt;<br> &nbsp; &lt;img class='lazyload' expr:alt='data:post.title' expr:data-src='resizeImage(data:post.thumbnail, 138, &amp;quot;16:9&amp;quot;)' expr:title='data:post.title' height='9' src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAJAQMAAAAB5D5xAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAApJREFUCNdjwA0AABsAAQrj5HwAAAAASUVORK5CYII=' width='16'/&gt;<br> &lt;/picture&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/b:if&gt;</code> </pre><p> <span class="notranslate"> For the size and dimensions of the image in the code above, please adjust to the needs of your blog.</span> </p><p> <span class="notranslate"> Maybe someone asks, why use the <code class="notranslate html">&lt;picture&gt;</code> tag?</span> <span class="notranslate"> Because until now not all browsers support WEBP image format.</span> <span class="notranslate"> With the <code class="notranslate html">&lt;picture&gt;</code> tag, there we also provide a * .jpg image fallback for browsers that don't support WEBP.</span> </p><p> <span class="notranslate"> What I expect from Blogger, can modify the blogger thumbnail code like to resizeImage so we can modify the url for blogger image parameters.</span> </p><p> <span class="notranslate"> May be useful.</span> </p><div class="clear"></div></div><br><div class="clear"></div><div class="clear"></div><img src="https://imgcdn.000webhostapp.com/https/imgcdn.000webhostapp.com/531bf50b6e4cbae75b3d9d3b93f8857c.jpeg" alt="Finally the Blogger Thumbnail Can Support WEBP"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/dimaslanjaka/Web-Manajemen@master/AGC/css/responsive.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.16.2/build/styles/default.min.css"><script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.16.2/build/highlight.min.js"></script><script src="https://codepen.io/dimaslanjaka/pen/dyPYagy.js"></script><script src="https://codepen.io/dimaslanjaka/pen/aQRrbR.js"></script>