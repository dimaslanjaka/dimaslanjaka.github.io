/**!
 * lg-video.js | 0.0.1 | August 1st 2016
 * http://sachinchoolur.github.io/lg-video.js
 * Copyright (c) 2016 Sachin N; 
 * @license Apache 2.0 
 */
!function(r){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).LgVideo=r()}}((function(){return function e(r,l,s){function t(d,n){if(!l[d]){if(!r[d]){var u="function"==typeof require&&require;if(!n&&u)return u(d,!0);if(a)return a(d,!0);var y=new Error("Cannot find module '"+d+"'");throw y.code="MODULE_NOT_FOUND",y}var f=l[d]={exports:{}};r[d][0].call(f.exports,(function(l){var s=r[d][1][l];return t(s||l)}),f,f.exports,e,r,l,s)}return l[d].exports}for(var a="function"==typeof require&&require,d=0;d<s.length;d++)t(s[d]);return t}({1:[function(r,l,s){!function(r,l){if(void 0!==s)l();else{l(),r.lgVideo={}}}(this,(function(){"use strict";var r=Object.assign||function(r){for(var l=1;l<arguments.length;l++){var s=arguments[l];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])}return r},l={videoMaxWidth:"855px",youtubePlayerParams:!1,vimeoPlayerParams:!1,dailymotionPlayerParams:!1,vkPlayerParams:!1,videojs:!1,videojsOptions:{}},i=function(s){return this.el=s,this.core=window.lgData[this.el.getAttribute("lg-uid")],this.core.s=r({},l,this.core.s),this.videoLoaded=!1,this.init(),this};i.prototype.init=function(){var r=this;utils.on(r.core.el,"hasVideo.lgtm",(function(l){if(r.core.___slide[l.detail.index].querySelector(".lg-video").insertAdjacentHTML("beforeend",r.loadVideo(l.detail.src,"lg-object",!0,l.detail.index,l.detail.html)),l.detail.html)if(r.core.s.videojs)try{videojs(r.core.___slide[l.detail.index].querySelector(".lg-html5"),r.core.s.videojsOptions,(function(){r.videoLoaded||this.play()}))}catch(r){console.error("Make sure you have included videojs")}else r.core.___slide[l.detail.index].querySelector(".lg-html5").play()})),utils.on(r.core.el,"onAferAppendSlide.lgtm",(function(l){r.core.___slide[l.detail.index].querySelector(".lg-video-cont")&&(r.core.___slide[l.detail.index].querySelector(".lg-video-cont").style.maxWidth=r.core.s.videoMaxWidth,r.videoLoaded=!0)}));var o=function(l){if(utils.hasClass(l.querySelector(".lg-object"),"lg-has-poster")&&"none"!==l.querySelector(".lg-object").style.display)if(utils.hasClass(l,"lg-has-video")){var s=l.querySelector(".lg-youtube"),a=l.querySelector(".lg-vimeo"),d=l.querySelector(".lg-dailymotion"),n=l.querySelector(".lg-html5");if(s)s.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*");else if(a)try{$f(a).api("play")}catch(r){console.error("Make sure you have included froogaloop2 js")}else if(d)d.contentWindow.postMessage("play","*");else if(n)if(r.core.s.videojs)try{videojs(n).play()}catch(r){console.error("Make sure you have included videojs")}else n.play();utils.addClass(l,"lg-video-playing")}else{utils.addClass(l,"lg-video-playing lg-has-video");var c=function(s,a){if(l.querySelector(".lg-video").insertAdjacentHTML("beforeend",r.loadVideo(s,"",!1,r.core.index,a)),a)if(r.core.s.videojs)try{videojs(r.core.___slide[r.core.index].querySelector(".lg-html5"),r.core.s.videojsOptions,(function(){this.play()}))}catch(r){console.error("Make sure you have included videojs")}else r.core.___slide[r.core.index].querySelector(".lg-html5").play()};r.core.s.dynamic?c(r.core.s.dynamicEl[r.core.index].src,r.core.s.dynamicEl[r.core.index].html):c(r.core.items[r.core.index].getAttribute("href")||r.core.items[r.core.index].getAttribute("data-src"),r.core.items[r.core.index].getAttribute("data-html"));var u=l.querySelector(".lg-object");l.querySelector(".lg-video").appendChild(u),utils.hasClass(l.querySelector(".lg-video-object"),"lg-html5")||(utils.removeClass(l,"lg-complete"),utils.on(l.querySelector(".lg-video-object"),"load.lg error.lg",(function(){utils.addClass(l,"lg-complete")})))}};if(r.core.doCss()&&r.core.items.length>1&&(r.core.s.enableSwipe&&r.core.isTouch||r.core.s.enableDrag&&!r.core.isTouch))utils.on(r.core.el,"onSlideClick.lgtm",(function(){var l=r.core.___slide[r.core.index];o(l)}));else for(var l=0;l<r.core.___slide.length;l++)!function(l){utils.on(r.core.___slide[l],"click.lg",(function(){o(r.core.___slide[l])}))}(l);utils.on(r.core.el,"onBeforeSlide.lgtm",(function(l){var s,a=r.core.___slide[l.detail.prevIndex],d=a.querySelector(".lg-youtube"),n=a.querySelector(".lg-vimeo"),u=a.querySelector(".lg-dailymotion"),y=a.querySelector(".lg-vk"),f=a.querySelector(".lg-html5");if(d)d.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*");else if(n)try{$f(n).api("pause")}catch(r){console.error("Make sure you have included froogaloop2 js")}else if(u)u.contentWindow.postMessage("pause","*");else if(f)if(r.core.s.videojs)try{videojs(f).pause()}catch(r){console.error("Make sure you have included videojs")}else f.pause();y&&y.setAttribute("src",y.getAttribute("src").replace("&autoplay","&noplay")),s=r.core.s.dynamic?r.core.s.dynamicEl[l.detail.index].src:r.core.items[l.detail.index].getAttribute("href")||r.core.items[l.detail.index].getAttribute("data-src");var m=r.core.isVideo(s,l.detail.index)||{};(m.youtube||m.vimeo||m.dailymotion||m.vk)&&utils.addClass(r.core.outer,"lg-hide-download")})),utils.on(r.core.el,"onAfterSlide.lgtm",(function(l){utils.removeClass(r.core.___slide[l.detail.prevIndex],"lg-video-playing")}))},i.prototype.loadVideo=function(r,l,s,a,d){var n="",u=1,y="",f=this.core.isVideo(r,a)||{};if(s&&(u=this.videoLoaded?0:1),f.youtube)y="?wmode=opaque&autoplay="+u+"&enablejsapi=1",this.core.s.youtubePlayerParams&&(y=y+"&"+utils.param(this.core.s.youtubePlayerParams)),n='<iframe class="lg-video-object lg-youtube '+l+'" width="560" height="315" src="//www.youtube.com/embed/'+f.youtube[1]+y+'" frameborder="0" allowfullscreen></iframe>';else if(f.vimeo)y="?autoplay="+u+"&api=1",this.core.s.vimeoPlayerParams&&(y=y+"&"+utils.param(this.core.s.vimeoPlayerParams)),n='<iframe class="lg-video-object lg-vimeo '+l+'" width="560" height="315"  src="//player.vimeo.com/video/'+f.vimeo[1]+y+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';else if(f.dailymotion)y="?wmode=opaque&autoplay="+u+"&api=postMessage",this.core.s.dailymotionPlayerParams&&(y=y+"&"+utils.param(this.core.s.dailymotionPlayerParams)),n='<iframe class="lg-video-object lg-dailymotion '+l+'" width="560" height="315" src="//www.dailymotion.com/embed/video/'+f.dailymotion[1]+y+'" frameborder="0" allowfullscreen></iframe>';else if(f.html5){var m=d.substring(0,1);"."!==m&&"#"!==m||(d=document.querySelector(d).innerHTML),n=d}else f.vk&&(y="&autoplay="+u,this.core.s.vkPlayerParams&&(y=y+"&"+utils.param(this.core.s.vkPlayerParams)),n='<iframe class="lg-video-object lg-vk '+l+'" width="560" height="315" src="http://vk.com/video_ext.php?'+f.vk[1]+y+'" frameborder="0" allowfullscreen></iframe>');return n},i.prototype.destroy=function(){this.videoLoaded=!1},window.lgModules.video=i}))},{}]},{},[1])(1)}));