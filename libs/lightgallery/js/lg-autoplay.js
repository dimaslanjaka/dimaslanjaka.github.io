/**!
 * lg-autoplay.js | 0.0.1 | August 1st 2016
 * http://sachinchoolur.github.io/lg-autoplay.js
 * Copyright (c) 2016 Sachin N; 
 * @license Apache 2.0 
 */
!function(o){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=o();else if("function"==typeof define&&define.amd)define([],o);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).LgAutoplay=o()}}((function(){return function e(o,t,r){function s(n,u){if(!t[n]){if(!o[n]){var i="function"==typeof require&&require;if(!u&&i)return i(n,!0);if(l)return l(n,!0);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}var a=t[n]={exports:{}};o[n][0].call(a.exports,(function(t){var r=o[n][1][t];return s(r||t)}),a,a.exports,e,o,t,r)}return t[n].exports}for(var l="function"==typeof require&&require,n=0;n<r.length;n++)s(r[n]);return s}({1:[function(o,t,r){!function(o,t){if(void 0!==r)t();else{t(),o.lgAutoplay={}}}(this,(function(){"use strict";var o=Object.assign||function(o){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(o[l]=r[l])}return o},t={autoplay:!1,pause:5e3,progressBar:!0,fourceAutoplay:!1,autoplayControls:!0,appendAutoplayControlsTo:".lg-toolbar"},Autoplay=function(r){return this.el=r,this.core=window.lgData[this.el.getAttribute("lg-uid")],!(this.core.items.length<2)&&(this.core.s=o({},t,this.core.s),this.interval=!1,this.fromAuto=!0,this.canceledOnTouch=!1,this.fourceAutoplayTemp=this.core.s.fourceAutoplay,this.core.doCss()||(this.core.s.progressBar=!1),this.init(),this)};Autoplay.prototype.init=function(){var o=this;o.core.s.autoplayControls&&o.controls(),o.core.s.progressBar&&o.core.outer.querySelector(".lg").insertAdjacentHTML("beforeend",'<div class="lg-progress-bar"><div class="lg-progress"></div></div>'),o.progress(),o.core.s.autoplay&&o.startlAuto(),utils.on(o.el,"onDragstart.lgtm touchstart.lgtm",(function(){o.interval&&(o.cancelAuto(),o.canceledOnTouch=!0)})),utils.on(o.el,"onDragend.lgtm touchend.lgtm onSlideClick.lgtm",(function(){!o.interval&&o.canceledOnTouch&&(o.startlAuto(),o.canceledOnTouch=!1)}))},Autoplay.prototype.progress=function(){var o,t,r=this;utils.on(r.el,"onBeforeSlide.lgtm",(function(){r.core.s.progressBar&&r.fromAuto&&(o=r.core.outer.querySelector(".lg-progress-bar"),t=r.core.outer.querySelector(".lg-progress"),r.interval&&(t.removeAttribute("style"),utils.removeClass(o,"lg-start"),setTimeout((function(){utils.setVendor(t,"Transition","width "+(r.core.s.speed+r.core.s.pause)+"ms ease 0s"),utils.addClass(o,"lg-start")}),20))),r.fromAuto||r.core.s.fourceAutoplay||r.cancelAuto(),r.fromAuto=!1}))},Autoplay.prototype.controls=function(){var o=this;o.core.outer.querySelector(this.core.s.appendAutoplayControlsTo).insertAdjacentHTML("beforeend",'<span class="lg-autoplay-button lg-icon"></span>'),utils.on(o.core.outer.querySelector(".lg-autoplay-button"),"click.lg",(function(){utils.hasClass(o.core.outer,"lg-show-autoplay")?(o.cancelAuto(),o.core.s.fourceAutoplay=!1):o.interval||(o.startlAuto(),o.core.s.fourceAutoplay=o.fourceAutoplayTemp)}))},Autoplay.prototype.startlAuto=function(){var o=this;utils.setVendor(o.core.outer.querySelector(".lg-progress"),"Transition","width "+(o.core.s.speed+o.core.s.pause)+"ms ease 0s"),utils.addClass(o.core.outer,"lg-show-autoplay"),utils.addClass(o.core.outer.querySelector(".lg-progress-bar"),"lg-start"),o.interval=setInterval((function(){o.core.index+1<o.core.items.length?o.core.index++:o.core.index=0,o.fromAuto=!0,o.core.slide(o.core.index,!1,!1)}),o.core.s.speed+o.core.s.pause)},Autoplay.prototype.cancelAuto=function(){clearInterval(this.interval),this.interval=!1,this.core.outer.querySelector(".lg-progress")&&this.core.outer.querySelector(".lg-progress").removeAttribute("style"),utils.removeClass(this.core.outer,"lg-show-autoplay"),utils.removeClass(this.core.outer.querySelector(".lg-progress-bar"),"lg-start")},Autoplay.prototype.destroy=function(){this.cancelAuto(),this.core.outer.querySelector(".lg-progress-bar")&&this.core.outer.querySelector(".lg-progress-bar").parentNode.removeChild(this.core.outer.querySelector(".lg-progress-bar"))},window.lgModules.autoplay=Autoplay}))},{}]},{},[1])(1)}));