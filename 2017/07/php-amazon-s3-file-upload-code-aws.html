<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name="renderer" content="webkit"><link rel="dns-prefetch" href="//secure.gravatar.com"><link rel="dns-prefetch" href="//static.codepen.io"><link rel="dns-prefetch" href="//res.cloudinary.com"><link rel="dns-prefetch" href="//ad.doubleclick.com"><link rel="dns-prefetch" href="//s3.buysellads.com"><link rel="dns-prefetch" href="//srv.buysellads.com"><link rel="dns-prefetch" href="//fonts.googleapis.com"><link rel="dns-prefetch" href="//www.google-analytics.com"><link rel="dns-prefetch" href="//cdnjs.cloudflare.com"><link rel="dns-prefetch" href="//fonts.gstatic.com"><link rel="dns-prefetch" href="//pagead2.googlesyndication.com"><link rel="dns-prefetch" href="//tpc.googlesyndication.com"><link rel="dns-prefetch" href="//adservice.google.com"><link rel="dns-prefetch" href="//www.googletagservices.com"><link rel="dns-prefetch" href="//git.webmanajemen.com"><title>PHP Amazon S3 File Upload Code AWS Signature Version 4 | WMI Gitlab</title><link rel="shortcut icon" href="/images/favicon.png"><link rel="alternate" href="/atom.xml" title="Website Management Indonesia" type="application/atom+xml"><meta name="description" content="Amazon offers a PHP SDK for taking care of AWS and S3 asks for, yet it tips the scales at more than 500 documents and almost"><meta property="og:type" content="article"><meta property="og:title" content="PHP Amazon S3 File Upload Code AWS Signature Version 4"><meta property="og:url" content="https://www.webmanajemen.com/2017/07/php-amazon-s3-file-upload-code-aws.html"><meta property="og:site_name" content="Website Management Indonesia"><meta property="og:description" content="Amazon offers a PHP SDK for taking care of AWS and S3 asks for, yet it tips the scales at more than 500 documents and almost"><meta property="og:locale" content="en_US"><meta property="article:published_time" content="2017-07-23T17:44:00.000Z"><meta property="article:modified_time" content="2021-12-12T17:40:09.659Z"><meta property="article:author" content="Unknown"><meta property="article:tag" content="PHP"><meta name="twitter:card" content="summary"><meta name="keywords" content=",PHP"><meta name="format-detection" content="telephone=no,email=no"><meta name="theme-color" content="#9C27B0"><meta name="mobile-web-app-capable" content="yes"><meta name="application-name" content="Website Management Indonesia"><meta name="msapplication-starturl" content="https://www.webmanajemen.com/2017/07/php-amazon-s3-file-upload-code-aws.html"><meta name="msapplication-navbutton-color" content="#9C27B0"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Website Management Indonesia"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="apple-touch-icon" href="/images/favicon.png"><script src="//cdnjs.cloudflare.com/ajax/libs/es5-shim/4.0.5/es5-shim.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/es6-shim/0.23.0/es6-shim.min.js"></script><link rel="canonical" href="https://www.webmanajemen.com/2017/07/php-amazon-s3-file-upload-code-aws.html"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-106238155-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("send","pageview")</script><script>gtag("config","UA-106238155-1",{page_title:document.title,page_path:location.pathname,page_location:location.href})</script><script>gtag("config","G-BG75CLNJZ1",{page_title:document.title,page_path:location.pathname,page_location:location.href})</script><link rel="stylesheet" href="/css/mdui.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/custom.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/4.0.0/github-markdown.min.css"><meta name="generator" content="Hexo 5.4.0"><script id="hexo-adsense-config" type="application/json">{"enable":true,"article_ads":["source/ads/in_article.html","source/ads/in_article2.html"],"pub":"ca-pub-1165447249910969","adblock":false,"https":true,"field":"site","exclude":["*.min.html","exclude/**/*"],"development":false,"args":{"_":[]},"debug":false,"safe":false,"silent":false,"env":"development","version":"5.4.0","cmd":"generate","init":true}</script><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1165447249910969" crossorigin="anonymous"></script><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"PHP Amazon S3 File Upload Code AWS Signature Version 4","alternativeHeadline":"Amazon offers a PHP SDK for taking care of AWS and S3 asks for, yet it tips the scales at more than 500 documents and almost 5MB. In the event that yo","image":"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/1200px-No_image_available.svg.png","author":{"@type":"Person","image":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/1200px-Google_%22G%22_Logo.svg.png","name":"Unknown","sameAs":"https://www.webmanajemen.com"},"award":"the legend of neverland,genshin impact,games,how to,tips and tricks,php,javascript,jquery,mysql,seo,e-commerce,PHP Amazon S3 File Upload Code AWS Signature Version 4,PHP","editor":"Unknown","genre":"the legend of neverland,genshin impact,games,how to,tips and tricks,php,javascript,jquery,mysql,seo,e-commerce,PHP Amazon S3 File Upload Code AWS Signature Version 4,PHP","keywords":"the legend of neverland,genshin impact,games,how to,tips and tricks,php,javascript,jquery,mysql,seo,e-commerce,PHP Amazon S3 File Upload Code AWS Signature Version 4,PHP","wordcount":"8846","publisher":{"@type":"Organization","name":"Unknown","logo":{"@type":"ImageObject","url":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/1200px-Google_%22G%22_Logo.svg.png"}},"url":"https://www.webmanajemen.com/2017/07/php-amazon-s3-file-upload-code-aws.html","mainEntityOfPage":{"@type":"WebPage","@id":"https://google.com/article","mainEntity":{"@context":"https://schema.org","@type":"BreadcrumbList","@id":"https://developers.google.com/search/docs/advanced/structured-data/breadcrumb","name":"breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"PHP","item":"https://www.webmanajemen.com/tags/PHP/"}]}},"datePublished":"2017-07-23T17:44:00.000Z","dateCreated":"2017-07-23T17:44:00.000Z","dateModified":"2017-07-24T00:44:02.718Z","description":"Amazon offers a PHP SDK for taking care of AWS and S3 asks for, yet it tips the scales at more than 500 documents and almost 5MB. In the event that yo","articleBody":"Amazon offers a PHP SDK for taking care of AWS and S3 asks for, yet it tips the scales at more than 500 documents and almost 5MB. In the event that you simply need to transfer a record to a S3 basin utilizing PHP, you can make the HTTP POST ask for yourself utilizing just around 50 lines of code. This is likewise helpful on the off chance that you need to see how the demand and approval prepare function.AWS Signature Version 4This code uses Amazon AWS Signature Version 4. To view the old Version 2 code, see this post.Sample CodeThis is test PHP code to help you comprehend and test transferring to Amazon S3. Requires PHP variant 5.4 or fresher because of exhibit language structure. On the off chance that you need to utilize this in your venture, you ought to most likely alter this and place it into a capacity or strategy. I have it designed like this particularly to help demonstrate how the procedure functions.Perused the inline code remarks for a clarification of each segment:&lt;?php// USER OPTIONS// Replace these values with ones appropriate to you.accessKeyId&amp;nbsp;=&amp;nbsp;&#x27;YOUR_ACCESS_KEY_ID&#x27;;&lt;br&gt;secretKey = ‘YOUR_SECRET_KEY’;bucket&amp;nbsp;=&amp;nbsp;&#x27;YOUR_BUCKET_NAME&#x27;;&lt;br&gt;region = ‘BUCKET_AMAZON_REGION’; // us-west-2, us-east-1, etcacl&amp;nbsp;=&amp;nbsp;&#x27;ACCESS_CONTROL_LIST&#x27;;&amp;nbsp;&lt;span id=&quot;span_a5da_8&quot;&gt;//&amp;nbsp;private,&amp;nbsp;public-read,&amp;nbsp;etc&lt;/span&gt;&lt;br&gt;filePath = ‘path/to/file.jpg’;fileName&amp;nbsp;=&amp;nbsp;&#x27;myimage.jpg&#x27;;&lt;br&gt;fileType = ‘image/jpeg’;// VARIABLES// These are used throughout the request.longDate&amp;nbsp;=&amp;nbsp;gmdate(&#x27;Ymd\\THis\\Z&#x27;);&lt;br&gt;shortDate = gmdate(‘Ymd’);credential&amp;nbsp;=&amp;nbsp;accessKeyId . ‘/’ . shortDate&amp;nbsp;.&amp;nbsp;&#x27;/&#x27;&amp;nbsp;.&amp;nbsp;region . ‘/s3/aws4_request’;// POST POLICY// Amazon requires a base64-encoded POST policy written in JSON.// This tells Amazon what is acceptable for this request. For// simplicity, we set the expiration date to always be 24H in // the future. The two “starts-with” fields are used to restrict// the content of “key” and “Content-Type”, which are specified// later in the POST fields. Again for simplicity, we use blank// values (’’) to not put any restrictions on those two fields.policy&amp;nbsp;=&amp;nbsp;base64_encode(json_encode([&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#x27;expiration&#x27;&amp;nbsp;=&amp;gt;&amp;nbsp;gmdate(&#x27;Y-m-d\\TH:i:s\\Z&#x27;,&amp;nbsp;time()&amp;nbsp;+&amp;nbsp;86400),&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#x27;conditions&#x27;&amp;nbsp;=&amp;gt;&amp;nbsp;[&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[&#x27;acl&#x27;&amp;nbsp;=&amp;gt;&amp;nbsp;acl],        [‘bucket’ =&gt; bucket],&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[&#x27;starts-with&#x27;,&amp;nbsp;&#x27;Content-Type’, ‘’],        [‘starts-with’, &#x27;key&#x27;,&amp;nbsp;&#x27;&#x27;],&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[&#x27;x-amz-algorithm&#x27;&amp;nbsp;=&amp;gt;&amp;nbsp;&#x27;AWS4-HMAC-SHA256&#x27;],&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[&#x27;x-amz-credential&#x27;&amp;nbsp;=&amp;gt;&amp;nbsp;credential],        [‘x-amz-date’ =&gt; longDate]&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;]&lt;br&gt;]));&lt;br&gt;&lt;br&gt;&lt;span id=&quot;span_a5da_19&quot;&gt;//&amp;nbsp;SIGNATURE&lt;/span&gt;&lt;br&gt;&lt;span id=&quot;span_a5da_20&quot;&gt;//&amp;nbsp;A&amp;nbsp;base64-encoded&amp;nbsp;HMAC&amp;nbsp;hashed&amp;nbsp;signature&amp;nbsp;with&amp;nbsp;your&amp;nbsp;secret&amp;nbsp;key.&lt;/span&gt;&lt;br&gt;&lt;span id=&quot;span_a5da_21&quot;&gt;//&amp;nbsp;This&amp;nbsp;is&amp;nbsp;used&amp;nbsp;so&amp;nbsp;Amazon&amp;nbsp;can&amp;nbsp;verify&amp;nbsp;your&amp;nbsp;request,&amp;nbsp;and&amp;nbsp;will&amp;nbsp;be&lt;/span&gt;&lt;br&gt;&lt;span id=&quot;span_a5da_22&quot;&gt;//&amp;nbsp;passed&amp;nbsp;along&amp;nbsp;in&amp;nbsp;a&amp;nbsp;POST&amp;nbsp;field&amp;nbsp;later.&lt;/span&gt;&lt;br&gt;signingKey = hash_hmac(‘sha256’, shortDate,&amp;nbsp;&#x27;AWS4&#x27;&amp;nbsp;.&amp;nbsp;secretKey, true);signingKey&amp;nbsp;=&amp;nbsp;hash_hmac(&#x27;sha256&#x27;,&amp;nbsp;region, signingKey,&amp;nbsp;true);&lt;br&gt;signingKey = hash_hmac(‘sha256’, ‘s3’, signingKey,&amp;nbsp;true);&lt;br&gt;signingKey = hash_hmac(‘sha256’, ‘aws4_request’, signingKey,&amp;nbsp;true);&lt;br&gt;signature = hash_hmac(‘sha256’, policy,&amp;nbsp;signingKey);// CURL// The cURL request. Passes in the full URL to your Amazon bucket.// Sets RETURNTRANSFER and HEADER to true to see the full response from// Amazon, including body and head. Sets POST fields for cURL.// Then executes the cURL request.ch&amp;nbsp;=&amp;nbsp;curl_init(&#x27;//&#x27;&amp;nbsp;.&amp;nbsp;bucket . ‘.s3-’ . region&amp;nbsp;.&amp;nbsp;&#x27;.amazonaws.com&#x27;);&lt;br&gt;curl_setopt(ch, CURLOPT_RETURNTRANSFER, true);curl_setopt(ch,&amp;nbsp;CURLOPT_HEADER,&amp;nbsp;true);&lt;br&gt;curl_setopt(ch, CURLOPT_POST, true);curl_setopt(ch,&amp;nbsp;CURLOPT_POSTFIELDS,&amp;nbsp;[&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#x27;Content-Type&#x27;&amp;nbsp;=&amp;gt;&amp;nbsp;&amp;nbsp;fileType,    ‘acl’ =&gt; acl,&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#x27;key&#x27;&amp;nbsp;=&amp;gt;&amp;nbsp;fileName,    ‘policy’ =&gt;  policy,&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#x27;x-amz-algorithm&#x27;&amp;nbsp;=&amp;gt;&amp;nbsp;&#x27;AWS4-HMAC-SHA256&#x27;,&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#x27;x-amz-credential&#x27;&amp;nbsp;=&amp;gt;&amp;nbsp;credential,    ‘x-amz-date’ =&gt; longDate,&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#x27;x-amz-signature&#x27;&amp;nbsp;=&amp;gt;&amp;nbsp;signature,    ‘file’ =&gt; new CurlFile(realpath(filePath),&amp;nbsp;fileType, fileName)&lt;br&gt;]);&lt;br&gt;fileName)&lt;br&gt;]);&lt;br&gt;fileName)&lt;br&gt;]);&lt;br&gt;response = curl_exec(ch);&lt;br&gt;&lt;br&gt;&lt;span id=&quot;span_a5da_28&quot;&gt;//&amp;nbsp;RESPONSE&lt;/span&gt;&lt;br&gt;&lt;span id=&quot;span_a5da_29&quot;&gt;//&amp;nbsp;If&amp;nbsp;Amazon&amp;nbsp;returns&amp;nbsp;a&amp;nbsp;response&amp;nbsp;code&amp;nbsp;of&amp;nbsp;204,&amp;nbsp;the&amp;nbsp;request&amp;nbsp;was&lt;/span&gt;&lt;br&gt;&lt;span id=&quot;span_a5da_30&quot;&gt;//&amp;nbsp;successful&amp;nbsp;and&amp;nbsp;the&amp;nbsp;file&amp;nbsp;should&amp;nbsp;be&amp;nbsp;sitting&amp;nbsp;in&amp;nbsp;your&amp;nbsp;Amazon&amp;nbsp;S3&lt;/span&gt;&lt;br&gt;&lt;span id=&quot;span_a5da_31&quot;&gt;//&amp;nbsp;bucket.&amp;nbsp;If&amp;nbsp;a&amp;nbsp;code&amp;nbsp;other&amp;nbsp;than&amp;nbsp;204&amp;nbsp;is&amp;nbsp;returned,&amp;nbsp;there&amp;nbsp;will&amp;nbsp;be&amp;nbsp;an&lt;/span&gt;&lt;br&gt;&lt;span id=&quot;span_a5da_32&quot;&gt;//&amp;nbsp;XML-formatted&amp;nbsp;error&amp;nbsp;code&amp;nbsp;in&amp;nbsp;the&amp;nbsp;body.&amp;nbsp;For&amp;nbsp;simplicity,&amp;nbsp;we&amp;nbsp;use&lt;/span&gt;&lt;br&gt;&lt;span id=&quot;span_a5da_33&quot;&gt;//&amp;nbsp;substr&amp;nbsp;to&amp;nbsp;extract&amp;nbsp;the&amp;nbsp;error&amp;nbsp;code&amp;nbsp;and&amp;nbsp;output&amp;nbsp;it.&lt;/span&gt;&lt;br&gt;if&amp;nbsp;(curl_getinfo(ch, CURLINFO_HTTP_CODE) == 204) {    echo ‘Success!’;} else {    error&amp;nbsp;=&amp;nbsp;substr(response, strpos(response,&amp;nbsp;&#x27;&amp;lt;code&amp;gt;&#x27;)&amp;nbsp;+&amp;nbsp;6);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;substr(error, 0, strpos(error,&amp;nbsp;&#x27;&amp;lt;/code&amp;gt;&#x27;));&lt;br&gt;}&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;span id=&quot;span_a5da_34&quot;&gt;If you aren&#x27;t receiving any response at all, check if&amp;nbsp;&lt;/span&gt;&lt;samp id=&quot;samp_a5da_0&quot;&gt;curl_exec(ch) is returning false. If it is, chances are it’s due to an SSL issue. You can check the error at curl_error(ch)&lt;/samp&gt;&lt;spanid=&quot;spana5da36&quot;&gt;.Fortestingpurposes,youcansetthesetwoadditionalcURLoptionsandseeifitworks:&lt;/span&gt;&lt;/pre&gt;&lt;pre&gt;&lt;codeid=&quot;codea5da1&quot;&gt;curlsetopt(ch)&lt;/samp&gt;&lt;span id=&quot;span_a5da_36&quot;&gt;. For testing purposes, you can set these two additional cURL options and see if it works:&lt;/span&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code id=&quot;code_a5da_1&quot;&gt;curl_setopt(ch)&lt;/samp&gt;&lt;spanid=&quot;spana​5da3​6&quot;&gt;.Fortestingpurposes,youcansetthesetwoadditionalcURLoptionsandseeifitworks:&lt;/span&gt;&lt;/pre&gt;&lt;pre&gt;&lt;codeid=&quot;codea​5da1​&quot;&gt;curls​etopt(ch, CURLOPT_SSL_VERIFYPEER, false);curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0);But note that doing this is very insecure. Read this Stackoverflow post and this blog post.Source: hex3d.com"}</script></head><body class="mdui-appbar-with-toolbar mdui-theme-primary-lime mdui-theme-accent-teal"><script>var a=localStorage.getItem("mdui-theme-layout-dark");a&&(document.getElementsByTagName("body")[0].className+=" mdui-theme-layout-dark")</script><script>window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(document.getElementsByTagName("body")[0].className+=" mdui-theme-layout-dark")</script><script>var a=localStorage.getItem("mdui-drawer-close");a||(document.getElementsByTagName("body")[0].className+=" mdui-drawer-body-left")</script><header id="header" class="mdui-appbar mdui-appbar-fixed mdui-appbar-scroll-hide mdui-appbar-inset"><div class="mdui-toolbar mdui-color-theme"><a href="javascript:;" class="mdui-btn mdui-btn-icon" mdui-drawer="{target: '#sidebar', swipe: true}"><i class="mdui-icon material-icons">menu</i></a> <a href="/" class="mdui-typo-headline">Website Management Indonesia</a><div class="mdui-toolbar-spacer"></div><a href="javascript:;" class="mdui-btn mdui-btn-icon" mdui-dialog="{target: '#search'}" mdui-tooltip="{content: 'Search'}"><i class="mdui-icon material-icons">search</i></a> <a href="/atom.xml" class="mdui-btn mdui-btn-icon" mdui-tooltip="{content: 'RSS'}"><i class="mdui-icon material-icons">rss_feed</i></a></div></header><div class="mdui-dialog" id="search"><form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Insert The Keywords"><input type="hidden" name="sitesearch" value="https://www.webmanajemen.com"></form><div class="search-result"></div></div><aside id="sidebar" class="mdui-drawer mdui-drawer-full-height"><script>var a=localStorage.getItem("mdui-drawer-close");a&&(document.getElementById("sidebar").className+=" mdui-drawer-close")</script><div class="mdui-grid-tile"><img src="/images/banner.png" style="height:160px" title="PHP Amazon S3 File Upload Code AWS Signature Version 4" alt="PHP Amazon S3 File Upload Code AWS Signature Version 4" itemprop="image"> <img src="/images/avatar.png" class="avatar-animation" style="position:absolute;top:10%;left:24px;width:64px;height:64px;border:2px solid #fff;border-radius:50%" title="PHP Amazon S3 File Upload Code AWS Signature Version 4" alt="PHP Amazon S3 File Upload Code AWS Signature Version 4" itemprop="image"><div class="mdui-grid-tile-actions"><div class="mdui-grid-tile-text"><div class="mdui-grid-tile-title">Dimas Lanjaka</div><div class="mdui-grid-tile-subtitle"><i class="mdui-icon material-icons">art_track</i>WMI</div></div></div></div><div class="mdui-list" mdui-collapse="{accordion: true}"><a href="/" class="mdui-list-item mdui-ripple"><i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-blue">home</i><div class="mdui-list-item-content">Home</div></a><div class="mdui-collapse-item"><script>var a=localStorage.getItem("mdui-collapse-item-0");a&&(document.getElementsByClassName("mdui-collapse-item")[0].className+=" mdui-collapse-item-open")</script><div class="mdui-collapse-item-header mdui-list-item mdui-ripple"><i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-deep-orange">archive</i><div class="mdui-list-item-content">Archive</div><i class="mdui-collapse-item-arrow mdui-icon material-icons">keyboard_arrow_down</i></div><div class="mdui-collapse-item-body mdui-list mdui-list-dense"><a class="mdui-ripple sidebar_archives-link" href="/archives/2021/12/">December 2021<span class="mdui-ripple sidebar_archives-count">4</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2021/11/">November 2021<span class="mdui-ripple sidebar_archives-count">9</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2021/09/">September 2021<span class="mdui-ripple sidebar_archives-count">6</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2021/08/">August 2021<span class="mdui-ripple sidebar_archives-count">10</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2021/06/">June 2021<span class="mdui-ripple sidebar_archives-count">6</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2021/05/">May 2021<span class="mdui-ripple sidebar_archives-count">6</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2021/04/">April 2021<span class="mdui-ripple sidebar_archives-count">4</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2021/03/">March 2021<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2020/12/">December 2020<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2020/10/">October 2020<span class="mdui-ripple sidebar_archives-count">7</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2020/09/">September 2020<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2020/08/">August 2020<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2020/07/">July 2020<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2020/06/">June 2020<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2020/05/">May 2020<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2020/03/">March 2020<span class="mdui-ripple sidebar_archives-count">7</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2020/02/">February 2020<span class="mdui-ripple sidebar_archives-count">3</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2020/01/">January 2020<span class="mdui-ripple sidebar_archives-count">9</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2019/12/">December 2019<span class="mdui-ripple sidebar_archives-count">128</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2019/11/">November 2019<span class="mdui-ripple sidebar_archives-count">44</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2019/10/">October 2019<span class="mdui-ripple sidebar_archives-count">4</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2019/09/">September 2019<span class="mdui-ripple sidebar_archives-count">7</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2019/08/">August 2019<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2019/07/">July 2019<span class="mdui-ripple sidebar_archives-count">28</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2019/06/">June 2019<span class="mdui-ripple sidebar_archives-count">5</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2019/05/">May 2019<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2019/03/">March 2019<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2019/02/">February 2019<span class="mdui-ripple sidebar_archives-count">13</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2019/01/">January 2019<span class="mdui-ripple sidebar_archives-count">28</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2018/12/">December 2018<span class="mdui-ripple sidebar_archives-count">25</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2018/11/">November 2018<span class="mdui-ripple sidebar_archives-count">55</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2018/10/">October 2018<span class="mdui-ripple sidebar_archives-count">4</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2018/08/">August 2018<span class="mdui-ripple sidebar_archives-count">8</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2018/07/">July 2018<span class="mdui-ripple sidebar_archives-count">11</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2018/06/">June 2018<span class="mdui-ripple sidebar_archives-count">4</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2018/04/">April 2018<span class="mdui-ripple sidebar_archives-count">3</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2018/03/">March 2018<span class="mdui-ripple sidebar_archives-count">5</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2018/02/">February 2018<span class="mdui-ripple sidebar_archives-count">12</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2018/01/">January 2018<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2017/12/">December 2017<span class="mdui-ripple sidebar_archives-count">5</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2017/11/">November 2017<span class="mdui-ripple sidebar_archives-count">20</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2017/10/">October 2017<span class="mdui-ripple sidebar_archives-count">24</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2017/09/">September 2017<span class="mdui-ripple sidebar_archives-count">48</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2017/08/">August 2017<span class="mdui-ripple sidebar_archives-count">21</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2017/07/">July 2017<span class="mdui-ripple sidebar_archives-count">26</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2017/06/">June 2017<span class="mdui-ripple sidebar_archives-count">4</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2017/05/">May 2017<span class="mdui-ripple sidebar_archives-count">34</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2017/04/">April 2017<span class="mdui-ripple sidebar_archives-count">68</span></a></div></div><div class="mdui-collapse-item"><script>var a=localStorage.getItem("mdui-collapse-item-1");a&&(document.getElementsByClassName("mdui-collapse-item")[1].className+=" mdui-collapse-item-open")</script><div class="mdui-collapse-item-header mdui-list-item mdui-ripple"><i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-green">class</i><div class="mdui-list-item-content">Category</div><i class="mdui-collapse-item-arrow mdui-icon material-icons">keyboard_arrow_down</i></div><div class="mdui-collapse-item-body mdui-list mdui-list-dense"><a class="mdui-ripple sidebar_archives-link" href="/categories/Games/">Games<span class="mdui-ripple sidebar_archives-count">20</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/Games/Genshin-Impact/">Genshin Impact<span class="mdui-ripple sidebar_archives-count">6</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/Games/Seven-Knight/">Seven Knight<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/Games/The-Legend-Of-Neverland/">The Legend Of Neverland<span class="mdui-ripple sidebar_archives-count">12</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/Games/The-Legend-Of-Neverland/Bluestacks/">Bluestacks<span class="mdui-ripple sidebar_archives-count">3</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/Programming/">Programming<span class="mdui-ripple sidebar_archives-count">9</span></a><a class="mdui-ripple sidebar_archives-link" href="/categories/Regular-Expression/">Regular Expression<span class="mdui-ripple sidebar_archives-count">2</span></a></div></div><div class="mdui-collapse-item"><script>var a=localStorage.getItem("mdui-collapse-item-2");a&&(document.getElementsByClassName("mdui-collapse-item")[2].className+=" mdui-collapse-item-open")</script><div class="mdui-collapse-item-header mdui-list-item mdui-ripple"><i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-brown">bookmark</i><div class="mdui-list-item-content">Tag</div><i class="mdui-collapse-item-arrow mdui-icon material-icons">keyboard_arrow_down</i></div><div class="mdui-collapse-item-body mdui-list mdui-list-dense"><a class="mdui-ripple sidebar_archives-link" href="/tags/AMP/" rel="tag">AMP<span class="mdui-ripple sidebar_archives-count">15</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Adsense/" rel="tag">Adsense<span class="mdui-ripple sidebar_archives-count">31</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Android/" rel="tag">Android<span class="mdui-ripple sidebar_archives-count">92</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Apache/" rel="tag">Apache<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Auto-Click/" rel="tag">Auto Click<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Blogger/" rel="tag">Blogger<span class="mdui-ripple sidebar_archives-count">110</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Blogging/" rel="tag">Blogging<span class="mdui-ripple sidebar_archives-count">59</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/CSS/" rel="tag">CSS<span class="mdui-ripple sidebar_archives-count">72</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Chest-Location/" rel="tag">Chest Location<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/CodeIgniter/" rel="tag">CodeIgniter<span class="mdui-ripple sidebar_archives-count">3</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Durango/" rel="tag">Durango<span class="mdui-ripple sidebar_archives-count">14</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Event/" rel="tag">Event<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Facebook/" rel="tag">Facebook<span class="mdui-ripple sidebar_archives-count">10</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Fonts/" rel="tag">Fonts<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Game-Control/" rel="tag">Game Control<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Games/" rel="tag">Games<span class="mdui-ripple sidebar_archives-count">61</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Genshin-Impact/" rel="tag">Genshin Impact<span class="mdui-ripple sidebar_archives-count">12</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/GitHub/" rel="tag">GitHub<span class="mdui-ripple sidebar_archives-count">4</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Github/" rel="tag">Github<span class="mdui-ripple sidebar_archives-count">3</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Gradle/" rel="tag">Gradle<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/HTML/" rel="tag">HTML<span class="mdui-ripple sidebar_archives-count">96</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Hosting/" rel="tag">Hosting<span class="mdui-ripple sidebar_archives-count">3</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/JS/" rel="tag">JS<span class="mdui-ripple sidebar_archives-count">92</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Java/" rel="tag">Java<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Kotlin/" rel="tag">Kotlin<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Life-Skill/" rel="tag">Life Skill<span class="mdui-ripple sidebar_archives-count">3</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Linux-Unix/" rel="tag">Linux/Unix<span class="mdui-ripple sidebar_archives-count">10</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Macros/" rel="tag">Macros<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Marketing-Strategies/" rel="tag">Marketing Strategies<span class="mdui-ripple sidebar_archives-count">12</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Miscellaneous/" rel="tag">Miscellaneous<span class="mdui-ripple sidebar_archives-count">13</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Movies/" rel="tag">Movies<span class="mdui-ripple sidebar_archives-count">48</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Musics/" rel="tag">Musics<span class="mdui-ripple sidebar_archives-count">128</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/MySQL/" rel="tag">MySQL<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/NodeJS/" rel="tag">NodeJS<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/PHP/" rel="tag">PHP<span class="mdui-ripple sidebar_archives-count">51</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Popular/" rel="tag">Popular<span class="mdui-ripple sidebar_archives-count">4</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Proxy/" rel="tag">Proxy<span class="mdui-ripple sidebar_archives-count">3</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Quest/" rel="tag">Quest<span class="mdui-ripple sidebar_archives-count">3</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/RegExp/" rel="tag">RegExp<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/SEO/" rel="tag">SEO<span class="mdui-ripple sidebar_archives-count">39</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Script/" rel="tag">Script<span class="mdui-ripple sidebar_archives-count">20</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Share/" rel="tag">Share<span class="mdui-ripple sidebar_archives-count">22</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Social-Media/" rel="tag">Social Media<span class="mdui-ripple sidebar_archives-count">21</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Software/" rel="tag">Software<span class="mdui-ripple sidebar_archives-count">11</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/TS/" rel="tag">TS<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Tips-Tricks/" rel="tag">Tips & Tricks<span class="mdui-ripple sidebar_archives-count">182</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Tools/" rel="tag">Tools<span class="mdui-ripple sidebar_archives-count">27</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/VainGlory/" rel="tag">VainGlory<span class="mdui-ripple sidebar_archives-count">3</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Windows/" rel="tag">Windows<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Wordpress/" rel="tag">Wordpress<span class="mdui-ripple sidebar_archives-count">40</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/games/" rel="tag">games<span class="mdui-ripple sidebar_archives-count">2</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/minecraft/" rel="tag">minecraft<span class="mdui-ripple sidebar_archives-count">2</span></a></div></div><a href="/about" class="mdui-list-item mdui-ripple"><i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-purple">person</i><div class="mdui-list-item-content">About</div></a></div><div class="mdui-divider"></div><div class="mdui-list" mdui-collapse="{accordion: true}"><a href="/page/about-me" class="mdui-list-item mdui-ripple">About Me</a> <a href="/page/bot-detect" class="mdui-list-item mdui-ripple">Bot Detect</a> <a href="/contact" class="mdui-list-item mdui-ripple">Contact</a> <a href="/" class="mdui-list-item mdui-ripple"></a> <a href="/" class="mdui-list-item mdui-ripple"></a> <a href="/" class="mdui-list-item mdui-ripple"></a> <a href="/" class="mdui-list-item mdui-ripple"></a> <a href="/" class="mdui-list-item mdui-ripple"></a> <a href="/" class="mdui-list-item mdui-ripple"></a> <a href="/" class="mdui-list-item mdui-ripple"></a> <a href="/" class="mdui-list-item mdui-ripple"></a> <a href="/" class="mdui-list-item mdui-ripple"></a> <a href="/" class="mdui-list-item mdui-ripple"></a> <a href="/" class="mdui-list-item mdui-ripple"></a> <a href="/" class="mdui-list-item mdui-ripple"></a> <a href="/" class="mdui-list-item mdui-ripple"></a> <a href="/" class="mdui-list-item mdui-ripple"></a> <a href="/" class="mdui-list-item mdui-ripple"></a> <a href="/" class="mdui-list-item mdui-ripple"></a> <a href="/" class="mdui-list-item mdui-ripple"></a> <a href="/" class="mdui-list-item mdui-ripple"></a> <a href="/" class="mdui-list-item mdui-ripple"></a><div class="mdui-collapse-item"><script>var a=localStorage.getItem("mdui-collapse-item-3");a&&(document.getElementsByClassName("mdui-collapse-item")[3].className+=" mdui-collapse-item-open")</script><div class="mdui-collapse-item-header mdui-list-item mdui-ripple"><div class="mdui-list-item-content">Links</div><i class="mdui-list-item-icon mdui-icon material-icons">link</i></div><div class="mdui-collapse-item-body mdui-list mdui-list-dense"><a href="javascript:;" class="mdui-list-item mdui-p-l-2 mdui-text-color-theme mdui-ripple" style="justify-content:center">No Links</a></div></div></div></aside><main id="main" class="mdui-m-t-5 fadeIn animated"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css"><style>#main article .mdui-card-content .center-block{display:block!important;margin-right:auto!important;margin-left:auto!important}</style><article class="mdui-card mdui-m-b-5"><header class="mdui-card-media"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/2048px-No_image_available.svg.png" style="max-height:240px" title="PHP Amazon S3 File Upload Code AWS Signature Version 4" alt="PHP Amazon S3 File Upload Code AWS Signature Version 4" itemprop="image"><div class="mdui-card-media-covered"><div class="mdui-card-primary"><div class="mdui-card-primary-title">PHP Amazon S3 File Upload Code AWS Signature Version 4</div><div class="mdui-card-primary-subtitle"><i class="iconfont">&#xe697;</i> 2017-07-24 / <i class="iconfont">&#xe601;</i> Unknown</div></div></div><div class="mdui-card-menu"><button class="mdui-btn mdui-btn-icon mdui-text-color-white" mdui-menu="{target: '#qrcode', align: 'right'}"><i class="mdui-icon material-icons">devices</i></button><ul class="mdui-menu" id="qrcode"><li class="mdui-menu-item"><a class="mdui-text-center mdui-ripple">Send to phone</a></li><li class="mdui-menu-item" disabled="disabled"><img src="https://chart.googleapis.com/chart?cht=qr&chs=246x246&chl=https://www.webmanajemen.com/2017/07/php-amazon-s3-file-upload-code-aws.html&chld=M|2" title="PHP Amazon S3 File Upload Code AWS Signature Version 4" alt="PHP Amazon S3 File Upload Code AWS Signature Version 4" itemprop="image"></li></ul><button class="mdui-btn mdui-btn-icon mdui-text-color-white" mdui-menu="{target: '#share_menu', align: 'right'}"><i class="mdui-icon material-icons">share</i></button><ul class="mdui-menu" id="share_menu"><li class="mdui-menu-item"><a href="http://service.weibo.com/share/share.php?appkey=&title=PHP Amazon S3 File Upload Code AWS Signature Version 4&url=https://www.webmanajemen.com/2017/07/php-amazon-s3-file-upload-code-aws.html&pic=https://www.webmanajemen.com/images/favicon.png&searchPic=false&style=simple" target="_blank" class="mdui-ripple" rel="nofollow noopener noreferer noreferrer">Share to Weibo</a></li><li class="mdui-menu-item"><a href="https://twitter.com/intent/tweet?text=PHP Amazon S3 File Upload Code AWS Signature Version 4&url=https://www.webmanajemen.com/2017/07/php-amazon-s3-file-upload-code-aws.html&via=[object Object]" target="_blank" class="mdui-ripple" rel="nofollow noopener noreferer noreferrer">Share to Twitter</a></li><li class="mdui-menu-item"><a href="https://www.facebook.com/sharer/sharer.php?u=https://www.webmanajemen.com/2017/07/php-amazon-s3-file-upload-code-aws.html" target="_blank" class="mdui-ripple" rel="nofollow noopener noreferer noreferrer">Share to Facebook</a></li><li class="mdui-menu-item"><a href="https://plus.google.com/share?url=https://www.webmanajemen.com/2017/07/php-amazon-s3-file-upload-code-aws.html" target="_blank" class="mdui-ripple" rel="nofollow noopener noreferer noreferrer">Share to Google+</a></li><li class="mdui-menu-item"><a href="https://www.linkedin.com/shareArticle?mini=true&url=https://www.webmanajemen.com/2017/07/php-amazon-s3-file-upload-code-aws.html&title=PHP Amazon S3 File Upload Code AWS Signature Version 4" target="_blank" class="mdui-ripple" rel="nofollow noopener noreferer noreferrer">Share to LinkedIn</a></li><li class="mdui-menu-item"><a href="http://connect.qq.com/widget/shareqq/index.html?site=Website Management Indonesia&title=PHP Amazon S3 File Upload Code AWS Signature Version 4&pics=https://www.webmanajemen.com/images/favicon.png&url=https://www.webmanajemen.com/2017/07/php-amazon-s3-file-upload-code-aws.html" target="_blank" class="mdui-ripple" rel="nofollow noopener noreferer noreferrer">Share to QQ</a></li><li class="mdui-menu-item"><a href="https://telegram.me/share/url?url=https://www.webmanajemen.com/2017/07/php-amazon-s3-file-upload-code-aws.html&text=PHP Amazon S3 File Upload Code AWS Signature Version 4" target="_blank" class="mdui-ripple" rel="nofollow noopener noreferer noreferrer">Share to Telegram</a></li></ul></div></header><div class="mdui-card-content mdui-typo"><p><span id="span_a5da_0">Amazon offers a PHP SDK for taking care of AWS and S3 asks for, yet it tips the scales at more than 500 documents and almost 5MB. In the event that you simply need to transfer a record to a S3 basin utilizing PHP, you can make the HTTP POST ask for yourself utilizing just around 50 lines of code. This is likewise helpful on the off chance that you need to see how the demand and approval prepare function.</span><br><br id="br_a5da_1"><b id="b_a5da_0">AWS Signature Version 4</b><br><span id="span_a5da_1">This code uses Amazon AWS Signature Version 4. To view the old Version 2 code, see </span><a target="_blank" href="https://www.h3xed.com/programming/simple-php-code-for-uploading-a-file-to-an-amazon-s3-bucket" id="a_a5da_0" rel="nofollow noopener noreferer noreferrer">this post</a><span id="span_a5da_2">.</span><br><br id="br_a5da_4"><b id="b_a5da_1">Sample Code</b><br>This is test PHP code to help you comprehend and test transferring to Amazon S3. Requires PHP variant 5.4 or fresher because of exhibit language structure. On the off chance that you need to utilize this in your venture, you ought to most likely alter this and place it into a capacity or strategy. I have it designed like this particularly to help demonstrate how the procedure functions.<br><br>Perused the inline code remarks for a clarification of each segment:<br><br id="br_a5da_9"><pre><code id="code_a5da_0">&lt;?php<br><br><span id="span_a5da_5">// USER OPTIONS</span><br><span id="span_a5da_6">// Replace these values with ones appropriate to you.</span><br><span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 12: accessKeyId&amp;̲nbsp;=&amp;nbsp;&#039;YO…">accessKeyId&amp;nbsp;=&amp;nbsp;&#039;YOUR_ACCESS_KEY_ID&#039;;&lt;br&gt;</span>secretKey = ‘YOUR_SECRET_KEY’;<br><span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 7: bucket&amp;̲nbsp;=&amp;nbsp;&#039;YO…">bucket&amp;nbsp;=&amp;nbsp;&#039;YOUR_BUCKET_NAME&#039;;&lt;br&gt;</span>region = ‘BUCKET_AMAZON_REGION’; <span id="span_a5da_7">// us-west-2, us-east-1, etc</span><br><span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 4: acl&amp;̲nbsp;=&amp;nbsp;&#039;AC…">acl&amp;nbsp;=&amp;nbsp;&#039;ACCESS_CONTROL_LIST&#039;;&amp;nbsp;&lt;span id=&quot;span_a5da_8&quot;&gt;//&amp;nbsp;private,&amp;nbsp;public-read,&amp;nbsp;etc&lt;/span&gt;&lt;br&gt;</span>filePath = ‘path/to/file.jpg’;<br><span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 9: fileName&amp;̲nbsp;=&amp;nbsp;&#039;my…">fileName&amp;nbsp;=&amp;nbsp;&#039;myimage.jpg&#039;;&lt;br&gt;</span>fileType = ‘image/jpeg’;<br><br><span id="span_a5da_9">// VARIABLES</span><br><span id="span_a5da_10">// These are used throughout the request.</span><br><span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 9: longDate&amp;̲nbsp;=&amp;nbsp;gmd…">longDate&amp;nbsp;=&amp;nbsp;gmdate(&#039;Ymd\THis\Z&#039;);&lt;br&gt;</span>shortDate = gmdate(‘Ymd’);<br><span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 11: credential&amp;̲nbsp;=&amp;nbsp;">credential&amp;nbsp;=&amp;nbsp;</span>accessKeyId . ‘/’ . <span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 10: shortDate&amp;̲nbsp;.&amp;nbsp;&#039;/&#039;…">shortDate&amp;nbsp;.&amp;nbsp;&#039;/&#039;&amp;nbsp;.&amp;nbsp;</span>region . ‘/s3/aws4_request’;<br><br><span id="span_a5da_11">// POST POLICY</span><br><span id="span_a5da_12">// Amazon requires a base64-encoded POST policy written in JSON.</span><br><span id="span_a5da_13">// This tells Amazon what is acceptable for this request. For</span><br><span id="span_a5da_14">// simplicity, we set the expiration date to always be 24H in </span><br><span id="span_a5da_15">// the future. The two “starts-with” fields are used to restrict</span><br><span id="span_a5da_16">// the content of “key” and “Content-Type”, which are specified</span><br><span id="span_a5da_17">// later in the POST fields. Again for simplicity, we use blank</span><br><span id="span_a5da_18">// values (’’) to not put any restrictions on those two fields.</span><br><span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 7: policy&amp;̲nbsp;=&amp;nbsp;bas…">policy&amp;nbsp;=&amp;nbsp;base64_encode(json_encode([&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#039;expiration&#039;&amp;nbsp;=&amp;gt;&amp;nbsp;gmdate(&#039;Y-m-d\TH:i:s\Z&#039;,&amp;nbsp;time()&amp;nbsp;+&amp;nbsp;86400),&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#039;conditions&#039;&amp;nbsp;=&amp;gt;&amp;nbsp;[&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[&#039;acl&#039;&amp;nbsp;=&amp;gt;&amp;nbsp;</span>acl],<br>        [‘bucket’ =&gt; <span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 13: bucket],&lt;br&gt;&amp;̲nbsp;&amp;nbsp;&amp;nbs…">bucket],&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[&#039;starts-with&#039;,&amp;nbsp;&#039;</span>Content-Type’, ‘’],<br>        [‘starts-with’, '<span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 6: key&#039;,&amp;̲nbsp;&#039;&#039;],&lt;br&gt;&amp;n…">key&#039;,&amp;nbsp;&#039;&#039;],&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[&#039;x-amz-algorithm&#039;&amp;nbsp;=&amp;gt;&amp;nbsp;&#039;AWS4-HMAC-SHA256&#039;],&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[&#039;x-amz-credential&#039;&amp;nbsp;=&amp;gt;&amp;nbsp;</span>credential],<br>        [‘x-amz-date’ =&gt; <span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 14: longDate]&lt;br&gt;&amp;̲nbsp;&amp;nbsp;&amp;nbs…">longDate]&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;]&lt;br&gt;]));&lt;br&gt;&lt;br&gt;&lt;span id=&quot;span_a5da_19&quot;&gt;//&amp;nbsp;SIGNATURE&lt;/span&gt;&lt;br&gt;&lt;span id=&quot;span_a5da_20&quot;&gt;//&amp;nbsp;A&amp;nbsp;base64-encoded&amp;nbsp;HMAC&amp;nbsp;hashed&amp;nbsp;signature&amp;nbsp;with&amp;nbsp;your&amp;nbsp;secret&amp;nbsp;key.&lt;/span&gt;&lt;br&gt;&lt;span id=&quot;span_a5da_21&quot;&gt;//&amp;nbsp;This&amp;nbsp;is&amp;nbsp;used&amp;nbsp;so&amp;nbsp;Amazon&amp;nbsp;can&amp;nbsp;verify&amp;nbsp;your&amp;nbsp;request,&amp;nbsp;and&amp;nbsp;will&amp;nbsp;be&lt;/span&gt;&lt;br&gt;&lt;span id=&quot;span_a5da_22&quot;&gt;//&amp;nbsp;passed&amp;nbsp;along&amp;nbsp;in&amp;nbsp;a&amp;nbsp;POST&amp;nbsp;field&amp;nbsp;later.&lt;/span&gt;&lt;br&gt;</span>signingKey = hash_hmac(‘sha256’, <span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 11: shortDate,&amp;̲nbsp;&#039;AWS4&#039;&amp;nbs…">shortDate,&amp;nbsp;&#039;AWS4&#039;&amp;nbsp;.&amp;nbsp;</span>secretKey, true);<br><span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 11: signingKey&amp;̲nbsp;=&amp;nbsp;has…">signingKey&amp;nbsp;=&amp;nbsp;hash_hmac(&#039;sha256&#039;,&amp;nbsp;</span>region, <span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 12: signingKey,&amp;̲nbsp;true);&lt;br&gt;">signingKey,&amp;nbsp;true);&lt;br&gt;</span>signingKey = hash_hmac(‘sha256’, ‘s3’, <span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 12: signingKey,&amp;̲nbsp;true);&lt;br&gt;">signingKey,&amp;nbsp;true);&lt;br&gt;</span>signingKey = hash_hmac(‘sha256’, ‘aws4_request’, <span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 12: signingKey,&amp;̲nbsp;true);&lt;br&gt;">signingKey,&amp;nbsp;true);&lt;br&gt;</span>signature = hash_hmac(‘sha256’, <span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 8: policy,&amp;̲nbsp;">policy,&amp;nbsp;</span>signingKey);<br><br><span id="span_a5da_23">// CURL</span><br><span id="span_a5da_24">// The cURL request. Passes in the full URL to your Amazon bucket.</span><br><span id="span_a5da_25">// Sets RETURNTRANSFER and HEADER to true to see the full response from</span><br><span id="span_a5da_26">// Amazon, including body and head. Sets POST fields for cURL.</span><br><span id="span_a5da_27">// Then executes the cURL request.</span><br><span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 3: ch&amp;̲nbsp;=&amp;nbsp;cur…">ch&amp;nbsp;=&amp;nbsp;curl_init(&#039;https://&#039;&amp;nbsp;.&amp;nbsp;</span>bucket . ‘.s3-’ . <span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 7: region&amp;̲nbsp;.&amp;nbsp;&#039;.a…">region&amp;nbsp;.&amp;nbsp;&#039;.amazonaws.com&#039;);&lt;br&gt;curl_setopt(</span>ch, CURLOPT_RETURNTRANSFER, true);<br>curl_setopt(<span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 4: ch,&amp;̲nbsp;CURLOPT_HE…">ch,&amp;nbsp;CURLOPT_HEADER,&amp;nbsp;true);&lt;br&gt;curl_setopt(</span>ch, CURLOPT_POST, true);<br>curl_setopt(<span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 4: ch,&amp;̲nbsp;CURLOPT_PO…">ch,&amp;nbsp;CURLOPT_POSTFIELDS,&amp;nbsp;[&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#039;Content-Type&#039;&amp;nbsp;=&amp;gt;&amp;nbsp;&amp;nbsp;</span>fileType,<br>    ‘acl’ =&gt; <span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 9: acl,&lt;br&gt;&amp;̲nbsp;&amp;nbsp;&amp;nbs…">acl,&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#039;key&#039;&amp;nbsp;=&amp;gt;&amp;nbsp;</span>fileName,<br>    ‘policy’ =&gt;  <span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 12: policy,&lt;br&gt;&amp;̲nbsp;&amp;nbsp;&amp;nbs…">policy,&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#039;x-amz-algorithm&#039;&amp;nbsp;=&amp;gt;&amp;nbsp;&#039;AWS4-HMAC-SHA256&#039;,&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#039;x-amz-credential&#039;&amp;nbsp;=&amp;gt;&amp;nbsp;</span>credential,<br>    ‘x-amz-date’ =&gt; <span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 14: longDate,&lt;br&gt;&amp;̲nbsp;&amp;nbsp;&amp;nbs…">longDate,&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&#039;x-amz-signature&#039;&amp;nbsp;=&amp;gt;&amp;nbsp;</span>signature,<br>    ‘file’ =&gt; new CurlFile(realpath(<span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 11: filePath),&amp;̲nbsp;">filePath),&amp;nbsp;</span>fileType, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mi>i</mi><mi>l</mi><mi>e</mi><mi>N</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mi>b</mi><mi>r</mi><mo>&gt;</mo><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo separator="true">;</mo><mo>&lt;</mo><mi>b</mi><mi>r</mi><mo>&gt;</mo></mrow><annotation encoding="application/x-tex">fileName)&lt;br&gt;]);&lt;br&gt;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault" style="margin-right:.10764em">f</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:.10903em">N</span><span class="mord mathdefault">a</span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.73354em;vertical-align:-.0391em"></span><span class="mord mathdefault">b</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">&gt;</span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mclose">]</span><span class="mclose">)</span><span class="mpunct">;</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.73354em;vertical-align:-.0391em"></span><span class="mord mathdefault">b</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">&gt;</span></span></span></span>response = curl_exec(<span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 39: …pan_a5da_28&quot;&gt;//&amp;̲nbsp;RESPONSE&lt;/…">ch);&lt;br&gt;&lt;br&gt;&lt;span id=&quot;span_a5da_28&quot;&gt;//&amp;nbsp;RESPONSE&lt;/span&gt;&lt;br&gt;&lt;span id=&quot;span_a5da_29&quot;&gt;//&amp;nbsp;If&amp;nbsp;Amazon&amp;nbsp;returns&amp;nbsp;a&amp;nbsp;response&amp;nbsp;code&amp;nbsp;of&amp;nbsp;204,&amp;nbsp;the&amp;nbsp;request&amp;nbsp;was&lt;/span&gt;&lt;br&gt;&lt;span id=&quot;span_a5da_30&quot;&gt;//&amp;nbsp;successful&amp;nbsp;and&amp;nbsp;the&amp;nbsp;file&amp;nbsp;should&amp;nbsp;be&amp;nbsp;sitting&amp;nbsp;in&amp;nbsp;your&amp;nbsp;Amazon&amp;nbsp;S3&lt;/span&gt;&lt;br&gt;&lt;span id=&quot;span_a5da_31&quot;&gt;//&amp;nbsp;bucket.&amp;nbsp;If&amp;nbsp;a&amp;nbsp;code&amp;nbsp;other&amp;nbsp;than&amp;nbsp;204&amp;nbsp;is&amp;nbsp;returned,&amp;nbsp;there&amp;nbsp;will&amp;nbsp;be&amp;nbsp;an&lt;/span&gt;&lt;br&gt;&lt;span id=&quot;span_a5da_32&quot;&gt;//&amp;nbsp;XML-formatted&amp;nbsp;error&amp;nbsp;code&amp;nbsp;in&amp;nbsp;the&amp;nbsp;body.&amp;nbsp;For&amp;nbsp;simplicity,&amp;nbsp;we&amp;nbsp;use&lt;/span&gt;&lt;br&gt;&lt;span id=&quot;span_a5da_33&quot;&gt;//&amp;nbsp;substr&amp;nbsp;to&amp;nbsp;extract&amp;nbsp;the&amp;nbsp;error&amp;nbsp;code&amp;nbsp;and&amp;nbsp;output&amp;nbsp;it.&lt;/span&gt;&lt;br&gt;if&amp;nbsp;(curl_getinfo(</span>ch, CURLINFO_HTTP_CODE) == 204) &#123;<br>    echo ‘Success!’;<br>&#125; else &#123;<br>    <span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 6: error&amp;̲nbsp;=&amp;nbsp;sub…">error&amp;nbsp;=&amp;nbsp;substr(</span>response, strpos(<span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 10: response,&amp;̲nbsp;&#039;&amp;lt;code&amp;…">response,&amp;nbsp;&#039;&amp;lt;code&amp;gt;&#039;)&amp;nbsp;+&amp;nbsp;6);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;echo&amp;nbsp;substr(</span>error, 0, strpos(<span class="katex-error" title="ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;&amp;&#039; at position 7: error,&amp;̲nbsp;&#039;&amp;lt;/code…">error,&amp;nbsp;&#039;&amp;lt;/code&amp;gt;&#039;));&lt;br&gt;&#125;&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;span id=&quot;span_a5da_34&quot;&gt;If you aren&#039;t receiving any response at all, check if&amp;nbsp;&lt;/span&gt;&lt;samp id=&quot;samp_a5da_0&quot;&gt;curl_exec(</span>ch)<span id="span_a5da_35"> is returning false. If it is, chances are it’s due to an SSL issue. You can check the error at </span><samp id="samp_a5da_1">curl_error(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>h</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mi mathvariant="normal">/</mi><mi>s</mi><mi>a</mi><mi>m</mi><mi>p</mi><mo>&gt;</mo><mo>&lt;</mo><mi>s</mi><mi>p</mi><mi>a</mi><mi>n</mi><mi>i</mi><mi>d</mi><mo>=</mo><mi mathvariant="normal">&quot;</mi><mi>s</mi><mi>p</mi><mi>a</mi><msub><mi>n</mi><mi>a</mi></msub><mn>5</mn><mi>d</mi><msub><mi>a</mi><mn>3</mn></msub><mn>6</mn><mi mathvariant="normal">&quot;</mi><mo>&gt;</mo><mi mathvariant="normal">.</mi><mi>F</mi><mi>o</mi><mi>r</mi><mi>t</mi><mi>e</mi><mi>s</mi><mi>t</mi><mi>i</mi><mi>n</mi><mi>g</mi><mi>p</mi><mi>u</mi><mi>r</mi><mi>p</mi><mi>o</mi><mi>s</mi><mi>e</mi><mi>s</mi><mo separator="true">,</mo><mi>y</mi><mi>o</mi><mi>u</mi><mi>c</mi><mi>a</mi><mi>n</mi><mi>s</mi><mi>e</mi><mi>t</mi><mi>t</mi><mi>h</mi><mi>e</mi><mi>s</mi><mi>e</mi><mi>t</mi><mi>w</mi><mi>o</mi><mi>a</mi><mi>d</mi><mi>d</mi><mi>i</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mi>a</mi><mi>l</mi><mi>c</mi><mi>U</mi><mi>R</mi><mi>L</mi><mi>o</mi><mi>p</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mi>s</mi><mi>a</mi><mi>n</mi><mi>d</mi><mi>s</mi><mi>e</mi><mi>e</mi><mi>i</mi><mi>f</mi><mi>i</mi><mi>t</mi><mi>w</mi><mi>o</mi><mi>r</mi><mi>k</mi><mi>s</mi><mo>:</mo><mo>&lt;</mo><mi mathvariant="normal">/</mi><mi>s</mi><mi>p</mi><mi>a</mi><mi>n</mi><mo>&gt;</mo><mo>&lt;</mo><mi mathvariant="normal">/</mi><mi>p</mi><mi>r</mi><mi>e</mi><mo>&gt;</mo><mo>&lt;</mo><mi>p</mi><mi>r</mi><mi>e</mi><mo>&gt;</mo><mo>&lt;</mo><mi>c</mi><mi>o</mi><mi>d</mi><mi>e</mi><mi>i</mi><mi>d</mi><mo>=</mo><mi mathvariant="normal">&quot;</mi><mi>c</mi><mi>o</mi><mi>d</mi><msub><mi>e</mi><mi>a</mi></msub><mn>5</mn><mi>d</mi><msub><mi>a</mi><mn>1</mn></msub><mi mathvariant="normal">&quot;</mi><mo>&gt;</mo><mi>c</mi><mi>u</mi><mi>r</mi><msub><mi>l</mi><mi>s</mi></msub><mi>e</mi><mi>t</mi><mi>o</mi><mi>p</mi><mi>t</mi><mo stretchy="false">(</mo></mrow><annotation encoding="application/x-tex">ch)&lt;/samp&gt;&lt;span id=&quot;span_a5da_36&quot;&gt;. For testing purposes, you can set these two additional cURL options and see if it works:&lt;/span&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code id=&quot;code_a5da_1&quot;&gt;curl_setopt(</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">/</span><span class="mord mathdefault">s</span><span class="mord mathdefault">a</span><span class="mord mathdefault">m</span><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">&gt;</span></span><span class="base"><span class="strut" style="height:.5782em;vertical-align:-.0391em"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">p</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord">&quot;</span><span class="mord mathdefault">s</span><span class="mord mathdefault">p</span><span class="mord mathdefault">a</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord">5</span><span class="mord mathdefault">d</span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord">6</span><span class="mord">&quot;</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.8888799999999999em;vertical-align:-.19444em"></span><span class="mord">.</span><span class="mord mathdefault" style="margin-right:.13889em">F</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:.03588em">g</span><span class="mord mathdefault">p</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord mathdefault">p</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord mathdefault" style="margin-right:.03588em">y</span><span class="mord mathdefault">o</span><span class="mord mathdefault">u</span><span class="mord mathdefault">c</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault">t</span><span class="mord mathdefault">t</span><span class="mord mathdefault">h</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:.02691em">w</span><span class="mord mathdefault">o</span><span class="mord mathdefault">a</span><span class="mord mathdefault">d</span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:.10903em">U</span><span class="mord mathdefault" style="margin-right:.00773em">R</span><span class="mord mathdefault">L</span><span class="mord mathdefault">o</span><span class="mord mathdefault">p</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault">d</span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault">e</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:.10764em">f</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:.02691em">w</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord mathdefault" style="margin-right:.03148em">k</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">:</span></span><span class="base"><span class="strut" style="height:.5782em;vertical-align:-.0391em"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">/</span><span class="mord mathdefault">s</span><span class="mord mathdefault">p</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">&gt;</span></span><span class="base"><span class="strut" style="height:.5782em;vertical-align:-.0391em"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">/</span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord mathdefault">e</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">&gt;</span></span><span class="base"><span class="strut" style="height:.5782em;vertical-align:-.0391em"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.7335400000000001em;vertical-align:-.19444em"></span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord mathdefault">e</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">&gt;</span></span><span class="base"><span class="strut" style="height:.5782em;vertical-align:-.0391em"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.69444em;vertical-align:0"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault">d</span><span class="mord mathdefault">e</span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.84444em;vertical-align:-.15em"></span><span class="mord">&quot;</span><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault">d</span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord">5</span><span class="mord mathdefault">d</span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord">&quot;</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:.02778em">r</span><span class="mord"><span class="mord mathdefault" style="margin-right:.01968em">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.151392em"><span style="top:-2.5500000000000003em;margin-left:-.01968em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord mathdefault">e</span><span class="mord mathdefault">t</span><span class="mord mathdefault">o</span><span class="mord mathdefault">p</span><span class="mord mathdefault">t</span><span class="mopen">(</span></span></span></span>ch, CURLOPT_SSL_VERIFYPEER, false);<br>curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0);</samp></code></pre><span id="span_a5da_37">But note that doing this is very insecure. Read </span><a href="http://stackoverflow.com/questions/21195530/does-turning-off-curlopt-ssl-verifypeer-in-curl-make-transmission-insecure" id="a_a5da_1" target="_blank" rel="nofollow noopener noreferer noreferrer">this Stackoverflow post</a><span id="span_a5da_38"> and </span><a href="http://unitstep.net/blog/2009/05/05/using-curl-in-php-to-access-https-ssltls-protected-sites/" id="a_a5da_2" target="_blank" rel="nofollow noopener noreferer noreferrer">this blog post</a><span id="span_a5da_39">.</span><br><br>Source: <a target="_blank" rel="nofollow noopener noreferer noreferrer" href="http://hex3d.com">hex3d.com</a></p><blockquote><h1 style="font-size:.9em" id="H1E">PHP Amazon S3 File Upload Code AWS Signature Version 4</h1><strong>PermaLink: </strong><a href="https://www.webmanajemen.com/2017/07/php-amazon-s3-file-upload-code-aws.html" rel="internal follow bookmark">https://www.webmanajemen.com/2017/07/php-amazon-s3-file-upload-code-aws.html</a><hr><a target="_blank" href="https://search.google.com/test/rich-results?url=https%3A%2F%2Fwww.webmanajemen.com%2F2017%2F07%2Fphp-amazon-s3-file-upload-code-aws.html" rel="nofollow noopener noreferer noreferrer"><i>Google Rich Snippets</i></a> | <a target="_blank" rel="nofollow noopener noreferer noreferrer" href="https://validator.schema.org/#url=https%3A%2F%2Fwww.webmanajemen.com%2F2017%2F07%2Fphp-amazon-s3-file-upload-code-aws.html">Schema Markup Validator</a> | <a target="_blank" rel="nofollow noopener noreferer noreferrer" href="https://pagespeed.web.dev/report?url=https%3A%2F%2Fwww.webmanajemen.com%2F2017%2F07%2Fphp-amazon-s3-file-upload-code-aws.html">Google Pagespeed Insight</a></blockquote></div><footer class="mdui-card-actions"><a href="/tags/PHP" class="mdui-ripple article_tags-link" rel="link">PHP</a></footer></article><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script><script>$("#main article .mdui-card-content img.fancybox").on("click",(function(c){$.fancybox.open({src:$(this).attr("src")})}))</script><nav id="paginator"><a rel="prev" class="extend prev" href="/2017/07/cara-ping-mesin-pencari-dengan-curl.html"><button aria-label="prev" class="mdui-btn mdui-btn-raised mdui-btn-icon mdui-color-theme-accent mdui-ripple"><i class="mdui-icon material-icons">arrow_back</i></button> <span class="mdui-p-x-3" mdui-tooltip="{content: 'Cara ping mesin pencari dengan curl'}">Prev</span></a><div class="spacer"></div><a rel="next" class="extend next" href="/2017/07/an-alternative-way-to-resolve-submit.html"><span class="mdui-p-x-3" mdui-tooltip="{content: 'An alternative way to resolve the submit button is not working or return to home'}">Next</span> <button aria-label="next" class="mdui-btn mdui-btn-raised mdui-btn-icon mdui-color-theme-accent mdui-ripple"><i class="mdui-icon material-icons">arrow_forward</i></button></a></nav><div id="comment" class="mdui-m-t-5"><div id="disqus_thread"></div><script>var disqus_config=function(){this.page.url="https://www.webmanajemen.com/2017/07/php-amazon-s3-file-upload-code-aws.html",this.page.identifier="https://www.webmanajemen.com/2017/07/php-amazon-s3-file-upload-code-aws.html"};!function(){var e=document,a=e.createElement("script");a.src="//dimaslanjaka.disqus.com/embed.js",a.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(a)}()</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" target="_blank" rel="nofollow noopener noreferrer">comments powered by Disqus.</a></noscript></div></main><footer id="footer" class="mdui-m-t-5 mdui-p-y-3 mdui-color-theme"><div class="mdui-p-y-0 mdui-text-center"></div><div class="mdui-p-y-1 mdui-text-center">Copyright &copy; 2014 - 2021 Dimas Lanjaka<br>Powered by <a href="https://hexo.io/" target="_blank" rel="nofollow noopener noreferer noreferrer" class="mdui-text-color-theme-accent" style="margin-right:2px">Hexo</a> Website Manajemen Indonesia</div></footer><button id="gotop" class="mdui-fab mdui-fab-fixed mdui-fab-hide mdui-color-theme-accent mdui-ripple"><i class="mdui-icon material-icons">arrow_upward</i></button><script src="/js/mdui.js"></script><script src="/js/script.js"></script><script src="/custom.js"></script><script>const LOCAL_DOMAINS=["localhost","127.0.0.1","0.0.0.0"];!LOCAL_DOMAINS.includes(window.location.hostname)&&location.protocol&&"https:"!==location.protocol&&location.replace("https:"+location.href.substring(location.protocol.length))</script><div id="hexo-adsense-hidden" style="display:none"><div hexo-adsense="ads-content"><ins class="adsbygoogle" style="display:block;text-align:center" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-1165447249910969" data-ad-slot="8418182273"></ins><script></script></div><div hexo-adsense="ads-content"><ins class="adsbygoogle" style="display:block;text-align:center" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-1165447249910969" data-ad-slot="7823254087"></ins><script></script></div></div><style>[hexo-adsense=ads-content]{display:block;background:#fff url(//i.imgur.com/mBbv90p.png) no-repeat top right;color:#303030;min-width:250px;text-align:center;margin-left:auto;margin-right:auto}</style><script>const isBrowser=new Function("try {return this===window;}catch(e){ return false;}"),hexoAdsenseConfig=JSON.parse(document.getElementById("hexo-adsense-config").textContent);function insertAfter(e,t){if(t&&e){let n=t.parentNode;n.lastChild==t?n.appendChild(e):n.insertBefore(e,t.nextSibling)}else console.error("cannot insert element")}function replaceWith(e,t){t.parentNode?t.parentNode.replaceChild(e,t):(console.log(t,"parent null"),document.createElement("div").appendChild(t))}let createElementFromHTML=function(e){if(e instanceof HTMLElement)return e;var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild};function oldMethod(){let e=document.getElementsByTagName("article"),t=document.getElementById("hexo-adsense-ads-content");if(t&&t.length&&e&&e.length){let n=e.item(0).getElementsByTagName("br");if(n.length>0)return replaceWith(t,n.item(0));let o=e.item(0).querySelectorAll("h2,h3,h4,h5");if(o&&o.length>0)return insertAfter(t,o.item(0))}}function ranumb(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function newMethod(){const e=document.getElementById("hexo-adsense-hidden");let t=e.querySelectorAll('[hexo-adsense="ads-content"]');const n=document.querySelectorAll("article");if(n.length>0&&t.length>0){let o;if(1==n.length){console.log("webpage is post");let l=n.item(0);const r=l.querySelectorAll("*[hexo-adsense-fill]");if(r.length>0)for(let e=0;e<r.length;e++){const n=r[e];void 0!==t[e]&&n.appendChild(t[e])}if(t=e.querySelectorAll('[hexo-adsense="ads-content"]'),t.length>0){const e=l.querySelectorAll("h1,h2,h3,h4,h5,h6,pre");if(e.length>0){let n=Array.apply(null,{length:e.length}).map(Number.call,Number);for(let l=0;l<t.length;l++){o=t[l];const r=shuffleArr2(n).next().value;if("number"==typeof r){const t=e.item(r);insertAfter(createElementFromHTML(o),t)}}}}if(t=e.querySelectorAll('[hexo-adsense="ads-content"]'),t.length>0){const e=l.querySelectorAll("br,hr");if(e.length>0){const n=shuffleArr2(Array.apply(null,{length:e.length}).map(Number.call,Number));for(let l=0;l<t.length;l++){o=t[l];const r=n.next().value;if("number"==typeof r){const t=e.item(r);if(["blockquote","img","a","pre","code","em","strong","i","u"].includes(t.parentNode.tagName.toLowerCase())){l--;continue}replaceWith(createElementFromHTML(o),t)}}}}}else{console.log("webpage is not post");const e=shuffleArr2(Array.apply(null,{length:n.length}).map(Number.call,Number));for(let l=0;l<t.length;l++){o=t[l];const r=e.next().value;"number"==typeof r&&n.item(r).appendChild(createElementFromHTML(o))}}adsensePush()}}function eventMethod(){document.addEventListener("DOMContentLoaded",(function(){document.querySelector("a[name=more]").insertAdjacentHTML("afterend",'<div class="adsense-after-break"> [replace this with code from the last step] </div>'),(adsbygoogle=window.adsbygoogle||[]).push({})}))}function shuffleArr(e){for(var t,n=e.length,o=0;n--;)o=Math.floor(Math.random()*(n+1)),t=e[n],e[n]=e[o],e[o]=t;return e}function*shuffleArr2(e){for(var t=e.length;t--;)yield e.splice(Math.floor(Math.random()*(t+1)),1)[0]}function adsensePush(){for(let e=0;e<document.querySelectorAll('[hexo-adsense="ads-content"]').length;e++)(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:hexoAdsenseConfig.pub})}isBrowser()?(window.__tcfapi=(e,t,n)=>{"checkConsent"===e&&n(!0),"addEventListener"===e&&n({eventStatus:"tcloaded",gdprApplies:!1},!0)},"function"==typeof document.addEventListener?document.addEventListener("DOMContentLoaded",newMethod):"function"==typeof window.attachEvent?window.attachEvent("onload",newMethod):window.onload=newMethod):module.exports={replaceWith:replaceWith,insertAfter:insertAfter}</script></body></html>