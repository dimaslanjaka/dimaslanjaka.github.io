---
author:
  nick: Unknown
  link: ""
  email: noreply@blogger.com
category: []
comments: true
cover: https://pear.php.net/gifs/pearsmall.gif
date: 2020-01-07T01:43:00.000+07:00
lang: en
location: ""
modified: 2020-03-30T21:48:16.932+07:00
subtitle: "Basic Mailer basic php mailer php
  ?phpheader(Access-Control-Allow-Origin: *);header(Content-Type:
  application/json);/* *"
tags:
  - PHP
title: PHP Mailer work with AJAX
type: post
uuid: 74d8af4d-0475-4888-865d-5d0f79b9d322
webtitle: WMI Gitlab
updated: 2020-03-30T21:48:16+07:00
thumbnail: https://pear.php.net/gifs/pearsmall.gif
photos:
  - https://pear.php.net/gifs/pearsmall.gif
description: "Basic Mailer basic php mailer php
  ?phpheader(Access-Control-Allow-Origin: *);header(Content-Type:
  application/json);/* *"
---

<div dir="ltr" style="text-align: left;" trbidi="on">  <h3>Basic Mailer</h3>  <p>basic php mailer</p>  <b>php</b>  <pre>&lt;?php<br>header('Access-Control-Allow-Origin: *');<br>header('Content-Type: application/json');<br>/*<br> *  CONFIGURE EVERYTHING HERE<br> */<br><br>// an email address that will be in the From field of the email.<br>$from = isset($_REQUEST['from']) ? $_REQUEST['from'] : 'example@mail.com';<br>$from = filter_var($from, FILTER_VALIDATE_EMAIL) ? $from : null;<br>// an email address that will receive the email with the output of the form<br>$sendTo = 'dimaslanjaka.superuser@blogger.com';<br><br>// subject of the email<br>$subject = 'New message';<br><br>// form field names and their translations.<br>// array variable name =&gt; Text to appear in the email<br>$fields = array('name' =&gt; 'Name', 'surname' =&gt; 'Surname', 'phone' =&gt; 'Phone', 'email' =&gt; 'Email', 'message' =&gt; 'Message');<br><br>// message that will be displayed when everything is OK :)<br>$okMessage = 'Contact form successfully submitted. Thank you, I will get back to you soon!';<br><br>// If something goes wrong, we will display this message.<br>$errorMessage = 'There was an error while submitting the form. Please try again later';<br><br>/*<br> *  LET'S DO THE SENDING<br> */<br><br>// if you are not debugging and don't need error reporting, turn this off by error_reporting(0);<br>error_reporting(E_ALL &amp; ~E_NOTICE);<br><br>try {<br><br>  if (count($_POST) == 0) throw new \Exception('Form is empty');<br>  if (!$from) throw new \Exception('Email is invalid');<br>  $intro = isset($_REQUEST['subject']) ? '[Mail] ' . trim($_REQUEST['subject']) : "You have a new message from {$from}";<br>  $emailText = "";<br><br>  foreach ($_POST as $key =&gt; $value) {<br>    // If the field exists in the $fields array, include it in the email<br>    if (isset($fields[$key])) {<br>      if (empty($value)) continue;<br>      $emailText .= "$fields[$key]: $value\n";<br>    }<br>  }<br><br>  if (empty(trim($emailText))) throw new \Exception('Messages Empty');<br><br>  $emailText = "$intro\n=============================\n\n{$emailText}\n=============================\n";<br><br>  // All the neccessary headers for the email.<br>  $headers = array(<br>    'Content-Type: text/plain; charset="UTF-8";',<br>    'From: ' . $from,<br>    'Reply-To: ' . $from,<br>    'Return-Path: ' . $from,<br>  );<br><br>  // Send email<br>  mail($sendTo, $subject, $emailText, implode("\n", $headers));<br><br>  $responseArray = array('type' =&gt; 'success', 'message' =&gt; $okMessage);<br>} catch (\Exception $e) {<br>  $responseArray = array('type' =&gt; 'danger', 'message' =&gt; $errorMessage . '. ' . $e-&gt;getMessage());<br>}<br><br><br>$encoded = json_encode($responseArray);<br>echo $encoded;<br></pre>  <b>html form</b>  <pre><br>    &lt;form class="p-5 grey-text" id="cForm"&gt;<br>      &lt;div class="md-form form-sm"&gt; &lt;i class="fa fa-user prefix"&gt;&lt;/i&gt;<br>        &lt;input type="text" id="form3" name="name" class="form-control form-control-sm"&gt;<br>        &lt;label for="form3"&gt;Your name&lt;/label&gt;<br>      &lt;/div&gt;<br>      &lt;div class="md-form form-sm"&gt; &lt;i class="fa fa-envelope prefix"&gt;&lt;/i&gt;<br>        &lt;input type="text" id="form2" name="email" class="form-control form-control-sm"&gt;<br>        &lt;label for="form2"&gt;Your email&lt;/label&gt;<br>      &lt;/div&gt;<br>      &lt;div class="md-form form-sm"&gt; &lt;i class="fa fa-tag prefix"&gt;&lt;/i&gt;<br>        &lt;input type="text" id="form32" name="subject" class="form-control form-control-sm"&gt;<br>        &lt;label for="form34"&gt;Subject&lt;/label&gt;<br>      &lt;/div&gt;<br>      &lt;div class="md-form form-sm"&gt; &lt;i class="fa fa-pencil-alt prefix"&gt;&lt;/i&gt;<br>        &lt;textarea name="message" type="text" id="form8" class="md-textarea form-control form-control-sm"<br>          rows="4"&gt;&lt;/textarea&gt;<br>        &lt;label for="form8"&gt;Your message&lt;/label&gt;<br>      &lt;/div&gt;<br>      &lt;div class="text-center mt-4"&gt;<br>        &lt;button class="btn btn-primary waves-effect waves-light"&gt;Send &lt;i class="fa fa-paper-plane ml-1"&gt;&lt;/i&gt;&lt;/button&gt;<br>      &lt;/div&gt;<br>    &lt;/form&gt;<br></pre>   <h3>Google SMTP</h3>  <p>Send mail using google smtp with php</p>  <i>Requirement:     <ol>      <li>        <a href="https://pear.php.net/package/Mail/" rel="noopener noreferer nofollow">PHP PEAR MAIL</a>        or install using composer         <pre><br>        composer require phpmailer/phpmailer<br>        composer require pear/net_smtp<br>        composer require pear/mail<br>        </pre>        or install using pear         <pre><br>        pear install mail<br>        </pre>      </li>    </ol>  </i>  <b>php</b>  <pre><br>  &lt;?php<br>  $subject = isset($_REQUEST['subject']) ? trim($_REQUEST['subject']) : 'Subject Mail';<br>  $body = isset($_REQUEST['body']) ? trim($_REQUEST['body']) : 'Body Mail';<br>  $from = isset($_REQUEST['from']) ? trim($_REQUEST['from']) : 'dimascyber008@gmail.com';<br><br>  $body = "$body\n#end";<br><br>  $headers = [<br>    'From' =&gt; $from,<br>    'To' =&gt; $to,<br>    'Subject' =&gt; $subject,<br>    'MIME-Version' =&gt; '1.0',<br>    'Content-Type' =&gt; 'text/html; charset=UTF-8',<br>  ];<br><br>  $smtp = Mail::factory('smtp', [<br>    'host' =&gt; 'ssl://smtp.gmail.com',<br>    'port' =&gt; '465',<br>    'auth' =&gt; true,<br>    'username' =&gt; 'dimascyber008@gmail.com',<br>    'password' =&gt; 'oacjnzwovgejrdjb',<br>  ]);<br><br>  $mail = $smtp-&gt;send($to, $headers, $body);<br>  $result = [];<br>  if (PEAR::isError($mail)) {<br>    $result['error'] = true;<br>    $result['message'] = $mail-&gt;getMessage();<br>    $result['header'] = json_encode($headers);<br>  } else {<br>    try {<br>      $result['success'] = true;<br>      $result['message'] = 'Message successfully sent';<br>    } catch (Exception $e) {<br>      $result['error'] = true;<br>      $result['message'] = $e-&gt;getMessage();<br>    }<br>  }<br>  echo json_encode($result, JSON_PRETTY_PRINT | JSON_UNESCAPED_SLASHES | JSON_UNESCAPED_UNICODE);<br>  ?&gt;<br></pre>  <b>html form</b>  <pre><br>  &lt;form action="namefile.php" method="post"&gt;<br>    &lt;input type="email" name="from" placeholder="Your email" class="form-control"&gt;<br>    &lt;input type="text" name="subject" placeholder="Subject Mail" class="form-control"&gt;<br>    &lt;textarea name="body" id="" cols="30" rows="10" class="form-control" placeholder="your messages"&gt;&lt;/textarea&gt;<br>  &lt;/form&gt;<br></pre>  <div>    <i>Incoming terms:</i>    <ul>      <li>php mail ajax</li>      <li>send mail using php</li>      <li>easy send mail with php</li>      <li>php mail with ajax</li>      <li>php mail using ajax</li>      <li>how to send mail with ajax</li>      <li>how to send mail using ajax</li>    </ul>    <i>thumbnails</i>    <div class="row">      <div class="col-md-3">        <img src="https://pear.php.net/gifs/pearsmall.gif" alt="pear">      </div>      <div class="col-md-3">        <img src="https://www.php.net/images/logos/new-php-logo.svg" alt="php">      </div>      <div class="col-md-3">        <img src="https://miro.medium.com/max/4000/1*v3b022s2UAyhVAFLUtzhJg.png" alt="ajax">      </div>    </div>  </div></div>