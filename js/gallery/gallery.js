!function(e){e.fn.navList=function(){var t=e(this);return $a=t.find("a"),b=[],$a.each((function(){var t=e(this),o=Math.max(0,t.parents("li").length-1),n=t.attr("href"),i=t.attr("target");b.push('<a class="link depth-'+o+'"'+(void 0!==i&&""!=i?' target="'+i+'"':"")+(void 0!==n&&""!=n?' href="'+n+'"':"")+'><span class="indent-'+o+'"></span>'+t.text()+"</a>")})),b.join("")},e.fn.panel=function(t){if(0==this.length)return i;if(this.length>1){for(var o=0;o<this.length;o++)e(this[o]).panel(t);return i}var n,i=e(this),a=e("body"),r=e(window),s=i.attr("id");return"jQuery"!=typeof(n=e.extend({delay:0,hideOnClick:!1,hideOnEscape:!1,hideOnSwipe:!1,resetScroll:!1,resetForms:!1,side:null,target:i,visibleClass:"visible"},t)).target&&(n.target=e(n.target)),i._hide=function(e){n.target.hasClass(n.visibleClass)&&(e&&(e.preventDefault(),e.stopPropagation()),n.target.removeClass(n.visibleClass),window.setTimeout((function(){n.resetScroll&&i.scrollTop(0),n.resetForms&&i.find("form").each((function(){this.reset()}))}),n.delay))},i.css("-ms-overflow-style","-ms-autohiding-scrollbar").css("-webkit-overflow-scrolling","touch"),n.hideOnClick&&(i.find("a").css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),i.on("click","a",(function(t){var o=e(this),a=o.attr("href"),r=o.attr("target");a&&"#"!=a&&""!=a&&a!="#"+s&&(t.preventDefault(),t.stopPropagation(),i._hide(),window.setTimeout((function(){"_blank"==r?window.open(a):window.location.href=a}),n.delay+10))}))),i.on("touchstart",(function(e){i.touchPosX=e.originalEvent.touches[0].pageX,i.touchPosY=e.originalEvent.touches[0].pageY})),i.on("touchmove",(function(e){if(null!==i.touchPosX&&null!==i.touchPosY){var t=i.touchPosX-e.originalEvent.touches[0].pageX,o=i.touchPosY-e.originalEvent.touches[0].pageY,a=i.outerHeight(),r=i.get(0).scrollHeight-i.scrollTop();if(n.hideOnSwipe){var s=!1,p=20;switch(n.side){case"left":s=p>o&&o>-20&&t>50;break;case"right":s=p>o&&o>-20&&-50>t;break;case"top":s=p>t&&t>-20&&o>50;break;case"bottom":s=p>t&&t>-20&&-50>o}if(s)return i.touchPosX=null,i.touchPosY=null,i._hide(),!1}(i.scrollTop()<0&&0>o||r>a-2&&a+2>r&&o>0)&&(e.preventDefault(),e.stopPropagation())}})),i.on("click touchend touchstart touchmove",(function(e){e.stopPropagation()})),i.on("click",'a[href="#'+s+'"]',(function(e){e.preventDefault(),e.stopPropagation(),n.target.removeClass(n.visibleClass)})),a.on("click touchend",(function(e){i._hide(e)})),a.on("click",'a[href="#'+s+'"]',(function(e){e.preventDefault(),e.stopPropagation(),n.target.toggleClass(n.visibleClass)})),n.hideOnEscape&&r.on("keydown",(function(e){27==e.keyCode&&i._hide(e)})),i},e.fn.placeholder=function(){if(void 0!==document.createElement("input").placeholder)return e(this);if(0==this.length)return o;if(this.length>1){for(var t=0;t<this.length;t++)e(this[t]).placeholder();return o}var o=e(this);return o.find("input[type=text],textarea").each((function(){var t=e(this);(""==t.val()||t.val()==t.attr("placeholder"))&&t.addClass("polyfill-placeholder").val(t.attr("placeholder"))})).on("blur",(function(){var t=e(this);t.attr("name").match(/-polyfill-field$/)||""==t.val()&&t.addClass("polyfill-placeholder").val(t.attr("placeholder"))})).on("focus",(function(){var t=e(this);t.attr("name").match(/-polyfill-field$/)||t.val()==t.attr("placeholder")&&t.removeClass("polyfill-placeholder").val("")})),o.find("input[type=password]").each((function(){var t=e(this),o=e(e("<div>").append(t.clone()).remove().html().replace(/type="password"/i,'type="text"').replace(/type=password/i,"type=text"));""!=t.attr("id")&&o.attr("id",t.attr("id")+"-polyfill-field"),""!=t.attr("name")&&o.attr("name",t.attr("name")+"-polyfill-field"),o.addClass("polyfill-placeholder").val(o.attr("placeholder")).insertAfter(t),""==t.val()?t.hide():o.hide(),t.on("blur",(function(e){e.preventDefault();var o=t.parent().find("input[name="+t.attr("name")+"-polyfill-field]");""==t.val()&&(t.hide(),o.show())})),o.on("focus",(function(e){e.preventDefault();var t=o.parent().find("input[name="+o.attr("name").replace("-polyfill-field","")+"]");o.hide(),t.show().focus()})).on("keypress",(function(e){e.preventDefault(),o.val("")}))})),o.on("submit",(function(){o.find("input[type=text],input[type=password],textarea").each((function(t){var o=e(this);o.attr("name").match(/-polyfill-field$/)&&o.attr("name",""),o.val()==o.attr("placeholder")&&(o.removeClass("polyfill-placeholder"),o.val(""))}))})).on("reset",(function(t){t.preventDefault(),o.find("select").val(e("option:first").val()),o.find("input,textarea").each((function(){var t,o=e(this);switch(o.removeClass("polyfill-placeholder"),this.type){case"submit":case"reset":break;case"password":o.val(o.attr("defaultValue")),t=o.parent().find("input[name="+o.attr("name")+"-polyfill-field]"),""==o.val()?(o.hide(),t.show()):(o.show(),t.hide());break;case"checkbox":case"radio":o.attr("checked",o.attr("defaultValue"));break;case"text":case"textarea":o.val(o.attr("defaultValue")),""==o.val()&&(o.addClass("polyfill-placeholder"),o.val(o.attr("placeholder")));break;default:o.val(o.attr("defaultValue"))}}))})),o},e.prioritize=function(t,o){var n="__prioritize";"jQuery"!=typeof t&&(t=e(t)),t.each((function(){var t,i=e(this),a=i.parent();if(0!=a.length)if(i.data(n)){if(o)return;t=i.data(n),i.insertAfter(t),i.removeData(n)}else{if(!o)return;if(0==(t=i.prev()).length)return;i.prependTo(a),i.data(n,t)}}))}}(jQuery);var e=function(){var e={breakpointIds:null,events:{},isInit:!1,obj:{attachments:{},breakpoints:{},head:null,states:{}},sd:"/",state:null,stateHandlers:{},stateId:"",vars:{},DOMReady:null,indexOf:null,isArray:null,iterate:null,matchesMedia:null,extend:function(t,o){e.iterate(o,(function(n){e.isArray(o[n])?(e.isArray(t[n])||(t[n]=[]),e.extend(t[n],o[n])):"object"==typeof o[n]?("object"!=typeof t[n]&&(t[n]={}),e.extend(t[n],o[n])):t[n]=o[n]}))},newStyle:function(e){var t=document.createElement("style");return t.type="text/css",t.innerHTML=e,t},_canUse:null,canUse:function(t){e._canUse||(e._canUse=document.createElement("div"));var o=e._canUse.style,n=t.charAt(0).toUpperCase()+t.slice(1);return t in o||"Moz"+n in o||"Webkit"+n in o||"O"+n in o||"ms"+n in o},on:function(t,o){var n=t.split(/[\s]+/);return e.iterate(n,(function(t){var i=n[t];if(e.isInit){if("init"==i)return void o();if("change"==i)o();else{var a=i.charAt(0);if("+"==a||"!"==a){var r=i.substring(1);if(r in e.obj.breakpoints)if("+"==a&&e.obj.breakpoints[r].active)o();else if("!"==a&&!e.obj.breakpoints[r].active)return void o()}}}e.events[i]||(e.events[i]=[]),e.events[i].push(o)})),e},trigger:function(t){return e.events[t]&&0!=e.events[t].length?(e.iterate(e.events[t],(function(o){e.events[t][o]()})),e):void 0},breakpoint:function(t){return e.obj.breakpoints[t]},breakpoints:function(t){function o(e,t){this.name=this.id=e,this.media=t,this.active=!1,this.wasActive=!1}return o.prototype.matches=function(){return e.matchesMedia(this.media)},o.prototype.sync=function(){this.wasActive=this.active,this.active=this.matches()},e.iterate(t,(function(n){e.obj.breakpoints[n]=new o(n,t[n])})),window.setTimeout((function(){e.poll()}),0),e},addStateHandler:function(t,o){e.stateHandlers[t]=o},callStateHandler:function(t){var o=e.stateHandlers[t]();e.iterate(o,(function(t){e.state.attachments.push(o[t])}))},changeState:function(t){e.iterate(e.obj.breakpoints,(function(t){e.obj.breakpoints[t].sync()})),e.vars.lastStateId=e.stateId,e.stateId=t,e.breakpointIds=e.stateId===e.sd?[]:e.stateId.substring(1).split(e.sd),e.obj.states[e.stateId]?e.state=e.obj.states[e.stateId]:(e.obj.states[e.stateId]={attachments:[]},e.state=e.obj.states[e.stateId],e.iterate(e.stateHandlers,e.callStateHandler)),e.detachAll(e.state.attachments),e.attachAll(e.state.attachments),e.vars.stateId=e.stateId,e.vars.state=e.state,e.trigger("change"),e.iterate(e.obj.breakpoints,(function(t){e.obj.breakpoints[t].active?e.obj.breakpoints[t].wasActive||e.trigger("+"+t):e.obj.breakpoints[t].wasActive&&e.trigger("-"+t)}))},generateStateConfig:function(t,o){var n={};return e.extend(n,t),e.iterate(e.breakpointIds,(function(t){e.extend(n,o[e.breakpointIds[t]])})),n},getStateId:function(){var t="";return e.iterate(e.obj.breakpoints,(function(o){var n=e.obj.breakpoints[o];n.matches()&&(t+=e.sd+n.id)})),t},poll:function(){var t="";""===(t=e.getStateId())&&(t=e.sd),t!==e.stateId&&e.changeState(t)},_attach:null,attach:function(t){var o=e.obj.head,n=t.element;return(!n.parentNode||!n.parentNode.tagName)&&(e._attach||(e._attach=o.firstChild),o.insertBefore(n,e._attach.nextSibling),t.permanent&&(e._attach=n),!0)},attachAll:function(t){var o=[];e.iterate(t,(function(e){o[t[e].priority]||(o[t[e].priority]=[]),o[t[e].priority].push(t[e])})),o.reverse(),e.iterate(o,(function(t){e.iterate(o[t],(function(n){e.attach(o[t][n])}))}))},detach:function(e){var t=e.element;return!(e.permanent||!t.parentNode||t.parentNode&&!t.parentNode.tagName)&&(t.parentNode.removeChild(t),!0)},detachAll:function(t){var o={};e.iterate(t,(function(e){o[t[e].id]=!0})),e.iterate(e.obj.attachments,(function(t){t in o||e.detach(e.obj.attachments[t])}))},attachment:function(t){return t in e.obj.attachments?e.obj.attachments[t]:null},newAttachment:function(t,o,n,i){return e.obj.attachments[t]={id:t,element:o,priority:n,permanent:i}},init:function(){e.initMethods(),e.initVars(),e.initEvents(),e.obj.head=document.getElementsByTagName("head")[0],e.isInit=!0,e.trigger("init")},initEvents:function(){e.on("resize",(function(){e.poll()})),e.on("orientationChange",(function(){e.poll()})),e.DOMReady((function(){e.trigger("ready")})),window.onload&&e.on("load",window.onload),window.onload=function(){e.trigger("load")},window.onresize&&e.on("resize",window.onresize),window.onresize=function(){e.trigger("resize")},window.onorientationchange&&e.on("orientationChange",window.onorientationchange),window.onorientationchange=function(){e.trigger("orientationChange")}},initMethods:function(){document.addEventListener?e.DOMReady=function(){function e(e){for(a=1;e=o.shift();)e()}var t,o=[],n=document,i="DOMContentLoaded",a=/^loaded|^c/.test(n.readyState);return n.addEventListener(i,t=function(){n.removeEventListener(i,t),e()}),function(e){a?e():o.push(e)}}():e.DOMReady=function(e){function t(e){for(d=1;e=n.shift();)e()}var o,n=[],i=!1,a=document,r=a.documentElement,s=r.doScroll,p="DOMContentLoaded",c="addEventListener",l="onreadystatechange",u="readyState",d=(s?/^loaded|^c/:/^loaded|c/).test(a[u]);return a[c]&&a[c](p,o=function(){a.removeEventListener(p,o,i),t()},i),s&&a.attachEvent(l,o=function(){/^c/.test(a[u])&&(a.detachEvent(l,o),t())}),e=s?function(t){self!=top?d?t():n.push(t):function(){try{r.doScroll("left")}catch(o){return setTimeout((function(){e(t)}),50)}t()}()}:function(e){d?e():n.push(e)}}(),Array.prototype.indexOf?e.indexOf=function(e,t){return e.indexOf(t)}:e.indexOf=function(e,t){if("string"==typeof e)return e.indexOf(t);var o,n,i=t||0;if(!this)throw new TypeError;if(0===(n=this.length)||i>=n)return-1;for(0>i&&(i=n-Math.abs(i)),o=i;n>o;o++)if(this[o]===e)return o;return-1},Array.isArray?e.isArray=function(e){return Array.isArray(e)}:e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},Object.keys?e.iterate=function(e,t){if(!e)return[];var o,n=Object.keys(e);for(o=0;n[o]&&!1!==t(n[o],e[n[o]]);o++);}:e.iterate=function(e,t){if(!e)return[];var o;for(o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&!1===t(o,e[o]))break},window.matchMedia?e.matchesMedia=function(e){return""==e||window.matchMedia(e).matches}:window.styleMedia||window.media?e.matchesMedia=function(e){return""==e||(window.styleMedia||window.media).matchMedium(e||"all")}:window.getComputedStyle?e.matchesMedia=function(e){if(""==e)return!0;var t,o=document.createElement("style"),n=document.getElementsByTagName("script")[0];o.type="text/css",o.id="matchmediajs-test",n.parentNode.insertBefore(o,n),t="getComputedStyle"in window&&window.getComputedStyle(o,null)||o.currentStyle;var i="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return o.styleSheet?o.styleSheet.cssText=i:o.textContent=i,"1px"===t.width}:e.matchesMedia=function(e){if(""==e)return!0;var t,o,n,i,a={"min-width":null,"max-width":null},r=!1;for(n=e.split(/\s+and\s+/),t=0;t<n.length;t++)"("==(o=n[t]).charAt(0)&&(2==(i=(o=o.substring(1,o.length-1)).split(/:\s+/)).length&&(a[i[0].replace(/^\s+|\s+$/g,"")]=parseInt(i[1]),r=!0));if(!r)return!1;var s=document.documentElement.clientWidth,p=document.documentElement.clientHeight;return!(null!==a["min-width"]&&s<a["min-width"]||null!==a["max-width"]&&s>a["max-width"]||null!==a["min-height"]&&p<a["min-height"]||null!==a["max-height"]&&p>a["max-height"])},navigator.userAgent.match(/MSIE ([0-9]+)/)&&RegExp.$1<9&&(e.newStyle=function(e){var t=document.createElement("span");return t.innerHTML='&nbsp;<style type="text/css">'+e+"</style>",t})},initVars:function(){var t,o,n,i=navigator.userAgent;t="other",o=0,n=[["firefox",/Firefox\/([0-9\.]+)/],["bb",/BlackBerry.+Version\/([0-9\.]+)/],["bb",/BB[0-9]+.+Version\/([0-9\.]+)/],["opera",/OPR\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)/],["edge",/Edge\/([0-9\.]+)/],["safari",/Version\/([0-9\.]+).+Safari/],["chrome",/Chrome\/([0-9\.]+)/],["ie",/MSIE ([0-9]+)/],["ie",/Trident\/.+rv:([0-9]+)/]],e.iterate(n,(function(e,n){return i.match(n[1])?(t=n[0],o=parseFloat(RegExp.$1),!1):void 0})),e.vars.browser=t,e.vars.browserVersion=o,t="other",o=0,n=[["ios",/([0-9_]+) like Mac OS X/,function(e){return e.replace("_",".").replace("_","")}],["ios",/CPU like Mac OS X/,function(e){return 0}],["wp",/Windows Phone ([0-9\.]+)/,null],["android",/Android ([0-9\.]+)/,null],["mac",/Macintosh.+Mac OS X ([0-9_]+)/,function(e){return e.replace("_",".").replace("_","")}],["windows",/Windows NT ([0-9\.]+)/,null],["bb",/BlackBerry.+Version\/([0-9\.]+)/,null],["bb",/BB[0-9]+.+Version\/([0-9\.]+)/,null]],e.iterate(n,(function(e,n){return i.match(n[1])?(t=n[0],o=parseFloat(n[2]?n[2](RegExp.$1):RegExp.$1),!1):void 0})),e.vars.os=t,e.vars.osVersion=o,e.vars.IEVersion="ie"==e.vars.browser?e.vars.browserVersion:99,e.vars.touch="wp"==e.vars.os?navigator.msMaxTouchPoints>0:!!("ontouchstart"in window),e.vars.mobile="wp"==e.vars.os||"android"==e.vars.os||"ios"==e.vars.os||"bb"==e.vars.os}};return e.init(),e}();!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.skel=t()}(this,(function(){return e})),function(t){e.breakpoints({xlarge:"(max-width: 1680px)",large:"(max-width: 1280px)",medium:"(max-width: 980px)",small:"(max-width: 736px)",xsmall:"(max-width: 480px)"}),t((function(){var o,n=t(window),i=t("body");(t("#wrapper"),e.vars.IEVersion<12&&i.addClass("ie"),e.vars.mobile&&i.addClass("touch"),e.canUse("transition"))&&(i.addClass("loading"),n.on("load",(function(){window.setTimeout((function(){i.removeClass("loading")}),100)})),n.on("resize",(function(){window.clearTimeout(o),i.addClass("resizing"),o=window.setTimeout((function(){i.removeClass("resizing")}),100)})));n.scrollTop(0),t("form").placeholder();var a=t(".panel");a.each((function(){var e=t(this),o=t('[href="#'+e.attr("id")+'"]');t('<div class="closer" />').appendTo(e).on("click",(function(t){e.trigger("---hide")})),e.on("click",(function(e){e.stopPropagation()})).on("---toggle",(function(){e.hasClass("active")?e.triggerHandler("---hide"):e.triggerHandler("---show")})).on("---show",(function(){i.hasClass("content-active")&&a.trigger("---hide"),e.addClass("active"),o.addClass("active"),i.addClass("content-active")})).on("---hide",(function(){e.removeClass("active"),o.removeClass("active"),i.removeClass("content-active")})),o.removeAttr("href").css("cursor","pointer").on("click",(function(t){t.preventDefault(),t.stopPropagation(),e.trigger("---toggle")}))})),i.on("click",(function(e){i.hasClass("content-active")&&(e.preventDefault(),e.stopPropagation(),a.trigger("---hide"))})),n.on("keyup",(function(e){27==e.keyCode&&i.hasClass("content-active")&&(e.preventDefault(),e.stopPropagation(),a.trigger("---hide"))})),t("#header").find("a").each((function(){var e=t(this),o=e.attr("href");o&&"#"!=o.charAt(0)&&e.removeAttr("href").css("cursor","pointer").on("click",(function(e){e.preventDefault(),e.stopPropagation(),window.location.href=o}))})),t("#footer").find(".copyright").each((function(){var o=t(this),n=o.parent(),i=n.parent().children().last();e.on("+medium",(function(){o.appendTo(i)})).on("-medium",(function(){o.appendTo(n)}))}));var r=t("#main");r.children(".thumb").each((function(){var o,n=t(this),i=n.find(".image"),a=i.children("img");0!=i.length&&((o=a.data("position"))&&i.css("background-position",o),a.hide(),e.vars.IEVersion<11&&n.css("cursor","pointer").on("click",(function(){i.trigger("click")})))})),r.poptrox({baseZIndex:2e4,caption:function(e){var t="";return e.nextAll().each((function(){t+=this.outerHTML})),t},fadeSpeed:300,onPopupClose:function(){i.removeClass("modal-active")},onPopupOpen:function(){i.addClass("modal-active")},overlayOpacity:0,popupCloserText:"",popupHeight:150,popupLoaderText:"",popupSpeed:300,popupWidth:150,selector:".thumb > a.image",usePopupCaption:!0,usePopupCloser:!0,usePopupDefaultStyling:!1,usePopupForceClose:!0,usePopupLoader:!0,usePopupNav:!0,windowMargin:50}),e.on("-xsmall",(function(){r[0]._poptrox.windowMargin=50})).on("+xsmall",(function(){r[0]._poptrox.windowMargin=0}))}))}(jQuery),function(e){e.fn.poptrox_disableSelection=function(){return e(this).css("user-select","none").css("-khtml-user-select","none").css("-moz-user-select","none").css("-o-user-select","none").css("-webkit-user-select","none")},e.fn.poptrox=function(t){function o(){i=e(window).width(),a=e(window).height()+s.windowHeightPad;var t=Math.abs(r.width()-r.outerWidth()),o=Math.abs(r.height()-r.outerHeight()),n=(x.width(),x.height(),i-2*s.windowMargin-t),p=a-2*s.windowMargin-o;r.css("min-width",s.popupWidth).css("min-height",s.popupHeight),b.children().css("max-width",n).css("max-height",p)}if(0==this.length)return e(this);if(this.length>1){for(var n=0;n<this.length;n++)e(this[n]).poptrox(t);return e(this)}var i,a,r,s=e.extend({preload:!1,baseZIndex:1e3,fadeSpeed:300,overlayColor:"#000000",overlayOpacity:.6,overlayClass:"poptrox-overlay",windowMargin:50,windowHeightPad:0,selector:"a",caption:null,parent:"body",popupSpeed:300,popupWidth:200,popupHeight:100,popupIsFixed:!1,useBodyOverflow:!1,usePopupEasyClose:!0,usePopupForceClose:!1,usePopupLoader:!0,usePopupCloser:!0,usePopupCaption:!1,usePopupNav:!1,usePopupDefaultStyling:!0,popupBackgroundColor:"#FFFFFF",popupTextColor:"#000000",popupLoaderTextSize:"2em",popupCloserBackgroundColor:"#000000",popupCloserTextColor:"#FFFFFF",popupCloserTextSize:"20px",popupPadding:10,popupCaptionHeight:60,popupCaptionTextSize:null,popupBlankCaptionText:"(untitled)",popupCloserText:"&#215;",popupLoaderText:"&bull;&bull;&bull;&bull;",popupClass:"poptrox-popup",popupSelector:null,popupLoaderSelector:".loader",popupCloserSelector:".closer",popupCaptionSelector:".caption",popupNavPreviousSelector:".nav-previous",popupNavNextSelector:".nav-next",onPopupClose:null,onPopupOpen:null},t),p=e(this),l=e("body"),u=e('<div class="'+s.overlayClass+'"></div>'),d=e(window),h=[],f=0,g=!1,v=new Array;s.usePopupLoader||(s.popupLoaderSelector=null),s.usePopupCloser||(s.popupCloserSelector=null),s.usePopupCaption||(s.popupCaptionSelector=null),s.usePopupNav||(s.popupNavPreviousSelector=null,s.popupNavNextSelector=null);var m,w,b=(r=e(s.popupSelector?s.popupSelector:'<div class="'+s.popupClass+'">'+(s.popupLoaderSelector?'<div class="loader">'+s.popupLoaderText+"</div>":"")+'<div class="pic"></div>'+(s.popupCaptionSelector?'<div class="caption"></div>':"")+(s.popupCloserSelector?'<span class="closer">'+s.popupCloserText+"</span>":"")+(s.popupNavPreviousSelector?'<div class="nav-previous"></div>':"")+(s.popupNavNextSelector?'<div class="nav-next"></div>':"")+"</div>")).find(".pic"),x=e(),y=r.find(s.popupLoaderSelector),C=r.find(s.popupCaptionSelector),k=r.find(s.popupCloserSelector),S=r.find(s.popupNavNextSelector),P=r.find(s.popupNavPreviousSelector),T=S.add(P);s.usePopupDefaultStyling&&(r.css("background",s.popupBackgroundColor).css("color",s.popupTextColor).css("padding",s.popupPadding+"px"),C.length>0&&(r.css("padding-bottom",s.popupCaptionHeight+"px"),C.css("position","absolute").css("left","0").css("bottom","0").css("width","100%").css("text-align","center").css("height",s.popupCaptionHeight+"px").css("line-height",s.popupCaptionHeight+"px"),s.popupCaptionTextSize&&C.css("font-size",popupCaptionTextSize)),k.length>0&&k.html(s.popupCloserText).css("font-size",s.popupCloserTextSize).css("background",s.popupCloserBackgroundColor).css("color",s.popupCloserTextColor).css("display","block").css("width","40px").css("height","40px").css("line-height","40px").css("text-align","center").css("position","absolute").css("text-decoration","none").css("outline","0").css("top","0").css("right","-40px"),y.length>0&&y.html("").css("position","relative").css("font-size",s.popupLoaderTextSize).on("startSpinning",(function(t){var o=e("<div>"+s.popupLoaderText+"</div>");o.css("height",Math.floor(s.popupHeight/2)+"px").css("overflow","hidden").css("line-height",Math.floor(s.popupHeight/2)+"px").css("text-align","center").css("margin-top",Math.floor((r.height()-o.height()+(C.length>0?C.height():0))/2)).css("color",s.popupTextColor?s.popupTextColor:"").on("xfin",(function(){o.fadeTo(300,.5,(function(){o.trigger("xfout")}))})).on("xfout",(function(){o.fadeTo(300,.05,(function(){o.trigger("xfin")}))})).trigger("xfin"),y.append(o)})).on("stopSpinning",(function(e){y.find("div").remove()})),2==T.length)&&(T.css("font-size","75px").css("text-align","center").css("color","#fff").css("text-shadow","none").css("height","100%").css("position","absolute").css("top","0").css("opacity","0.35").css("cursor","pointer").css("box-shadow","inset 0px 0px 10px 0px rgba(0,0,0,0)").poptrox_disableSelection(),s.usePopupEasyClose?(m="100px",w="100px"):(m="75%",w="25%"),S.css("right","0").css("width",m).html('<div style="position: absolute; height: 100px; width: 125px; top: 50%; right: 0; margin-top: -50px;">&gt;</div>'),P.css("left","0").css("width",w).html('<div style="position: absolute; height: 100px; width: 125px; top: 50%; left: 0; margin-top: -50px;">&lt;</div>'));return d.on("resize orientationchange",(function(){o()})),C.on("update",(function(e,t){t&&0!=t.length||(t=s.popupBlankCaptionText),C.html(t)})),k.css("cursor","pointer").on("click",(function(e){return e.preventDefault(),e.stopPropagation(),r.trigger("poptrox_close"),!0})),S.on("click",(function(e){e.stopPropagation(),e.preventDefault(),r.trigger("poptrox_next")})),P.on("click",(function(e){e.stopPropagation(),e.preventDefault(),r.trigger("poptrox_previous")})),u.css("position","fixed").css("left",0).css("top",0).css("z-index",s.baseZIndex).css("width","100%").css("height","100%").css("text-align","center").css("cursor","pointer").appendTo(s.parent).prepend('<div style="display:inline-block;height:100%;vertical-align:middle;"></div>').append('<div style="position:absolute;left:0;top:0;width:100%;height:100%;background:'+s.overlayColor+";opacity:"+s.overlayOpacity+";filter:alpha(opacity="+100*s.overlayOpacity+');"></div>').hide().on("touchmove",(function(e){return!1})).on("click",(function(e){e.preventDefault(),e.stopPropagation(),r.trigger("poptrox_close")})),r.css("display","inline-block").css("vertical-align","middle").css("position","relative").css("z-index",1).css("cursor","auto").appendTo(u).hide().on("poptrox_next",(function(){var e=f+1;e>=h.length&&(e=0),r.trigger("poptrox_switch",[e])})).on("poptrox_previous",(function(){var e=f-1;0>e&&(e=h.length-1),r.trigger("poptrox_switch",[e])})).on("poptrox_reset",(function(){o(),r.data("width",s.popupWidth).data("height",s.popupHeight),y.hide().trigger("stopSpinning"),C.hide(),k.hide(),T.hide(),b.hide(),x.attr("src","").detach()})).on("poptrox_open",(function(e,t){return!!g||(g=!0,s.useBodyOverflow&&l.css("overflow","hidden"),s.onPopupOpen&&s.onPopupOpen(),r.addClass("loading"),void u.fadeTo(s.fadeSpeed,1,(function(){r.trigger("poptrox_switch",[t,!0])})))})).on("poptrox_switch",(function(t,n,i){var a,p,c;if(!i&&g)return!0;(g=!0,r.addClass("loading").css("width",r.data("width")).css("height",r.data("height")),C.hide(),x.attr("src")&&x.attr("src",""),x.detach(),a=h[n],(x=a.object).off("load"),b.css("text-indent","-9999px").show().append(x),"ajax"==a.type?e.get(a.src,(function(e){x.html(e),x.trigger("load")})):x.attr("src",a.src),"image"!=a.type)&&(p=a.width,c=a.height,"%"==p.slice(-1)&&(p=parseInt(p.substring(0,p.length-1))/100*d.width()),"%"==c.slice(-1)&&(c=parseInt(c.substring(0,c.length-1))/100*d.height()),x.css("position","relative").css("outline","0").css("z-index",s.baseZIndex+100).width(p).height(c));y.trigger("startSpinning").fadeIn(300),r.show(),s.popupIsFixed?(r.removeClass("loading").width(s.popupWidth).height(s.popupHeight),x.load((function(){x.off("load"),y.hide().trigger("stopSpinning"),C.trigger("update",[a.captionText]).fadeIn(s.fadeSpeed),k.fadeIn(s.fadeSpeed),b.css("text-indent",0).hide().fadeIn(s.fadeSpeed,(function(){g=!1})),f=n,T.fadeIn(s.fadeSpeed)}))):x.load((function(){o(),x.off("load"),y.hide().trigger("stopSpinning");var e=x.width(),t=x.height(),i=function(){C.trigger("update",[a.captionText]).fadeIn(s.fadeSpeed),k.fadeIn(s.fadeSpeed),b.css("text-indent",0).hide().fadeIn(s.fadeSpeed,(function(){g=!1})),f=n,T.fadeIn(s.fadeSpeed),r.removeClass("loading").data("width",e).data("height",t).css("width","auto").css("height","auto")};e==r.data("width")&&t==r.data("height")?i():r.animate({width:e,height:t},s.popupSpeed,"swing",i)})),"image"!=a.type&&x.trigger("load")})).on("poptrox_close",(function(){return!(!g||s.usePopupForceClose)||(g=!0,r.hide().trigger("poptrox_reset"),s.onPopupClose&&s.onPopupClose(),void u.fadeOut(s.fadeSpeed,(function(){s.useBodyOverflow&&l.css("overflow","auto"),g=!1})))})).trigger("poptrox_reset"),s.usePopupEasyClose?(C.on("click","a",(function(e){e.stopPropagation()})),r.css("cursor","pointer").on("click",(function(e){e.stopPropagation(),e.preventDefault(),r.trigger("poptrox_close")}))):r.on("click",(function(e){e.stopPropagation()})),d.keydown((function(e){if(r.is(":visible"))switch(e.keyCode){case 37:case 32:if(s.usePopupNav)return r.trigger("poptrox_previous"),!1;break;case 39:if(s.usePopupNav)return r.trigger("poptrox_next"),!1;break;case 27:return r.trigger("poptrox_close"),!1}})),p.find(s.selector).each((function(t){var o,n=e(this),i=n.find("img"),a=n.data("poptrox");if("ignore"!=a&&n.attr("href")){var p;if(o={src:n.attr("href"),captionText:i.attr("title"),width:null,height:null,type:null,object:null,options:null},s.caption){if("function"==typeof s.caption)c=s.caption(n);else if("selector"in s.caption)p=n.find(s.caption.selector),"attribute"in s.caption?c=p.attr(s.caption.attribute):(c=p.html(),!0===s.caption.remove&&p.remove())}else c=i.attr("title");if(o.captionText=c,a){var l=a.split(",");0 in l&&(o.type=l[0]),1 in l&&((u=l[1].match(/([0-9%]+)x([0-9%]+)/))&&3==u.length&&(o.width=u[1],o.height=u[2])),2 in l&&(o.options=l[2])}if(!o.type)switch((!(u=o.src.match(/\/\/([a-z0-9\.]+)\/.*/))||u.length<2)&&(u=[!1]),u[1]){case"api.soundcloud.com":o.type="soundcloud";break;case"youtu.be":o.type="youtube";break;case"vimeo.com":o.type="vimeo";break;case"wistia.net":o.type="wistia";break;case"bcove.me":o.type="bcove";break;default:o.type="image"}switch(u=o.src.match(/\/\/[a-z0-9\.]+\/(.*)/),o.type){case"iframe":o.object=e('<iframe src="" frameborder="0"></iframe>'),o.object.on("click",(function(e){e.stopPropagation()})).css("cursor","auto"),o.width&&o.height||(o.width="600",o.height="400");break;case"ajax":o.object=e('<div class="poptrox-ajax"></div>'),o.object.on("click",(function(e){e.stopPropagation()})).css("cursor","auto").css("overflow","auto"),o.width&&o.height||(o.width="600",o.height="400");break;case"soundcloud":o.object=e('<iframe scrolling="no" frameborder="no" src=""></iframe>'),o.src="//w.soundcloud.com/player/?url="+escape(o.src)+(o.options?"&"+o.options:""),o.width="600",o.height="166";break;case"youtube":o.object=e('<iframe src="" frameborder="0" allowfullscreen="1"></iframe>'),o.src="//www.youtube.com/embed/"+u[1]+(o.options?"?"+o.options:""),o.width&&o.height||(o.width="800",o.height="480");break;case"vimeo":o.object=e('<iframe src="" frameborder="0" allowFullScreen="1"></iframe>'),o.src="//player.vimeo.com/video/"+u[1]+(o.options?"?"+o.options:""),o.width&&o.height||(o.width="800",o.height="480");break;case"wistia":o.object=e('<iframe src="" frameborder="0" allowFullScreen="1"></iframe>'),o.src="//fast.wistia.net/"+u[1]+(o.options?"?"+o.options:""),o.width&&o.height||(o.width="800",o.height="480");break;case"bcove":o.object=e('<iframe src="" frameborder="0" allowFullScreen="1" width="100%"></iframe>'),o.src="//bcove.me/"+u[1]+(o.options?"?"+o.options:""),o.width&&o.height||(o.width="640",o.height="360");break;default:var u;if(o.object=e('<img src="" alt="" style="vertical-align:bottom" />'),s.preload)(u=document.createElement("img")).src=o.src,v.push(u);o.width=n.attr("width"),o.height=n.attr("height")}"file:"==window.location.protocol&&o.src.match(/^\/\//)&&(o.src="http:"+o.src),h.push(o),i.removeAttr("title"),n.removeAttr("href").css("cursor","pointer").css("outline",0).on("click",(function(e){e.preventDefault(),e.stopPropagation(),r.trigger("poptrox_open",[t])}))}})),p.prop("_poptrox",s),p}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}((function(e){var t=e.event.dispatch||e.event.handle,o=e.event.special,n="D"+ +new Date,i="D"+(+new Date+1);o.scrollstart={setup:function(i){var a,r=e.extend({latency:o.scrollstop.latency},i),s=function(e){var o=arguments;a?clearTimeout(a):(e.type="scrollstart",t.apply(this,o)),a=setTimeout((function(){a=null}),r.latency)};e(this).bind("scroll",s).data(n,s)},teardown:function(){e(this).unbind("scroll",e(this).data(n))}},o.scrollstop={latency:250,setup:function(n){var a,r=e.extend({latency:o.scrollstop.latency},n),s=function(e){var o=this,n=arguments;a&&clearTimeout(a),a=setTimeout((function(){a=null,e.type="scrollstop",t.apply(o,n)}),r.latency)};e(this).bind("scroll",s).data(i,s)},teardown:function(){e(this).unbind("scroll",e(this).data(i))}}}));