/**!
 * lg-autoplay.js | 0.0.1 | August 1st 2016
 * http://sachinchoolur.github.io/lg-autoplay.js
 * Copyright (c) 2016 Sachin N; 
 * @license Apache 2.0 
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).LgAutoplay=t()}}((function(){return function e(t,r,l){function s(u,i){if(!r[u]){if(!t[u]){var c="function"==typeof require&&require;if(!i&&c)return c(u,!0);if(n)return n(u,!0);var a=new Error("Cannot find module '"+u+"'");throw a.code="MODULE_NOT_FOUND",a}var p=r[u]={exports:{}};t[u][0].call(p.exports,(function(r){var l=t[u][1][r];return s(l||r)}),p,p.exports,e,t,r,l)}return r[u].exports}for(var n="function"==typeof require&&require,u=0;u<l.length;u++)s(l[u]);return s}({1:[function(t,r,l){!function(t,r){if(void 0!==l)r();else{r(),t.lgAutoplay={}}}(this,(function(){"use strict";var t=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var l=arguments[r];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n])}return t},r={autoplay:!1,pause:5e3,progressBar:!0,fourceAutoplay:!1,autoplayControls:!0,appendAutoplayControlsTo:".lg-toolbar"},o=function(l){return this.el=l,this.core=window.lgData[this.el.getAttribute("lg-uid")],!(this.core.items.length<2)&&(this.core.s=t({},r,this.core.s),this.interval=!1,this.fromAuto=!0,this.canceledOnTouch=!1,this.fourceAutoplayTemp=this.core.s.fourceAutoplay,this.core.doCss()||(this.core.s.progressBar=!1),this.init(),this)};o.prototype.init=function(){var t=this;t.core.s.autoplayControls&&t.controls(),t.core.s.progressBar&&t.core.outer.querySelector(".lg").insertAdjacentHTML("beforeend",'<div class="lg-progress-bar"><div class="lg-progress"></div></div>'),t.progress(),t.core.s.autoplay&&t.startlAuto(),utils.on(t.el,"onDragstart.lgtm touchstart.lgtm",(function(){t.interval&&(t.cancelAuto(),t.canceledOnTouch=!0)})),utils.on(t.el,"onDragend.lgtm touchend.lgtm onSlideClick.lgtm",(function(){!t.interval&&t.canceledOnTouch&&(t.startlAuto(),t.canceledOnTouch=!1)}))},o.prototype.progress=function(){var t,r,l=this;utils.on(l.el,"onBeforeSlide.lgtm",(function(){l.core.s.progressBar&&l.fromAuto&&(t=l.core.outer.querySelector(".lg-progress-bar"),r=l.core.outer.querySelector(".lg-progress"),l.interval&&(r.removeAttribute("style"),utils.removeClass(t,"lg-start"),setTimeout((function(){utils.setVendor(r,"Transition","width "+(l.core.s.speed+l.core.s.pause)+"ms ease 0s"),utils.addClass(t,"lg-start")}),20))),l.fromAuto||l.core.s.fourceAutoplay||l.cancelAuto(),l.fromAuto=!1}))},o.prototype.controls=function(){var t=this;t.core.outer.querySelector(this.core.s.appendAutoplayControlsTo).insertAdjacentHTML("beforeend",'<span class="lg-autoplay-button lg-icon"></span>'),utils.on(t.core.outer.querySelector(".lg-autoplay-button"),"click.lg",(function(){utils.hasClass(t.core.outer,"lg-show-autoplay")?(t.cancelAuto(),t.core.s.fourceAutoplay=!1):t.interval||(t.startlAuto(),t.core.s.fourceAutoplay=t.fourceAutoplayTemp)}))},o.prototype.startlAuto=function(){var t=this;utils.setVendor(t.core.outer.querySelector(".lg-progress"),"Transition","width "+(t.core.s.speed+t.core.s.pause)+"ms ease 0s"),utils.addClass(t.core.outer,"lg-show-autoplay"),utils.addClass(t.core.outer.querySelector(".lg-progress-bar"),"lg-start"),t.interval=setInterval((function(){t.core.index+1<t.core.items.length?t.core.index++:t.core.index=0,t.fromAuto=!0,t.core.slide(t.core.index,!1,!1)}),t.core.s.speed+t.core.s.pause)},o.prototype.cancelAuto=function(){clearInterval(this.interval),this.interval=!1,this.core.outer.querySelector(".lg-progress")&&this.core.outer.querySelector(".lg-progress").removeAttribute("style"),utils.removeClass(this.core.outer,"lg-show-autoplay"),utils.removeClass(this.core.outer.querySelector(".lg-progress-bar"),"lg-start")},o.prototype.destroy=function(){this.cancelAuto(),this.core.outer.querySelector(".lg-progress-bar")&&this.core.outer.querySelector(".lg-progress-bar").parentNode.removeChild(this.core.outer.querySelector(".lg-progress-bar"))},window.lgModules.autoplay=o}))},{}]},{},[1])(1)}));