document.addEventListener("DOMContentLoaded",(()=>{"use strict";const doSaveScroll=()=>{localStorage.setItem("bookmark"+location.pathname,window.scrollY)},scrollToMark=()=>{let e=localStorage.getItem("bookmark"+location.pathname);e=parseInt(e,10),isNaN(e)||""!==location.hash||window.anime({targets:document.scrollingElement,duration:200,easing:"linear",scrollTop:e})};!function(e){const t=document.querySelector(".book-mark-link");window.addEventListener("scroll",(()=>t.classList.toggle("book-mark-link-fixed",0===window.scrollY)),{passive:!0}),"auto"===e&&(window.addEventListener("beforeunload",doSaveScroll),document.addEventListener("pjax:send",doSaveScroll)),t.addEventListener("click",(()=>{doSaveScroll(),window.anime({targets:t,duration:200,easing:"linear",top:-30,complete:()=>{setTimeout((()=>{t.style.top=""}),400)}})})),scrollToMark(),document.addEventListener("pjax:success",scrollToMark)}(CONFIG.bookmark.save)}));